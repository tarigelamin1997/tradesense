import{S as Ns,i as Us,s as zs,n as Q,d as c,j as hs,f as S,h as a,D as o,k as d,l as v,o as C,q as h,r as I,e as L,p as $,v as T,m as z,H as Ke,_ as ye,M as R,$ as ke,y as Oe,t as W,a as J,I as jl,z as We,G as Fs,A as Ye,B as Ze,w as Rs,J as Al}from"../chunks/Lbc7qOuA.js";import{e as O}from"../chunks/BPb2qfkA.js";import"../chunks/IHki7fMi.js";import{a as qs}from"../chunks/DL1kKP1L.js";import{I as xt}from"../chunks/B3HFKiyR.js";import{a as Gs}from"../chunks/JY17dVjL.js";function _s(r,e,l){const t=r.slice();return t[12]=e[l],t[14]=l,t}function vs(r,e,l){const t=r.slice();return t[15]=e[l],t[14]=l,t}function ms(r,e,l){const t=r.slice();return t[15]=e[l],t[14]=l,t}function gs(r,e,l){const t=r.slice();return t[15]=e[l],t[14]=l,t}function ps(r,e,l){const t=r.slice();return t[12]=e[l],t[14]=l,t}function bs(r){let e,l;return{c(){e=h("h3"),l=T(r[0]),this.h()},l(t){e=d(t,"H3",{class:!0});var s=v(e);l=$(s,r[0]),s.forEach(c),this.h()},h(){o(e,"class","chart-title svelte-1bl28an")},m(t,s){S(t,e,s),a(e,l)},p(t,s){s&1&&L(l,t[0])},d(t){t&&c(e)}}}function Js(r){let e,l,t,s,i,n,b,k=O(Array(5)),w=[];for(let f=0;f<k.length;f+=1)w[f]=ys(ps(r,k,f));let g=r[2]==="area"&&ks(r),p=(r[2]==="line"||r[2]==="area")&&Es(r),E=r[2]==="bar"&&xs(r),V=(r[2]==="line"||r[2]==="area")&&Cs(r),M=O(r[1]),_=[];for(let f=0;f<M.length;f+=1)_[f]=Vs(vs(r,M,f));let D=O(Array(5)),x=[];for(let f=0;f<D.length;f+=1)x[f]=Ps(_s(r,D,f));return{c(){e=ke("svg");for(let f=0;f<w.length;f+=1)w[f].c();l=R(),g&&g.c(),t=R(),p&&p.c(),s=R(),E&&E.c(),i=R(),V&&V.c(),n=R();for(let f=0;f<_.length;f+=1)_[f].c();b=R();for(let f=0;f<x.length;f+=1)x[f].c();this.h()},l(f){e=ye(f,"svg",{viewBox:!0,class:!0});var y=v(e);for(let u=0;u<w.length;u+=1)w[u].l(y);l=R(),g&&g.l(y),t=R(),p&&p.l(y),s=R(),E&&E.l(y),i=R(),V&&V.l(y),n=R();for(let u=0;u<_.length;u+=1)_[u].l(y);b=R();for(let u=0;u<x.length;u+=1)x[u].l(y);y.forEach(c),this.h()},h(){o(e,"viewBox","0 0 "+Nl+" "+K),o(e,"class","chart svelte-1bl28an")},m(f,y){S(f,e,y);for(let u=0;u<w.length;u+=1)w[u]&&w[u].m(e,null);a(e,l),g&&g.m(e,null),a(e,t),p&&p.m(e,null),a(e,s),E&&E.m(e,null),a(e,i),V&&V.m(e,null),a(e,n);for(let u=0;u<_.length;u+=1)_[u]&&_[u].m(e,null);a(e,b);for(let u=0;u<x.length;u+=1)x[u]&&x[u].m(e,null)},p(f,y){if(y&0){k=O(Array(5));let u;for(u=0;u<k.length;u+=1){const j=ps(f,k,u);w[u]?w[u].p(j,y):(w[u]=ys(j),w[u].c(),w[u].m(e,l))}for(;u<w.length;u+=1)w[u].d(1);w.length=k.length}if(f[2]==="area"?g?g.p(f,y):(g=ks(f),g.c(),g.m(e,t)):g&&(g.d(1),g=null),f[2]==="line"||f[2]==="area"?p?p.p(f,y):(p=Es(f),p.c(),p.m(e,s)):p&&(p.d(1),p=null),f[2]==="bar"?E?E.p(f,y):(E=xs(f),E.c(),E.m(e,i)):E&&(E.d(1),E=null),f[2]==="line"||f[2]==="area"?V?V.p(f,y):(V=Cs(f),V.c(),V.m(e,n)):V&&(V.d(1),V=null),y&34){M=O(f[1]);let u;for(u=0;u<M.length;u+=1){const j=vs(f,M,u);_[u]?_[u].p(j,y):(_[u]=Vs(j),_[u].c(),_[u].m(e,b))}for(;u<_.length;u+=1)_[u].d(1);_.length=M.length}if(y&768){D=O(Array(5));let u;for(u=0;u<D.length;u+=1){const j=_s(f,D,u);x[u]?x[u].p(j,y):(x[u]=Ps(j),x[u].c(),x[u].m(e,null))}for(;u<x.length;u+=1)x[u].d(1);x.length=D.length}},d(f){f&&c(e),Ke(w,f),g&&g.d(),p&&p.d(),E&&E.d(),V&&V.d(),Ke(_,f),Ke(x,f)}}}function Os(r){let e,l="No data available";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1y0ij46"&&(e.textContent=l),this.h()},h(){o(e,"class","empty svelte-1bl28an")},m(t,s){S(t,e,s)},p:Q,d(t){t&&c(e)}}}function Ws(r){let e,l="Loading chart data...";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-102b9ph"&&(e.textContent=l),this.h()},h(){o(e,"class","loading svelte-1bl28an")},m(t,s){S(t,e,s)},p:Q,d(t){t&&c(e)}}}function ys(r){let e;return{c(){e=ke("line"),this.h()},l(l){e=ye(l,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),v(e).forEach(c),this.h()},h(){o(e,"x1",B),o(e,"x2",Nl-B),o(e,"y1",B+r[14]*(K-2*B)/4),o(e,"y2",B+r[14]*(K-2*B)/4),o(e,"stroke","#e5e7eb"),o(e,"stroke-width","1")},m(l,t){S(l,e,t)},p:Q,d(l){l&&c(e)}}}function ks(r){let e;return{c(){e=ke("path"),this.h()},l(l){e=ye(l,"path",{d:!0,fill:!0}),v(e).forEach(c),this.h()},h(){o(e,"d",r[10]),o(e,"fill","rgba(59, 130, 246, 0.1)")},m(l,t){S(l,e,t)},p(l,t){t&1024&&o(e,"d",l[10])},d(l){l&&c(e)}}}function Es(r){let e;return{c(){e=ke("path"),this.h()},l(l){e=ye(l,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),v(e).forEach(c),this.h()},h(){o(e,"d",r[6]),o(e,"fill","none"),o(e,"stroke","#3b82f6"),o(e,"stroke-width","2")},m(l,t){S(l,e,t)},p(l,t){t&64&&o(e,"d",l[6])},d(l){l&&c(e)}}}function xs(r){let e,l=O(r[1]),t=[];for(let s=0;s<l.length;s+=1)t[s]=Ds(gs(r,l,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=R()},l(s){for(let i=0;i<t.length;i+=1)t[i].l(s);e=R()},m(s,i){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(s,i);S(s,e,i)},p(s,i){if(i&162){l=O(s[1]);let n;for(n=0;n<l.length;n+=1){const b=gs(s,l,n);t[n]?t[n].p(b,i):(t[n]=Ds(b),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(s){s&&c(e),Ke(t,s)}}}function Ds(r){let e,l,t,s;return{c(){e=ke("rect"),this.h()},l(i){e=ye(i,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,opacity:!0}),v(e).forEach(c),this.h()},h(){o(e,"x",l=r[5](r[14])-10),o(e,"y",t=r[7](r[15].value||0)),o(e,"width","20"),o(e,"height",s=K-B-r[7](r[15].value||0)),o(e,"fill","#3b82f6"),o(e,"opacity","0.8")},m(i,n){S(i,e,n)},p(i,n){n&32&&l!==(l=i[5](i[14])-10)&&o(e,"x",l),n&130&&t!==(t=i[7](i[15].value||0))&&o(e,"y",t),n&130&&s!==(s=K-B-i[7](i[15].value||0))&&o(e,"height",s)},d(i){i&&c(e)}}}function Cs(r){let e,l=O(r[1]),t=[];for(let s=0;s<l.length;s+=1)t[s]=Is(ms(r,l,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=R()},l(s){for(let i=0;i<t.length;i+=1)t[i].l(s);e=R()},m(s,i){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(s,i);S(s,e,i)},p(s,i){if(i&162){l=O(s[1]);let n;for(n=0;n<l.length;n+=1){const b=ms(s,l,n);t[n]?t[n].p(b,i):(t[n]=Is(b),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(s){s&&c(e),Ke(t,s)}}}function Is(r){let e,l,t;return{c(){e=ke("circle"),this.h()},l(s){e=ye(s,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),v(e).forEach(c),this.h()},h(){o(e,"cx",l=r[5](r[14])),o(e,"cy",t=r[7](r[15].value||0)),o(e,"r","4"),o(e,"fill","#3b82f6")},m(s,i){S(s,e,i)},p(s,i){i&32&&l!==(l=s[5](s[14]))&&o(e,"cx",l),i&130&&t!==(t=s[7](s[15].value||0))&&o(e,"cy",t)},d(s){s&&c(e)}}}function ws(r){let e,l=(r[15].label||"")+"",t,s;return{c(){e=ke("text"),t=T(l),this.h()},l(i){e=ye(i,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,fill:!0});var n=v(e);t=$(n,l),n.forEach(c),this.h()},h(){o(e,"x",s=r[5](r[14])),o(e,"y",K-10),o(e,"text-anchor","middle"),o(e,"font-size","12"),o(e,"fill","#6b7280")},m(i,n){S(i,e,n),a(e,t)},p(i,n){n&2&&l!==(l=(i[15].label||"")+"")&&L(t,l),n&32&&s!==(s=i[5](i[14]))&&o(e,"x",s)},d(i){i&&c(e)}}}function Vs(r){let e=r[14]%Math.ceil(r[1].length/5)===0||r[14]===r[1].length-1,l,t=e&&ws(r);return{c(){t&&t.c(),l=R()},l(s){t&&t.l(s),l=R()},m(s,i){t&&t.m(s,i),S(s,l,i)},p(s,i){i&2&&(e=s[14]%Math.ceil(s[1].length/5)===0||s[14]===s[1].length-1),e?t?t.p(s,i):(t=ws(s),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},d(s){s&&c(l),t&&t.d(s)}}}function Ps(r){let e,l=Math.round(r[9]-r[14]*r[8]/4)+"",t;return{c(){e=ke("text"),t=T(l),this.h()},l(s){e=ye(s,"text",{x:!0,y:!0,"text-anchor":!0,"dominant-baseline":!0,"font-size":!0,fill:!0});var i=v(e);t=$(i,l),i.forEach(c),this.h()},h(){o(e,"x",B-10),o(e,"y",B+r[14]*(K-2*B)/4),o(e,"text-anchor","end"),o(e,"dominant-baseline","middle"),o(e,"font-size","12"),o(e,"fill","#6b7280")},m(s,i){S(s,e,i),a(e,t)},p(s,i){i&768&&l!==(l=Math.round(s[9]-s[14]*s[8]/4)+"")&&L(t,l)},d(s){s&&c(e)}}}function Ys(r){let e,l,t=r[0]&&bs(r);function s(b,k){return b[4]?Ws:b[1].length===0?Os:Js}let i=s(r),n=i(r);return{c(){e=h("div"),t&&t.c(),l=I(),n.c(),this.h()},l(b){e=d(b,"DIV",{class:!0,style:!0});var k=v(e);t&&t.l(k),l=C(k),n.l(k),k.forEach(c),this.h()},h(){o(e,"class","chart-container svelte-1bl28an"),hs(e,"height",r[3])},m(b,k){S(b,e,k),t&&t.m(e,null),a(e,l),n.m(e,null)},p(b,[k]){b[0]?t?t.p(b,k):(t=bs(b),t.c(),t.m(e,l)):t&&(t.d(1),t=null),i===(i=s(b))&&n?n.p(b,k):(n.d(1),n=i(b),n&&(n.c(),n.m(e,null))),k&8&&hs(e,"height",b[3])},i:Q,o:Q,d(b){b&&c(e),t&&t.d(),n.d()}}}let Nl=600,K=250,B=40;function Zs(r,e,l){let t,s,i,n,b,k,w,{title:g=""}=e,{data:p=[]}=e,{type:E="line"}=e,{height:V="300px"}=e,{loading:M=!1}=e;return r.$$set=_=>{"title"in _&&l(0,g=_.title),"data"in _&&l(1,p=_.data),"type"in _&&l(2,E=_.type),"height"in _&&l(3,V=_.height),"loading"in _&&l(4,M=_.loading)},r.$$.update=()=>{r.$$.dirty&2&&l(9,t=Math.max(...p.map(_=>_.value||0),0)||100),r.$$.dirty&2&&l(11,s=Math.min(...p.map(_=>_.value||0),0)),r.$$.dirty&2560&&l(8,i=t-s||1),r.$$.dirty&2&&l(5,n=_=>p.length<=1?B:B+_/(p.length-1)*(Nl-2*B)),r.$$.dirty&2304&&l(7,b=_=>K-B-(_-s)/i*(K-2*B)),r.$$.dirty&162&&l(6,k=p.map((_,D)=>{const x=n(D),f=b(_.value||0);return`${D===0?"M":"L"} ${x} ${f}`}).join(" ")),r.$$.dirty&98&&l(10,w=p.length>0?`${k} L ${n(p.length-1)} ${K-B} L ${B} ${K-B} Z`:"")},[g,p,E,V,M,n,k,b,i,t,w,s]}class Bs extends Ns{constructor(e){super(),Us(this,e,Zs,Ys,zs,{title:0,data:1,type:2,height:3,loading:4})}}function $s(r,e,l){const t=r.slice();return t[7]=e[l],t}function Ts(r,e,l){const t=r.slice();return t[10]=e[l],t}function Ks(r){let e,l,t,s,i,n="Total Users",b,k,w=te(r[0].users.total)+"",g,p,E,V,M=r[0].users.new_7d+"",_,D,x,f,y,u,j,A,H,X,Ee="Monthly Revenue",Qe,le,de=As(r[0].subscriptions.total_mrr)+"",xe,Xe,De,_t=r[0].users.paid+"",Dt,tl,ll,et,Ce,sl,tt,he,se,Ie,Ul="Active Today",rl,lt,vt=te(r[0].users.active_24h)+"",Ct,al,we,mt=Math.round(r[0].users.active_24h/r[0].users.total*100)+"",It,nl,il,st,Ve,ol,rt,_e,re,Pe,zl="System Health",cl,$e,gt=r[0].system.avg_response_time_ms+"",wt,fl,ul,ve,pt=r[0].system.errors_1h+"",Vt,dl,Pt,hl,Te,me,$t,Tt,ae,ne,Me,Bl="User Growth",_l,vl,ie,Se,Fl="Subscription Breakdown",ml,Mt,oe,ge,He,Rl="Recent Signups",gl,at,pe,nt,ql="<tr><th>User</th> <th>Plan</th> <th>Joined</th></tr>",pl,Le,bl,ce,je,Gl="Recent Issues",yl,St,fe,Ae,Jl="System Statistics",kl,Y,Ne,Ue,Ol="API Requests (1h)",El,it,bt=te(r[0].system.api_requests_1h)+"",Ht,xl,ze,Be,Wl="Database Size",Dl,Fe,yt=r[0].system.database_size_mb.toFixed(1)+"",Lt,Cl,Il,Re,qe,Yl="Total Trades",wl,ot,kt=te(r[0].trades.total)+"",jt,Vl,Ge,Je,Zl="Trades Today",Pl,ct,Et=te(r[0].trades.trades_24h)+"",At,F;y=new xt({props:{name:"users",class:"w-6 h-6 text-indigo-600"}}),Ce=new xt({props:{name:"currency-dollar",class:"w-6 h-6 text-green-600"}}),Ve=new xt({props:{name:"activity",class:"w-6 h-6 text-purple-600"}}),me=new xt({props:{name:"heart",class:"w-6 h-6 "+(r[0].system.errors_1h>10?"text-red-600":"text-green-600")}});let N=r[3]&&Ms(r),U=r[4]&&Ss(r),ft=O(r[0].recent_signups),q=[];for(let m=0;m<ft.length;m+=1)q[m]=Hs(Ts(r,ft,m));function Kl(m,P){return m[0].recent_issues.length>0?tr:er}let Nt=Kl(r),Z=Nt(r);return{c(){e=h("div"),l=h("div"),t=h("div"),s=h("div"),i=h("p"),i.textContent=n,b=I(),k=h("p"),g=T(w),p=I(),E=h("p"),V=T("+"),_=T(M),D=T(" this week"),x=I(),f=h("div"),Ze(y.$$.fragment),u=I(),j=h("div"),A=h("div"),H=h("div"),X=h("p"),X.textContent=Ee,Qe=I(),le=h("p"),xe=T(de),Xe=I(),De=h("p"),Dt=T(_t),tl=T(" paid users"),ll=I(),et=h("div"),Ze(Ce.$$.fragment),sl=I(),tt=h("div"),he=h("div"),se=h("div"),Ie=h("p"),Ie.textContent=Ul,rl=I(),lt=h("p"),Ct=T(vt),al=I(),we=h("p"),It=T(mt),nl=T("% of total"),il=I(),st=h("div"),Ze(Ve.$$.fragment),ol=I(),rt=h("div"),_e=h("div"),re=h("div"),Pe=h("p"),Pe.textContent=zl,cl=I(),$e=h("p"),wt=T(gt),fl=T("ms"),ul=I(),ve=h("p"),Vt=T(pt),dl=T(" errors/hr"),hl=I(),Te=h("div"),Ze(me.$$.fragment),Tt=I(),ae=h("div"),ne=h("div"),Me=h("h3"),Me.textContent=Bl,_l=I(),N&&N.c(),vl=I(),ie=h("div"),Se=h("h3"),Se.textContent=Fl,ml=I(),U&&U.c(),Mt=I(),oe=h("div"),ge=h("div"),He=h("h3"),He.textContent=Rl,gl=I(),at=h("div"),pe=h("table"),nt=h("thead"),nt.innerHTML=ql,pl=I(),Le=h("tbody");for(let m=0;m<q.length;m+=1)q[m].c();bl=I(),ce=h("div"),je=h("h3"),je.textContent=Gl,yl=I(),Z.c(),St=I(),fe=h("div"),Ae=h("h3"),Ae.textContent=Jl,kl=I(),Y=h("div"),Ne=h("div"),Ue=h("p"),Ue.textContent=Ol,El=I(),it=h("p"),Ht=T(bt),xl=I(),ze=h("div"),Be=h("p"),Be.textContent=Wl,Dl=I(),Fe=h("p"),Lt=T(yt),Cl=T(" MB"),Il=I(),Re=h("div"),qe=h("p"),qe.textContent=Yl,wl=I(),ot=h("p"),jt=T(kt),Vl=I(),Ge=h("div"),Je=h("p"),Je.textContent=Zl,Pl=I(),ct=h("p"),At=T(Et),this.h()},l(m){e=d(m,"DIV",{class:!0});var P=v(e);l=d(P,"DIV",{class:!0});var ee=v(l);t=d(ee,"DIV",{class:!0});var G=v(t);s=d(G,"DIV",{});var ue=v(s);i=d(ue,"P",{class:!0,"data-svelte-h":!0}),z(i)!=="svelte-4h7j7a"&&(i.textContent=n),b=C(ue),k=d(ue,"P",{class:!0});var Ql=v(k);g=$(Ql,w),Ql.forEach(c),p=C(ue),E=d(ue,"P",{class:!0});var Ut=v(E);V=$(Ut,"+"),_=$(Ut,M),D=$(Ut," this week"),Ut.forEach(c),ue.forEach(c),x=C(G),f=d(G,"DIV",{class:!0});var Xl=v(f);Ye(y.$$.fragment,Xl),Xl.forEach(c),G.forEach(c),ee.forEach(c),u=C(P),j=d(P,"DIV",{class:!0});var es=v(j);A=d(es,"DIV",{class:!0});var zt=v(A);H=d(zt,"DIV",{});var ut=v(H);X=d(ut,"P",{class:!0,"data-svelte-h":!0}),z(X)!=="svelte-1s94e89"&&(X.textContent=Ee),Qe=C(ut),le=d(ut,"P",{class:!0});var ts=v(le);xe=$(ts,de),ts.forEach(c),Xe=C(ut),De=d(ut,"P",{class:!0});var $l=v(De);Dt=$($l,_t),tl=$($l," paid users"),$l.forEach(c),ut.forEach(c),ll=C(zt),et=d(zt,"DIV",{class:!0});var ls=v(et);Ye(Ce.$$.fragment,ls),ls.forEach(c),zt.forEach(c),es.forEach(c),sl=C(P),tt=d(P,"DIV",{class:!0});var ss=v(tt);he=d(ss,"DIV",{class:!0});var Bt=v(he);se=d(Bt,"DIV",{});var dt=v(se);Ie=d(dt,"P",{class:!0,"data-svelte-h":!0}),z(Ie)!=="svelte-856mbp"&&(Ie.textContent=Ul),rl=C(dt),lt=d(dt,"P",{class:!0});var rs=v(lt);Ct=$(rs,vt),rs.forEach(c),al=C(dt),we=d(dt,"P",{class:!0});var Tl=v(we);It=$(Tl,mt),nl=$(Tl,"% of total"),Tl.forEach(c),dt.forEach(c),il=C(Bt),st=d(Bt,"DIV",{class:!0});var as=v(st);Ye(Ve.$$.fragment,as),as.forEach(c),Bt.forEach(c),ss.forEach(c),ol=C(P),rt=d(P,"DIV",{class:!0});var ns=v(rt);_e=d(ns,"DIV",{class:!0});var Ft=v(_e);re=d(Ft,"DIV",{});var ht=v(re);Pe=d(ht,"P",{class:!0,"data-svelte-h":!0}),z(Pe)!=="svelte-335sd1"&&(Pe.textContent=zl),cl=C(ht),$e=d(ht,"P",{class:!0});var Ml=v($e);wt=$(Ml,gt),fl=$(Ml,"ms"),Ml.forEach(c),ul=C(ht),ve=d(ht,"P",{class:!0});var Sl=v(ve);Vt=$(Sl,pt),dl=$(Sl," errors/hr"),Sl.forEach(c),ht.forEach(c),hl=C(Ft),Te=d(Ft,"DIV",{class:!0});var is=v(Te);Ye(me.$$.fragment,is),is.forEach(c),Ft.forEach(c),ns.forEach(c),P.forEach(c),Tt=C(m),ae=d(m,"DIV",{class:!0});var Rt=v(ae);ne=d(Rt,"DIV",{class:!0});var qt=v(ne);Me=d(qt,"H3",{class:!0,"data-svelte-h":!0}),z(Me)!=="svelte-80h7py"&&(Me.textContent=Bl),_l=C(qt),N&&N.l(qt),qt.forEach(c),vl=C(Rt),ie=d(Rt,"DIV",{class:!0});var Gt=v(ie);Se=d(Gt,"H3",{class:!0,"data-svelte-h":!0}),z(Se)!=="svelte-tb7aa0"&&(Se.textContent=Fl),ml=C(Gt),U&&U.l(Gt),Gt.forEach(c),Rt.forEach(c),Mt=C(m),oe=d(m,"DIV",{class:!0});var Jt=v(oe);ge=d(Jt,"DIV",{class:!0});var Ot=v(ge);He=d(Ot,"H3",{class:!0,"data-svelte-h":!0}),z(He)!=="svelte-1ooynw4"&&(He.textContent=Rl),gl=C(Ot),at=d(Ot,"DIV",{class:!0});var os=v(at);pe=d(os,"TABLE",{class:!0});var Wt=v(pe);nt=d(Wt,"THEAD",{"data-svelte-h":!0}),z(nt)!=="svelte-1g2nyvz"&&(nt.innerHTML=ql),pl=C(Wt),Le=d(Wt,"TBODY",{class:!0});var cs=v(Le);for(let Ll=0;Ll<q.length;Ll+=1)q[Ll].l(cs);cs.forEach(c),Wt.forEach(c),os.forEach(c),Ot.forEach(c),bl=C(Jt),ce=d(Jt,"DIV",{class:!0});var Yt=v(ce);je=d(Yt,"H3",{class:!0,"data-svelte-h":!0}),z(je)!=="svelte-1s63i4h"&&(je.textContent=Gl),yl=C(Yt),Z.l(Yt),Yt.forEach(c),Jt.forEach(c),St=C(m),fe=d(m,"DIV",{class:!0});var Zt=v(fe);Ae=d(Zt,"H3",{class:!0,"data-svelte-h":!0}),z(Ae)!=="svelte-rjim98"&&(Ae.textContent=Jl),kl=C(Zt),Y=d(Zt,"DIV",{class:!0});var be=v(Y);Ne=d(be,"DIV",{});var Kt=v(Ne);Ue=d(Kt,"P",{class:!0,"data-svelte-h":!0}),z(Ue)!=="svelte-i6l093"&&(Ue.textContent=Ol),El=C(Kt),it=d(Kt,"P",{class:!0});var fs=v(it);Ht=$(fs,bt),fs.forEach(c),Kt.forEach(c),xl=C(be),ze=d(be,"DIV",{});var Qt=v(ze);Be=d(Qt,"P",{class:!0,"data-svelte-h":!0}),z(Be)!=="svelte-7y87vb"&&(Be.textContent=Wl),Dl=C(Qt),Fe=d(Qt,"P",{class:!0});var Hl=v(Fe);Lt=$(Hl,yt),Cl=$(Hl," MB"),Hl.forEach(c),Qt.forEach(c),Il=C(be),Re=d(be,"DIV",{});var Xt=v(Re);qe=d(Xt,"P",{class:!0,"data-svelte-h":!0}),z(qe)!=="svelte-1xc1vay"&&(qe.textContent=Yl),wl=C(Xt),ot=d(Xt,"P",{class:!0});var us=v(ot);jt=$(us,kt),us.forEach(c),Xt.forEach(c),Vl=C(be),Ge=d(be,"DIV",{});var el=v(Ge);Je=d(el,"P",{class:!0,"data-svelte-h":!0}),z(Je)!=="svelte-1xcuhbv"&&(Je.textContent=Zl),Pl=C(el),ct=d(el,"P",{class:!0});var ds=v(ct);At=$(ds,Et),ds.forEach(c),el.forEach(c),be.forEach(c),Zt.forEach(c),this.h()},h(){o(i,"class","text-sm font-medium text-gray-600"),o(k,"class","text-2xl font-bold text-gray-900 mt-1"),o(E,"class","text-sm text-green-600 mt-1"),o(f,"class","p-3 bg-indigo-100 rounded-lg"),o(t,"class","flex items-center justify-between"),o(l,"class","admin-card"),o(X,"class","text-sm font-medium text-gray-600"),o(le,"class","text-2xl font-bold text-gray-900 mt-1"),o(De,"class","text-sm text-gray-500 mt-1"),o(et,"class","p-3 bg-green-100 rounded-lg"),o(A,"class","flex items-center justify-between"),o(j,"class","admin-card"),o(Ie,"class","text-sm font-medium text-gray-600"),o(lt,"class","text-2xl font-bold text-gray-900 mt-1"),o(we,"class","text-sm text-gray-500 mt-1"),o(st,"class","p-3 bg-purple-100 rounded-lg"),o(he,"class","flex items-center justify-between"),o(tt,"class","admin-card"),o(Pe,"class","text-sm font-medium text-gray-600"),o($e,"class","text-2xl font-bold text-gray-900 mt-1"),o(ve,"class",Pt="text-sm "+(r[0].system.errors_1h>0?"text-red-600":"text-green-600")+" mt-1"),o(Te,"class",$t="p-3 "+(r[0].system.errors_1h>10?"bg-red-100":"bg-green-100")+" rounded-lg"),o(_e,"class","flex items-center justify-between"),o(rt,"class","admin-card"),o(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"),o(Me,"class","text-lg font-semibold text-gray-900 mb-4"),o(ne,"class","admin-card"),o(Se,"class","text-lg font-semibold text-gray-900 mb-4"),o(ie,"class","admin-card"),o(ae,"class","grid grid-cols-1 lg:grid-cols-2 gap-6"),o(He,"class","text-lg font-semibold text-gray-900 mb-4"),o(Le,"class","divide-y divide-gray-200"),o(pe,"class","admin-table"),o(at,"class","overflow-x-auto"),o(ge,"class","admin-card"),o(je,"class","text-lg font-semibold text-gray-900 mb-4"),o(ce,"class","admin-card"),o(oe,"class","grid grid-cols-1 lg:grid-cols-2 gap-6"),o(Ae,"class","text-lg font-semibold text-gray-900 mb-4"),o(Ue,"class","text-sm text-gray-600"),o(it,"class","text-xl font-semibold text-gray-900"),o(Be,"class","text-sm text-gray-600"),o(Fe,"class","text-xl font-semibold text-gray-900"),o(qe,"class","text-sm text-gray-600"),o(ot,"class","text-xl font-semibold text-gray-900"),o(Je,"class","text-sm text-gray-600"),o(ct,"class","text-xl font-semibold text-gray-900"),o(Y,"class","grid grid-cols-2 md:grid-cols-4 gap-4"),o(fe,"class","admin-card")},m(m,P){S(m,e,P),a(e,l),a(l,t),a(t,s),a(s,i),a(s,b),a(s,k),a(k,g),a(s,p),a(s,E),a(E,V),a(E,_),a(E,D),a(t,x),a(t,f),We(y,f,null),a(e,u),a(e,j),a(j,A),a(A,H),a(H,X),a(H,Qe),a(H,le),a(le,xe),a(H,Xe),a(H,De),a(De,Dt),a(De,tl),a(A,ll),a(A,et),We(Ce,et,null),a(e,sl),a(e,tt),a(tt,he),a(he,se),a(se,Ie),a(se,rl),a(se,lt),a(lt,Ct),a(se,al),a(se,we),a(we,It),a(we,nl),a(he,il),a(he,st),We(Ve,st,null),a(e,ol),a(e,rt),a(rt,_e),a(_e,re),a(re,Pe),a(re,cl),a(re,$e),a($e,wt),a($e,fl),a(re,ul),a(re,ve),a(ve,Vt),a(ve,dl),a(_e,hl),a(_e,Te),We(me,Te,null),S(m,Tt,P),S(m,ae,P),a(ae,ne),a(ne,Me),a(ne,_l),N&&N.m(ne,null),a(ae,vl),a(ae,ie),a(ie,Se),a(ie,ml),U&&U.m(ie,null),S(m,Mt,P),S(m,oe,P),a(oe,ge),a(ge,He),a(ge,gl),a(ge,at),a(at,pe),a(pe,nt),a(pe,pl),a(pe,Le);for(let ee=0;ee<q.length;ee+=1)q[ee]&&q[ee].m(Le,null);a(oe,bl),a(oe,ce),a(ce,je),a(ce,yl),Z.m(ce,null),S(m,St,P),S(m,fe,P),a(fe,Ae),a(fe,kl),a(fe,Y),a(Y,Ne),a(Ne,Ue),a(Ne,El),a(Ne,it),a(it,Ht),a(Y,xl),a(Y,ze),a(ze,Be),a(ze,Dl),a(ze,Fe),a(Fe,Lt),a(Fe,Cl),a(Y,Il),a(Y,Re),a(Re,qe),a(Re,wl),a(Re,ot),a(ot,jt),a(Y,Vl),a(Y,Ge),a(Ge,Je),a(Ge,Pl),a(Ge,ct),a(ct,At),F=!0},p(m,P){(!F||P&1)&&w!==(w=te(m[0].users.total)+"")&&L(g,w),(!F||P&1)&&M!==(M=m[0].users.new_7d+"")&&L(_,M),(!F||P&1)&&de!==(de=As(m[0].subscriptions.total_mrr)+"")&&L(xe,de),(!F||P&1)&&_t!==(_t=m[0].users.paid+"")&&L(Dt,_t),(!F||P&1)&&vt!==(vt=te(m[0].users.active_24h)+"")&&L(Ct,vt),(!F||P&1)&&mt!==(mt=Math.round(m[0].users.active_24h/m[0].users.total*100)+"")&&L(It,mt),(!F||P&1)&&gt!==(gt=m[0].system.avg_response_time_ms+"")&&L(wt,gt),(!F||P&1)&&pt!==(pt=m[0].system.errors_1h+"")&&L(Vt,pt),(!F||P&1&&Pt!==(Pt="text-sm "+(m[0].system.errors_1h>0?"text-red-600":"text-green-600")+" mt-1"))&&o(ve,"class",Pt);const ee={};if(P&1&&(ee.class="w-6 h-6 "+(m[0].system.errors_1h>10?"text-red-600":"text-green-600")),me.$set(ee),(!F||P&1&&$t!==($t="p-3 "+(m[0].system.errors_1h>10?"bg-red-100":"bg-green-100")+" rounded-lg"))&&o(Te,"class",$t),m[3]?N?(N.p(m,P),P&8&&J(N,1)):(N=Ms(m),N.c(),J(N,1),N.m(ne,null)):N&&(Al(),W(N,1,1,()=>{N=null}),jl()),m[4]?U?(U.p(m,P),P&16&&J(U,1)):(U=Ss(m),U.c(),J(U,1),U.m(ie,null)):U&&(Al(),W(U,1,1,()=>{U=null}),jl()),P&1){ft=O(m[0].recent_signups);let G;for(G=0;G<ft.length;G+=1){const ue=Ts(m,ft,G);q[G]?q[G].p(ue,P):(q[G]=Hs(ue),q[G].c(),q[G].m(Le,null))}for(;G<q.length;G+=1)q[G].d(1);q.length=ft.length}Nt===(Nt=Kl(m))&&Z?Z.p(m,P):(Z.d(1),Z=Nt(m),Z&&(Z.c(),Z.m(ce,null))),(!F||P&1)&&bt!==(bt=te(m[0].system.api_requests_1h)+"")&&L(Ht,bt),(!F||P&1)&&yt!==(yt=m[0].system.database_size_mb.toFixed(1)+"")&&L(Lt,yt),(!F||P&1)&&kt!==(kt=te(m[0].trades.total)+"")&&L(jt,kt),(!F||P&1)&&Et!==(Et=te(m[0].trades.trades_24h)+"")&&L(At,Et)},i(m){F||(J(y.$$.fragment,m),J(Ce.$$.fragment,m),J(Ve.$$.fragment,m),J(me.$$.fragment,m),J(N),J(U),F=!0)},o(m){W(y.$$.fragment,m),W(Ce.$$.fragment,m),W(Ve.$$.fragment,m),W(me.$$.fragment,m),W(N),W(U),F=!1},d(m){m&&(c(e),c(Tt),c(ae),c(Mt),c(oe),c(St),c(fe)),Oe(y),Oe(Ce),Oe(Ve),Oe(me),N&&N.d(),U&&U.d(),Ke(q,m),Z.d()}}}function Qs(r){let e,l;return{c(){e=h("div"),l=T(r[2]),this.h()},l(t){e=d(t,"DIV",{class:!0});var s=v(e);l=$(s,r[2]),s.forEach(c),this.h()},h(){o(e,"class","alert alert-error")},m(t,s){S(t,e,s),a(e,l)},p(t,s){s&4&&L(l,t[2])},i:Q,o:Q,d(t){t&&c(e)}}}function Xs(r){let e,l='<div class="spinner svelte-178td72"></div>';return{c(){e=h("div"),e.innerHTML=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-em5o00"&&(e.innerHTML=l),this.h()},h(){o(e,"class","flex justify-center py-12")},m(t,s){S(t,e,s)},p:Q,i:Q,o:Q,d(t){t&&c(e)}}}function Ms(r){let e,l;return e=new Bs({props:{type:"line",data:r[3],height:250}}),{c(){Ze(e.$$.fragment)},l(t){Ye(e.$$.fragment,t)},m(t,s){We(e,t,s),l=!0},p(t,s){const i={};s&8&&(i.data=t[3]),e.$set(i)},i(t){l||(J(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){Oe(e,t)}}}function Ss(r){let e,l;return e=new Bs({props:{type:"doughnut",data:r[4],height:250}}),{c(){Ze(e.$$.fragment)},l(t){Ye(e.$$.fragment,t)},m(t,s){We(e,t,s),l=!0},p(t,s){const i={};s&16&&(i.data=t[4]),e.$set(i)},i(t){l||(J(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){Oe(e,t)}}}function Hs(r){let e,l,t,s,i=r[10].full_name+"",n,b,k,w=r[10].email+"",g,p,E,V,M=r[10].subscription_tier+"",_,D,x,f,y=new Date(r[10].created_at).toLocaleDateString()+"",u,j;return{c(){e=h("tr"),l=h("td"),t=h("div"),s=h("div"),n=T(i),b=I(),k=h("div"),g=T(w),p=I(),E=h("td"),V=h("span"),_=T(M),x=I(),f=h("td"),u=T(y),j=I(),this.h()},l(A){e=d(A,"TR",{});var H=v(e);l=d(H,"TD",{});var X=v(l);t=d(X,"DIV",{});var Ee=v(t);s=d(Ee,"DIV",{class:!0});var Qe=v(s);n=$(Qe,i),Qe.forEach(c),b=C(Ee),k=d(Ee,"DIV",{class:!0});var le=v(k);g=$(le,w),le.forEach(c),Ee.forEach(c),X.forEach(c),p=C(H),E=d(H,"TD",{});var de=v(E);V=d(de,"SPAN",{class:!0});var xe=v(V);_=$(xe,M),xe.forEach(c),de.forEach(c),x=C(H),f=d(H,"TD",{class:!0});var Xe=v(f);u=$(Xe,y),Xe.forEach(c),j=C(H),H.forEach(c),this.h()},h(){o(s,"class","text-sm font-medium text-gray-900"),o(k,"class","text-sm text-gray-500"),o(V,"class",D="px-2 py-1 text-xs font-medium rounded-full "+(r[10].subscription_tier==="premium"?"bg-purple-100 text-purple-800":r[10].subscription_tier==="pro"?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800")),o(f,"class","text-sm text-gray-500")},m(A,H){S(A,e,H),a(e,l),a(l,t),a(t,s),a(s,n),a(t,b),a(t,k),a(k,g),a(e,p),a(e,E),a(E,V),a(V,_),a(e,x),a(e,f),a(f,u),a(e,j)},p(A,H){H&1&&i!==(i=A[10].full_name+"")&&L(n,i),H&1&&w!==(w=A[10].email+"")&&L(g,w),H&1&&M!==(M=A[10].subscription_tier+"")&&L(_,M),H&1&&D!==(D="px-2 py-1 text-xs font-medium rounded-full "+(A[10].subscription_tier==="premium"?"bg-purple-100 text-purple-800":A[10].subscription_tier==="pro"?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"))&&o(V,"class",D),H&1&&y!==(y=new Date(A[10].created_at).toLocaleDateString()+"")&&L(u,y)},d(A){A&&c(e)}}}function er(r){let e,l="No recent issues";return{c(){e=h("p"),e.textContent=l,this.h()},l(t){e=d(t,"P",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-wf9fhs"&&(e.textContent=l),this.h()},h(){o(e,"class","text-sm text-gray-500")},m(t,s){S(t,e,s)},p:Q,d(t){t&&c(e)}}}function tr(r){let e,l=O(r[0].recent_issues),t=[];for(let s=0;s<l.length;s+=1)t[s]=js($s(r,l,s));return{c(){e=h("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=d(s,"DIV",{class:!0});var i=v(e);for(let n=0;n<t.length;n+=1)t[n].l(i);i.forEach(c),this.h()},h(){o(e,"class","space-y-3")},m(s,i){S(s,e,i);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null)},p(s,i){if(i&1){l=O(s[0].recent_issues);let n;for(n=0;n<l.length;n+=1){const b=$s(s,l,n);t[n]?t[n].p(b,i):(t[n]=js(b),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(s){s&&c(e),Ke(t,s)}}}function Ls(r){let e,l=r[7].user_id+"",t;return{c(){e=T("• User: "),t=T(l)},l(s){e=$(s,"• User: "),t=$(s,l)},m(s,i){S(s,e,i),S(s,t,i)},p(s,i){i&1&&l!==(l=s[7].user_id+"")&&L(t,l)},d(s){s&&(c(e),c(t))}}}function js(r){let e,l,t=(r[7].type==="error"?"Error":r[7].type)+"",s,i,n,b=r[7].message+"",k,w,g,p=new Date(r[7].timestamp).toLocaleString()+"",E,V,M,_=r[7].user_id&&Ls(r);return{c(){e=h("div"),l=h("div"),s=T(t),i=I(),n=h("div"),k=T(b),w=I(),g=h("div"),E=T(p),V=I(),_&&_.c(),M=I(),this.h()},l(D){e=d(D,"DIV",{class:!0});var x=v(e);l=d(x,"DIV",{class:!0});var f=v(l);s=$(f,t),f.forEach(c),i=C(x),n=d(x,"DIV",{class:!0});var y=v(n);k=$(y,b),y.forEach(c),w=C(x),g=d(x,"DIV",{class:!0});var u=v(g);E=$(u,p),V=C(u),_&&_.l(u),u.forEach(c),M=C(x),x.forEach(c),this.h()},h(){o(l,"class","text-sm font-medium text-gray-900"),o(n,"class","text-sm text-gray-600 mt-1"),o(g,"class","text-xs text-gray-500 mt-1"),o(e,"class","border-l-4 border-red-400 pl-4 py-2")},m(D,x){S(D,e,x),a(e,l),a(l,s),a(e,i),a(e,n),a(n,k),a(e,w),a(e,g),a(g,E),a(g,V),_&&_.m(g,null),a(e,M)},p(D,x){x&1&&t!==(t=(D[7].type==="error"?"Error":D[7].type)+"")&&L(s,t),x&1&&b!==(b=D[7].message+"")&&L(k,b),x&1&&p!==(p=new Date(D[7].timestamp).toLocaleString()+"")&&L(E,p),D[7].user_id?_?_.p(D,x):(_=Ls(D),_.c(),_.m(g,null)):_&&(_.d(1),_=null)},d(D){D&&c(e),_&&_.d()}}}function lr(r){let e,l,t,s='<h2 class="text-2xl font-bold text-gray-900">Admin Dashboard</h2> <p class="text-gray-600 mt-1">Monitor system health and user activity</p>',i,n,b,k,w,g,p,E,V,M;b=new xt({props:{name:"refresh",class:"w-4 h-4 mr-2"}});const _=[Xs,Qs,Ks],D=[];function x(f,y){return f[1]&&!f[0]?0:f[2]?1:f[0]?2:-1}return~(g=x(r))&&(p=D[g]=_[g](r)),{c(){e=h("div"),l=h("div"),t=h("div"),t.innerHTML=s,i=I(),n=h("button"),Ze(b.$$.fragment),k=T(`
            Refresh`),w=I(),p&&p.c(),this.h()},l(f){e=d(f,"DIV",{class:!0});var y=v(e);l=d(y,"DIV",{class:!0});var u=v(l);t=d(u,"DIV",{"data-svelte-h":!0}),z(t)!=="svelte-xopmg4"&&(t.innerHTML=s),i=C(u),n=d(u,"BUTTON",{class:!0});var j=v(n);Ye(b.$$.fragment,j),k=$(j,`
            Refresh`),j.forEach(c),u.forEach(c),w=C(y),p&&p.l(y),y.forEach(c),this.h()},h(){n.disabled=r[1],o(n,"class","btn btn-secondary"),o(l,"class","flex justify-between items-center"),o(e,"class","space-y-6")},m(f,y){S(f,e,y),a(e,l),a(l,t),a(l,i),a(l,n),We(b,n,null),a(n,k),a(e,w),~g&&D[g].m(e,null),E=!0,V||(M=Fs(n,"click",r[5]),V=!0)},p(f,[y]){(!E||y&2)&&(n.disabled=f[1]);let u=g;g=x(f),g===u?~g&&D[g].p(f,y):(p&&(Al(),W(D[u],1,1,()=>{D[u]=null}),jl()),~g?(p=D[g],p?p.p(f,y):(p=D[g]=_[g](f),p.c()),J(p,1),p.m(e,null)):p=null)},i(f){E||(J(b.$$.fragment,f),J(p),E=!0)},o(f){W(b.$$.fragment,f),W(p),E=!1},d(f){f&&c(e),Oe(b),~g&&D[g].d(),V=!1,M()}}}function As(r){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r)}function te(r){return new Intl.NumberFormat("en-US").format(r)}function sr(r,e,l){let t=null,s=!0,i=null,n=null,b=null;async function k(){try{l(1,s=!0),l(2,i=null);const g=await qs.get("/admin/dashboard/stats");l(0,t=g),w(),Gs.trackFeature("admin_dashboard")}catch(g){l(2,i=g.message||"Failed to load dashboard")}finally{l(1,s=!1)}}function w(){var g,p,E,V,M,_,D,x,f;l(3,n={labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"New Users",data:[12,19,15,25,22,30,28],borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",tension:.4}]}),l(4,b={labels:["Free","Pro","Premium"],datasets:[{data:[((E=(p=(g=t==null?void 0:t.subscriptions)==null?void 0:g.breakdown)==null?void 0:p.free)==null?void 0:E.count)||0,((_=(M=(V=t==null?void 0:t.subscriptions)==null?void 0:V.breakdown)==null?void 0:M.pro)==null?void 0:_.count)||0,((f=(x=(D=t==null?void 0:t.subscriptions)==null?void 0:D.breakdown)==null?void 0:x.premium)==null?void 0:f.count)||0],backgroundColor:["rgb(156, 163, 175)","rgb(99, 102, 241)","rgb(139, 92, 246)"]}]})}return Rs(()=>{k();const g=setInterval(k,3e4);return()=>clearInterval(g)}),[t,s,i,n,b,k]}class fr extends Ns{constructor(e){super(),Us(this,e,sr,lr,zs,{})}}export{fr as component};
