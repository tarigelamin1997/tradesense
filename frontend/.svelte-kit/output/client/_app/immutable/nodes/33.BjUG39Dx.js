import{S as it,i as ut,s as ft,d as f,l as Fe,r as ct,t as ke,a as ce,n as Oe,c as He,B as ae,f as n,L as we,b as M,e as a,o as Re,p as ne,a6 as ht,g as d,h as y,v as ye,u as w,q as ze,w as O,j as h,y as V,x as Ke,z as H,P as mt,m as _t,a0 as Ae,A as Le,I as pt,D as We,k as gt}from"../chunks/BizRtQrO.js";import"../chunks/IHki7fMi.js";import{g as Ye}from"../chunks/CMDLyNOv.js";import{b as vt}from"../chunks/CNsmtZI0.js";import{e as Ze}from"../chunks/CEysSNcE.js";import{b as xe}from"../chunks/Bt-Xh7oU.js";import{a as $e}from"../chunks/-74CPqXK.js";import{I as dt}from"../chunks/XTk1NKRp.js";import{$ as bt}from"../chunks/CyWvydgK.js";function et(t,e,l){const s=t.slice();return s[21]=e[l],s}function tt(t){let e,l,s="Verification Method",o,i,p,v=Ze(t[0]),u=[];for(let r=0;r<v.length;r+=1)u[r]=lt(et(t,v,r));const C=r=>ke(u[r],1,1,()=>{u[r]=null});return{c(){e=h("div"),l=h("label"),l.textContent=s,o=V(),i=h("div");for(let r=0;r<u.length;r+=1)u[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var m=y(e);l=d(m,"LABEL",{class:!0,"data-svelte-h":!0}),ye(l)!=="svelte-jhd0f6"&&(l.textContent=s),o=w(m),i=d(m,"DIV",{class:!0});var c=y(i);for(let E=0;E<u.length;E+=1)u[E].l(c);c.forEach(f),m.forEach(f),this.h()},h(){n(l,"class","block text-sm font-medium text-gray-700 mb-2"),n(i,"class","grid grid-cols-1 gap-2"),n(e,"class","mb-6")},m(r,m){M(r,e,m),a(e,l),a(e,o),a(e,i);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(i,null);p=!0},p(r,m){if(m&2053){v=Ze(r[0]);let c;for(c=0;c<v.length;c+=1){const E=et(r,v,c);u[c]?(u[c].p(E,m),ce(u[c],1)):(u[c]=lt(E),u[c].c(),ce(u[c],1),u[c].m(i,null))}for(Oe(),c=v.length;c<u.length;c+=1)C(c);He()}},i(r){if(!p){for(let m=0;m<v.length;m+=1)ce(u[m]);p=!0}},o(r){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)ke(u[m]);p=!1},d(r){r&&f(e),_t(u,r)}}}function lt(t){let e,l,s,o,i,p=t[21]==="totp"?"Authenticator App":t[21]==="sms"?"Text Message":t[21]==="email"?"Email":"Backup Code",v,u,C,r,m;s=new dt({props:{name:t[21]==="totp"?"smartphone":t[21]==="sms"?"message-square":t[21]==="email"?"mail":"key",class:"w-5 h-5 mr-3 text-gray-600"}});function c(){return t[15](t[21])}return{c(){e=h("button"),l=h("div"),Ke(s.$$.fragment),o=V(),i=h("span"),v=H(p),u=V(),this.h()},l(E){e=d(E,"BUTTON",{class:!0});var g=y(e);l=d(g,"DIV",{class:!0});var T=y(l);ze(s.$$.fragment,T),o=w(T),i=d(T,"SPAN",{class:!0});var B=y(i);v=O(B,p),B.forEach(f),T.forEach(f),u=w(g),g.forEach(f),this.h()},h(){n(i,"class","font-medium"),n(l,"class","flex items-center"),n(e,"class","p-3 border rounded-lg text-left transition-colors"),Ae(e,"border-indigo-500",t[2]===t[21]),Ae(e,"bg-indigo-50",t[2]===t[21]),Ae(e,"border-gray-200",t[2]!==t[21])},m(E,g){M(E,e,g),a(e,l),Re(s,l,null),a(l,o),a(l,i),a(i,v),a(e,u),C=!0,r||(m=ne(e,"click",c),r=!0)},p(E,g){t=E;const T={};g&1&&(T.name=t[21]==="totp"?"smartphone":t[21]==="sms"?"message-square":t[21]==="email"?"mail":"key"),s.$set(T),(!C||g&1)&&p!==(p=t[21]==="totp"?"Authenticator App":t[21]==="sms"?"Text Message":t[21]==="email"?"Email":"Backup Code")&&ae(v,p),(!C||g&5)&&Ae(e,"border-indigo-500",t[2]===t[21]),(!C||g&5)&&Ae(e,"bg-indigo-50",t[2]===t[21]),(!C||g&5)&&Ae(e,"border-gray-200",t[2]!==t[21])},i(E){C||(ce(s.$$.fragment,E),C=!0)},o(E){ke(s.$$.fragment,E),C=!1},d(E){E&&f(e),Fe(s),r=!1,m()}}}function st(t){let e,l;return{c(){e=h("div"),l=H(t[7]),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=y(e);l=O(o,t[7]),o.forEach(f),this.h()},h(){n(e,"class","mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm")},m(s,o){M(s,e,o),a(e,l)},p(s,o){o&128&&ae(l,s[7])},d(s){s&&f(e)}}}function kt(t){let e,l="Sending code to your email...";return{c(){e=h("p"),e.textContent=l,this.h()},l(s){e=d(s,"P",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-1ku90f5"&&(e.textContent=l),this.h()},h(){n(e,"class","text-sm text-gray-600 mb-3")},m(s,o){M(s,e,o)},d(s){s&&f(e)}}}function yt(t){let e,l="Sending code to your phone...";return{c(){e=h("p"),e.textContent=l,this.h()},l(s){e=d(s,"P",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-1v19b9x"&&(e.textContent=l),this.h()},h(){n(e,"class","text-sm text-gray-600 mb-3")},m(s,o){M(s,e,o)},d(s){s&&f(e)}}}function Et(t){let e,l="Enter one of your backup recovery codes";return{c(){e=h("p"),e.textContent=l,this.h()},l(s){e=d(s,"P",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-4we1rq"&&(e.textContent=l),this.h()},h(){n(e,"class","text-xs text-gray-500 mt-2")},m(s,o){M(s,e,o)},d(s){s&&f(e)}}}function Ct(t){let e,l="Enter the 6-digit code from your authenticator app";return{c(){e=h("p"),e.textContent=l,this.h()},l(s){e=d(s,"P",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-1vubcsy"&&(e.textContent=l),this.h()},h(){n(e,"class","text-xs text-gray-500 mt-2")},m(s,o){M(s,e,o)},d(s){s&&f(e)}}}function ot(t){let e,l,s;return{c(){e=h("input"),this.h()},l(o){e=d(o,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h(){n(e,"type","text"),n(e,"placeholder","Device name (optional)"),n(e,"class","form-input mt-2 text-sm svelte-1fgympx")},m(o,i){M(o,e,i),we(e,t[5]),l||(s=ne(e,"input",t[18]),l=!0)},p(o,i){i&32&&e.value!==o[5]&&we(e,o[5])},d(o){o&&f(e),l=!1,s()}}}function at(t){let e;return{c(){e=h("span"),this.h()},l(l){e=d(l,"SPAN",{class:!0}),y(e).forEach(f),this.h()},h(){n(e,"class","spinner mr-2 svelte-1fgympx")},m(l,s){M(l,e,s)},d(l){l&&f(e)}}}function nt(t){let e,l,s,o;return{c(){e=h("button"),l=H("Resend Code"),this.h()},l(i){e=d(i,"BUTTON",{class:!0});var p=y(e);l=O(p,"Resend Code"),p.forEach(f),this.h()},h(){e.disabled=t[6],n(e,"class","btn btn-secondary svelte-1fgympx")},m(i,p){M(i,e,p),a(e,l),s||(o=ne(e,"click",t[19]),s=!0)},p(i,p){p&64&&(e.disabled=i[6])},d(i){i&&f(e),s=!1,o()}}}function It(t){let e;return{c(){e=H("Contact support for help")},l(l){e=O(l,"Contact support for help")},m(l,s){M(l,e,s)},p:Le,d(l){l&&f(e)}}}function wt(t){let e,l,s="backup code",o,i;return{c(){e=H("Try using a "),l=h("button"),l.textContent=s,this.h()},l(p){e=O(p,"Try using a "),l=d(p,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(l)!=="svelte-uh65nl"&&(l.textContent=s),this.h()},h(){n(l,"class","text-indigo-600 hover:text-indigo-700 font-medium")},m(p,v){M(p,e,v),M(p,l,v),o||(i=ne(l,"click",t[20]),o=!0)},p:Le,d(p){p&&(f(e),f(l)),o=!1,i()}}}function Vt(t){let e,l,s,o,i,p="Two-Factor Authentication",v,u,C,r,m,c="Enter your verification code to complete sign in",E,g,T,B,I,A,ee=t[2]==="backup_codes"?"Backup Code":"Verification Code",de,J,Q,j,b,re,S,Ee,Z,K,R,me,te,De="Trust this device for 30 days",x,_e,W,G,ie,le,pe,Ce,he,z,ge,ve,se,Pe,X;C=new dt({props:{name:"x",class:"w-5 h-5"}});let _=t[0].length>1&&tt(t),k=t[7]&&st(t);function $(D,P){if(D[2]==="sms"&&!D[8])return yt;if(D[2]==="email"&&!D[8])return kt}let be=$(t),q=be&&be(t);function ue(D,P){if(D[2]==="totp")return Ct;if(D[2]==="backup_codes")return Et}let fe=ue(t),F=fe&&fe(t),N=t[4]&&ot(t),L=t[6]&&at(),U=(t[2]==="sms"||t[2]==="email")&&t[8]&&nt(t);function Te(D,P){return P&1&&(ve=null),ve==null&&(ve=!!D[0].includes("backup_codes")),ve?wt:It}let Ve=Te(t,-1),Y=Ve(t);return{c(){e=h("div"),l=h("div"),s=h("div"),o=h("div"),i=h("h2"),i.textContent=p,v=V(),u=h("button"),Ke(C.$$.fragment),r=V(),m=h("p"),m.textContent=c,E=V(),g=h("div"),_&&_.c(),T=V(),k&&k.c(),B=V(),I=h("div"),A=h("label"),de=H(ee),J=V(),q&&q.c(),Q=V(),j=h("input"),S=V(),F&&F.c(),Ee=V(),Z=h("div"),K=h("label"),R=h("input"),me=V(),te=h("span"),te.textContent=De,x=V(),N&&N.c(),_e=V(),W=h("div"),G=h("button"),L&&L.c(),ie=H(`
                    Verify`),pe=V(),U&&U.c(),Ce=V(),he=h("div"),z=h("p"),ge=H(`Having trouble?
                    `),Y.c(),this.h()},l(D){e=d(D,"DIV",{class:!0});var P=y(e);l=d(P,"DIV",{class:!0});var je=y(l);s=d(je,"DIV",{class:!0});var Be=y(s);o=d(Be,"DIV",{class:!0});var Ne=y(o);i=d(Ne,"H2",{class:!0,"data-svelte-h":!0}),ye(i)!=="svelte-10fs00n"&&(i.textContent=p),v=w(Ne),u=d(Ne,"BUTTON",{class:!0});var Ge=y(u);ze(C.$$.fragment,Ge),Ge.forEach(f),Ne.forEach(f),r=w(Be),m=d(Be,"P",{class:!0,"data-svelte-h":!0}),ye(m)!=="svelte-14ixmk6"&&(m.textContent=c),Be.forEach(f),E=w(je),g=d(je,"DIV",{class:!0});var oe=y(g);_&&_.l(oe),T=w(oe),k&&k.l(oe),B=w(oe),I=d(oe,"DIV",{class:!0});var Ie=y(I);A=d(Ie,"LABEL",{class:!0});var Je=y(A);de=O(Je,ee),Je.forEach(f),J=w(Ie),q&&q.l(Ie),Q=w(Ie),j=d(Ie,"INPUT",{type:!0,placeholder:!0,maxlength:!0,class:!0,autocomplete:!0}),S=w(Ie),F&&F.l(Ie),Ie.forEach(f),Ee=w(oe),Z=d(oe,"DIV",{class:!0});var Se=y(Z);K=d(Se,"LABEL",{class:!0});var Xe=y(K);R=d(Xe,"INPUT",{type:!0,class:!0}),me=w(Xe),te=d(Xe,"SPAN",{class:!0,"data-svelte-h":!0}),ye(te)!=="svelte-1agmb7f"&&(te.textContent=De),Xe.forEach(f),x=w(Se),N&&N.l(Se),Se.forEach(f),_e=w(oe),W=d(oe,"DIV",{class:!0});var Ue=y(W);G=d(Ue,"BUTTON",{class:!0});var Me=y(G);L&&L.l(Me),ie=O(Me,`
                    Verify`),Me.forEach(f),pe=w(Ue),U&&U.l(Ue),Ue.forEach(f),Ce=w(oe),he=d(oe,"DIV",{class:!0});var Qe=y(he);z=d(Qe,"P",{class:!0});var qe=y(z);ge=O(qe,`Having trouble?
                    `),Y.l(qe),qe.forEach(f),Qe.forEach(f),oe.forEach(f),je.forEach(f),P.forEach(f),this.h()},h(){n(i,"class","text-2xl font-bold text-gray-900"),n(u,"class","text-gray-500 hover:text-gray-700"),n(o,"class","flex items-center justify-between mb-4"),n(m,"class","text-gray-600"),n(s,"class","p-6 border-b border-gray-200"),n(A,"class","block text-sm font-medium text-gray-700 mb-2"),n(j,"type","text"),n(j,"placeholder",b=t[2]==="backup_codes"?"XXXX-XXXX":"000000"),n(j,"maxlength",re=t[2]==="backup_codes"?9:6),n(j,"class","form-input text-center text-lg font-mono svelte-1fgympx"),n(j,"autocomplete","off"),n(I,"class","mb-4"),n(R,"type","checkbox"),n(R,"class","rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 mr-2"),n(te,"class","text-sm text-gray-700"),n(K,"class","flex items-center"),n(Z,"class","mb-6"),G.disabled=le=t[6]||t[3].length<6,n(G,"class","btn btn-primary flex-1 svelte-1fgympx"),n(W,"class","flex space-x-3"),n(z,"class","text-sm text-gray-600"),n(he,"class","mt-6 text-center"),n(g,"class","p-6"),n(l,"class","bg-white rounded-lg shadow-lg border border-gray-200"),n(e,"class","max-w-md mx-auto p-6")},m(D,P){M(D,e,P),a(e,l),a(l,s),a(s,o),a(o,i),a(o,v),a(o,u),Re(C,u,null),a(s,r),a(s,m),a(l,E),a(l,g),_&&_.m(g,null),a(g,T),k&&k.m(g,null),a(g,B),a(g,I),a(I,A),a(A,de),a(I,J),q&&q.m(I,null),a(I,Q),a(I,j),we(j,t[3]),a(I,S),F&&F.m(I,null),a(g,Ee),a(g,Z),a(Z,K),a(K,R),R.checked=t[4],a(K,me),a(K,te),a(Z,x),N&&N.m(Z,null),a(g,_e),a(g,W),a(W,G),L&&L.m(G,null),a(G,ie),a(W,pe),U&&U.m(W,null),a(g,Ce),a(g,he),a(he,z),a(z,ge),Y.m(z,null),se=!0,Pe||(X=[ne(u,"click",function(){ht(t[1])&&t[1].apply(this,arguments)}),ne(j,"input",t[16]),ne(j,"keydown",t[12]),ne(R,"change",t[17]),ne(G,"click",t[10])],Pe=!0)},p(D,[P]){t=D,t[0].length>1?_?(_.p(t,P),P&1&&ce(_,1)):(_=tt(t),_.c(),ce(_,1),_.m(g,T)):_&&(Oe(),ke(_,1,1,()=>{_=null}),He()),t[7]?k?k.p(t,P):(k=st(t),k.c(),k.m(g,B)):k&&(k.d(1),k=null),(!se||P&4)&&ee!==(ee=t[2]==="backup_codes"?"Backup Code":"Verification Code")&&ae(de,ee),be!==(be=$(t))&&(q&&q.d(1),q=be&&be(t),q&&(q.c(),q.m(I,Q))),(!se||P&4&&b!==(b=t[2]==="backup_codes"?"XXXX-XXXX":"000000"))&&n(j,"placeholder",b),(!se||P&4&&re!==(re=t[2]==="backup_codes"?9:6))&&n(j,"maxlength",re),P&8&&j.value!==t[3]&&we(j,t[3]),fe!==(fe=ue(t))&&(F&&F.d(1),F=fe&&fe(t),F&&(F.c(),F.m(I,null))),P&16&&(R.checked=t[4]),t[4]?N?N.p(t,P):(N=ot(t),N.c(),N.m(Z,null)):N&&(N.d(1),N=null),t[6]?L||(L=at(),L.c(),L.m(G,ie)):L&&(L.d(1),L=null),(!se||P&72&&le!==(le=t[6]||t[3].length<6))&&(G.disabled=le),(t[2]==="sms"||t[2]==="email")&&t[8]?U?U.p(t,P):(U=nt(t),U.c(),U.m(W,null)):U&&(U.d(1),U=null),Ve===(Ve=Te(t,P))&&Y?Y.p(t,P):(Y.d(1),Y=Ve(t),Y&&(Y.c(),Y.m(z,null)))},i(D){se||(ce(C.$$.fragment,D),ce(_),se=!0)},o(D){ke(C.$$.fragment,D),ke(_),se=!1},d(D){D&&f(e),Fe(C),_&&_.d(),k&&k.d(),q&&q.d(),F&&F.d(),N&&N.d(),L&&L.d(),U&&U.d(),Y.d(),Pe=!1,ct(X)}}}function Dt(t,e,l){let{sessionId:s}=e,{methods:o=[]}=e,{onSuccess:i=()=>{}}=e,{onCancel:p=()=>{}}=e,v=o[0]||"totp",u="",C=!1,r="",m=!1,c=null,E=!1;async function g(b){try{l(6,m=!0),l(7,c=null);const re=await $e.post("/mfa/challenge",{method:b,session_id:s});(b==="sms"||b==="email")&&l(8,E=!0)}catch(re){l(7,c=re.message||"Failed to send verification code")}finally{l(6,m=!1)}}async function T(){try{l(6,m=!0),l(7,c=null);const b=await $e.post("/mfa/verify",{method:v,code:u,trust_device:C,device_name:C?r||(xe?navigator.userAgent:"Unknown"):null,session_id:s});b.success&&(xe&&b.trust_token&&localStorage.setItem("mfa_trust_token",b.trust_token),i({access_token:b.access_token,token_type:b.token_type}))}catch(b){l(7,c=b.message||"Invalid verification code"),l(3,u="")}finally{l(6,m=!1)}}function B(b){l(2,v=b),l(3,u=""),l(8,E=!1),l(7,c=null),(b==="sms"||b==="email")&&g(b)}function I(b){b.key==="Enter"&&u.length>=6&&T()}mt(()=>{(v==="sms"||v==="email")&&g(v)});const A=b=>B(b);function ee(){u=this.value,l(3,u)}function de(){C=this.checked,l(4,C)}function J(){r=this.value,l(5,r)}const Q=()=>g(v),j=()=>B("backup_codes");return t.$$set=b=>{"sessionId"in b&&l(13,s=b.sessionId),"methods"in b&&l(0,o=b.methods),"onSuccess"in b&&l(14,i=b.onSuccess),"onCancel"in b&&l(1,p=b.onCancel)},[o,p,v,u,C,r,m,c,E,g,T,B,I,s,i,A,ee,de,J,Q,j]}class Pt extends it{constructor(e){super(),ut(this,e,Dt,Vt,ft,{sessionId:13,methods:0,onSuccess:14,onCancel:1})}}function At(t){let e,l,s,o=t[7]("auth.login.title")+"",i,p,v,u=t[7]("auth.login.subtitle")+"",C,r,m,c,E,g,T=t[7]("auth.login.email")+"",B,I,A,ee,de,J,Q,j=t[7]("auth.login.password")+"",b,re,S,Ee,Z,K,R,me=t[7]("auth.login.forgotPassword")+"",te,De,x,_e=(t[2]?t[7]("auth.login.submitting"):t[7]("auth.login.submit"))+"",W,G,ie,le,pe=t[7]("auth.login.noAccount")+"",Ce,he,z,ge=t[7]("auth.login.signUp")+"",ve,se,Pe,X=t[3]&&rt(t);return{c(){e=h("div"),l=h("div"),s=h("h1"),i=H(o),p=V(),v=h("p"),C=H(u),r=V(),X&&X.c(),m=V(),c=h("form"),E=h("div"),g=h("label"),B=H(T),I=V(),A=h("input"),de=V(),J=h("div"),Q=h("label"),b=H(j),re=V(),S=h("input"),Z=V(),K=h("div"),R=h("a"),te=H(me),De=V(),x=h("button"),W=H(_e),G=V(),ie=h("div"),le=h("p"),Ce=H(pe),he=V(),z=h("a"),ve=H(ge),this.h()},l(_){e=d(_,"DIV",{class:!0});var k=y(e);l=d(k,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var $=y(l);s=d($,"H1",{id:!0,class:!0});var be=y(s);i=O(be,o),be.forEach(f),p=w($),v=d($,"P",{class:!0});var q=y(v);C=O(q,u),q.forEach(f),r=w($),X&&X.l($),m=w($),c=d($,"FORM",{});var ue=y(c);E=d(ue,"DIV",{class:!0});var fe=y(E);g=d(fe,"LABEL",{for:!0,class:!0});var F=y(g);B=O(F,T),F.forEach(f),I=w(fe),A=d(fe,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),fe.forEach(f),de=w(ue),J=d(ue,"DIV",{class:!0});var N=y(J);Q=d(N,"LABEL",{for:!0,class:!0});var L=y(Q);b=O(L,j),L.forEach(f),re=w(N),S=d(N,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),N.forEach(f),Z=w(ue),K=d(ue,"DIV",{class:!0});var U=y(K);R=d(U,"A",{href:!0,class:!0});var Te=y(R);te=O(Te,me),Te.forEach(f),U.forEach(f),De=w(ue),x=d(ue,"BUTTON",{type:!0,class:!0});var Ve=y(x);W=O(Ve,_e),Ve.forEach(f),ue.forEach(f),G=w($),ie=d($,"DIV",{class:!0});var Y=y(ie);le=d(Y,"P",{});var D=y(le);Ce=O(D,pe),he=w(D),z=d(D,"A",{href:!0,class:!0});var P=y(z);ve=O(P,ge),P.forEach(f),D.forEach(f),Y.forEach(f),$.forEach(f),k.forEach(f),this.h()},h(){n(s,"id","login-heading"),n(s,"class","svelte-m6gjg"),n(v,"class","subtitle svelte-m6gjg"),n(g,"for","username"),n(g,"class","svelte-m6gjg"),n(A,"id","username"),n(A,"type","text"),A.required=!0,n(A,"placeholder",ee=t[7]("auth.login.emailPlaceholder")),A.disabled=t[2],n(A,"class","svelte-m6gjg"),n(E,"class","form-group svelte-m6gjg"),n(Q,"for","password"),n(Q,"class","svelte-m6gjg"),n(S,"id","password"),n(S,"type","password"),S.required=!0,n(S,"placeholder",Ee=t[7]("auth.login.passwordPlaceholder")),S.disabled=t[2],n(S,"class","svelte-m6gjg"),n(J,"class","form-group svelte-m6gjg"),n(R,"href","/forgot-password"),n(R,"class","forgot-password svelte-m6gjg"),n(K,"class","form-footer svelte-m6gjg"),n(x,"type","submit"),n(x,"class","submit-button svelte-m6gjg"),x.disabled=t[2],n(z,"href","/register"),n(z,"class","svelte-m6gjg"),n(ie,"class","auth-footer svelte-m6gjg"),n(l,"class","auth-card svelte-m6gjg"),n(l,"role","region"),n(l,"aria-labelledby","login-heading"),n(e,"class","auth-container svelte-m6gjg")},m(_,k){M(_,e,k),a(e,l),a(l,s),a(s,i),a(l,p),a(l,v),a(v,C),a(l,r),X&&X.m(l,null),a(l,m),a(l,c),a(c,E),a(E,g),a(g,B),a(E,I),a(E,A),we(A,t[0]),a(c,de),a(c,J),a(J,Q),a(Q,b),a(J,re),a(J,S),we(S,t[1]),a(c,Z),a(c,K),a(K,R),a(R,te),a(c,De),a(c,x),a(x,W),a(l,G),a(l,ie),a(ie,le),a(le,Ce),a(le,he),a(le,z),a(z,ve),se||(Pe=[ne(A,"input",t[11]),ne(S,"input",t[12]),ne(c,"submit",t[8])],se=!0)},p(_,k){k&128&&o!==(o=_[7]("auth.login.title")+"")&&ae(i,o),k&128&&u!==(u=_[7]("auth.login.subtitle")+"")&&ae(C,u),_[3]?X?X.p(_,k):(X=rt(_),X.c(),X.m(l,m)):X&&(X.d(1),X=null),k&128&&T!==(T=_[7]("auth.login.email")+"")&&ae(B,T),k&128&&ee!==(ee=_[7]("auth.login.emailPlaceholder"))&&n(A,"placeholder",ee),k&4&&(A.disabled=_[2]),k&1&&A.value!==_[0]&&we(A,_[0]),k&128&&j!==(j=_[7]("auth.login.password")+"")&&ae(b,j),k&128&&Ee!==(Ee=_[7]("auth.login.passwordPlaceholder"))&&n(S,"placeholder",Ee),k&4&&(S.disabled=_[2]),k&2&&S.value!==_[1]&&we(S,_[1]),k&128&&me!==(me=_[7]("auth.login.forgotPassword")+"")&&ae(te,me),k&132&&_e!==(_e=(_[2]?_[7]("auth.login.submitting"):_[7]("auth.login.submit"))+"")&&ae(W,_e),k&4&&(x.disabled=_[2]),k&128&&pe!==(pe=_[7]("auth.login.noAccount")+"")&&ae(Ce,pe),k&128&&ge!==(ge=_[7]("auth.login.signUp")+"")&&ae(ve,ge)},i:Le,o:Le,d(_){_&&f(e),X&&X.d(),se=!1,ct(Pe)}}}function Tt(t){let e,l;return e=new Pt({props:{sessionId:t[5],methods:t[6],onSuccess:t[9],onCancel:t[10]}}),{c(){Ke(e.$$.fragment)},l(s){ze(e.$$.fragment,s)},m(s,o){Re(e,s,o),l=!0},p(s,o){const i={};o&32&&(i.sessionId=s[5]),o&64&&(i.methods=s[6]),e.$set(i)},i(s){l||(ce(e.$$.fragment,s),l=!0)},o(s){ke(e.$$.fragment,s),l=!1},d(s){Fe(e,s)}}}function rt(t){let e,l;return{c(){e=h("div"),l=H(t[3]),this.h()},l(s){e=d(s,"DIV",{class:!0,role:!0,"aria-live":!0});var o=y(e);l=O(o,t[3]),o.forEach(f),this.h()},h(){n(e,"class","error-message svelte-m6gjg"),n(e,"role","alert"),n(e,"aria-live","assertive")},m(s,o){M(s,e,o),a(e,l)},p(s,o){o&8&&ae(l,s[3])},d(s){s&&f(e)}}}function jt(t){let e,l,s,o,i,p;document.title=e=t[7]("auth.login.title")+" - "+t[7]("common.app.name");const v=[Tt,At],u=[];function C(r,m){return r[4]?0:1}return s=C(t),o=u[s]=v[s](t),{c(){l=V(),o.c(),i=We()},l(r){pt("svelte-1f0bz45",document.head).forEach(f),l=w(r),o.l(r),i=We()},m(r,m){M(r,l,m),u[s].m(r,m),M(r,i,m),p=!0},p(r,[m]){(!p||m&128)&&e!==(e=r[7]("auth.login.title")+" - "+r[7]("common.app.name"))&&(document.title=e);let c=s;s=C(r),s===c?u[s].p(r,m):(Oe(),ke(u[c],1,1,()=>{u[c]=null}),He(),o=u[s],o?o.p(r,m):(o=u[s]=v[s](r),o.c()),ce(o,1),o.m(i.parentNode,i))},i(r){p||(ce(o),p=!0)},o(r){ke(o),p=!1},d(r){r&&(f(l),f(i)),u[s].d(r)}}}function Bt(t,e,l){let s;gt(t,bt,B=>l(7,s=B));let o="",i="",p=!1,v="",u=!1,C="",r=[];async function m(B){B.preventDefault(),l(3,v=""),l(2,p=!0);try{const I=await vt.login({username:o,password:i});I.mfa_required?(l(4,u=!0),l(5,C=I.session_id),l(6,r=I.methods)):Ye("/")}catch(I){console.error("Login error:",I),I.detail&&typeof I.detail=="string"?l(3,v=I.detail):I.message?l(3,v=I.message):l(3,v=s("auth.login.errors.invalidCredentials"))}finally{l(2,p=!1)}}function c(B){Ye("/")}function E(){l(4,u=!1),l(5,C=""),l(6,r=[]),l(1,i="")}function g(){o=this.value,l(0,o)}function T(){i=this.value,l(1,i)}return[o,i,p,v,u,C,r,s,m,c,E,g,T]}class Ht extends it{constructor(e){super(),ut(this,e,Bt,jt,ft,{})}}export{Ht as component};
