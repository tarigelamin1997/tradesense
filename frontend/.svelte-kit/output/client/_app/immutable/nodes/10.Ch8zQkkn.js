import{S as il,i as ol,s as ul,d,y as Je,t as oe,a as K,I as ut,f as X,h as l,z as Ke,G as J,D as i,k as o,l as h,m as V,o as y,A as Xe,p as fe,M as Ht,q as u,r as x,B as Ge,v as ce,w as fl,n as ot,e as Ne,H as nl,J as ft,N as Ut,O as A,P as Ye,Q as qt,R as Nt,T as rl,U as vt,V as Vt,W as cl}from"../chunks/Lbc7qOuA.js";import{e as Lt}from"../chunks/BPb2qfkA.js";import"../chunks/IHki7fMi.js";import{a as it}from"../chunks/B8MKr4Yk.js";import{a as dl}from"../chunks/CgVo1oSI.js";import{I as Qe}from"../chunks/B3HFKiyR.js";function Wt(s,e,t){const a=s.slice();return a[41]=e[t],a[43]=t,a}function $t(s,e,t){const a=s.slice();return a[44]=e[t],a}function _l(s){let e,t,a,n='<tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Flag</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Default Value</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Targeting</th> <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr>',_,r,c,f=Lt(s[0]),p=[];for(let m=0;m<f.length;m+=1)p[m]=Xt($t(s,f,m));const v=m=>oe(p[m],1,1,()=>{p[m]=null});return{c(){e=u("div"),t=u("table"),a=u("thead"),a.innerHTML=n,_=x(),r=u("tbody");for(let m=0;m<p.length;m+=1)p[m].c();this.h()},l(m){e=o(m,"DIV",{class:!0});var w=h(e);t=o(w,"TABLE",{class:!0});var g=h(t);a=o(g,"THEAD",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-dlniu4"&&(a.innerHTML=n),_=y(g),r=o(g,"TBODY",{class:!0});var k=h(r);for(let I=0;I<p.length;I+=1)p[I].l(k);k.forEach(d),g.forEach(d),w.forEach(d),this.h()},h(){i(a,"class","bg-gray-50"),i(r,"class","bg-white divide-y divide-gray-200"),i(t,"class","min-w-full divide-y divide-gray-200"),i(e,"class","bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden")},m(m,w){X(m,e,w),l(e,t),l(t,a),l(t,_),l(t,r);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(r,null);c=!0},p(m,w){if(w[0]&15361){f=Lt(m[0]);let g;for(g=0;g<f.length;g+=1){const k=$t(m,f,g);p[g]?(p[g].p(k,w),K(p[g],1)):(p[g]=Xt(k),p[g].c(),K(p[g],1),p[g].m(r,null))}for(ft(),g=f.length;g<p.length;g+=1)v(g);ut()}},i(m){if(!c){for(let w=0;w<f.length;w+=1)K(p[w]);c=!0}},o(m){p=p.filter(Boolean);for(let w=0;w<p.length;w+=1)oe(p[w]);c=!1},d(m){m&&d(e),nl(p,m)}}}function pl(s){let e,t;return{c(){e=u("div"),t=ce(s[2]),this.h()},l(a){e=o(a,"DIV",{class:!0});var n=h(e);t=fe(n,s[2]),n.forEach(d),this.h()},h(){i(e,"class","alert alert-error mb-6 svelte-18k6mrr")},m(a,n){X(a,e,n),l(e,t)},p(a,n){n[0]&4&&Ne(t,a[2])},i:ot,o:ot,d(a){a&&d(e)}}}function vl(s){let e,t='<div class="spinner svelte-18k6mrr"></div>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(a){e=o(a,"DIV",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-em5o00"&&(e.innerHTML=t),this.h()},h(){i(e,"class","flex justify-center py-12")},m(a,n){X(a,e,n)},p:ot,i:ot,o:ot,d(a){a&&d(e)}}}function Jt(s){let e,t=s[44].description+"",a;return{c(){e=u("p"),a=ce(t),this.h()},l(n){e=o(n,"P",{class:!0});var _=h(e);a=fe(_,t),_.forEach(d),this.h()},h(){i(e,"class","text-xs text-gray-600 mt-1")},m(n,_){X(n,e,_),l(e,a)},p(n,_){_[0]&1&&t!==(t=n[44].description+"")&&Ne(a,t)},d(n){n&&d(e)}}}function hl(s){let e=s[44].default_value+"",t;return{c(){t=ce(e)},l(a){t=fe(a,e)},m(a,n){X(a,t,n)},p(a,n){n[0]&1&&e!==(e=a[44].default_value+"")&&Ne(t,e)},d(a){a&&d(t)}}}function ml(s){let e=s[44].default_value?"Enabled":"Disabled",t;return{c(){t=ce(e)},l(a){t=fe(a,e)},m(a,n){X(a,t,n)},p(a,n){n[0]&1&&e!==(e=a[44].default_value?"Enabled":"Disabled")&&Ne(t,e)},d(a){a&&d(t)}}}function gl(s){let e,t="No targeting";return{c(){e=u("span"),e.textContent=t,this.h()},l(a){e=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-ndxe52"&&(e.textContent=t),this.h()},h(){i(e,"class","text-xs text-gray-400")},m(a,n){X(a,e,n)},p:ot,d(a){a&&d(e)}}}function bl(s){let e,t=s[44].targeting_rules.length+"",a,n,_=s[44].targeting_rules.length>1?"s":"",r;return{c(){e=u("div"),a=ce(t),n=ce(" rule"),r=ce(_),this.h()},l(c){e=o(c,"DIV",{class:!0});var f=h(e);a=fe(f,t),n=fe(f," rule"),r=fe(f,_),f.forEach(d),this.h()},h(){i(e,"class","text-xs text-gray-600")},m(c,f){X(c,e,f),l(e,a),l(e,n),l(e,r)},p(c,f){f[0]&1&&t!==(t=c[44].targeting_rules.length+"")&&Ne(a,t),f[0]&1&&_!==(_=c[44].targeting_rules.length>1?"s":"")&&Ne(r,_)},d(c){c&&d(e)}}}function Kt(s){let e,t,a,n,_;t=new Qe({props:{name:"trash",class:"w-5 h-5"}});function r(){return s[21](s[44])}return{c(){e=u("button"),Ge(t.$$.fragment),this.h()},l(c){e=o(c,"BUTTON",{class:!0,title:!0});var f=h(e);Xe(t.$$.fragment,f),f.forEach(d),this.h()},h(){i(e,"class","text-red-600 hover:text-red-900"),i(e,"title","Delete flag")},m(c,f){X(c,e,f),Ke(t,e,null),a=!0,n||(_=J(e,"click",r),n=!0)},p(c,f){s=c},i(c){a||(K(t.$$.fragment,c),a=!0)},o(c){oe(t.$$.fragment,c),a=!1},d(c){c&&d(e),Je(t),n=!1,_()}}}function Xt(s){let e,t,a,n,_=s[44].name+"",r,c,f,p=s[44].key+"",v,m,w,g,k,I,ae,N,O=s[44].type.replace("_"," ")+"",M,S,E,B,C=s[44].status+"",D,Z,ee,R,he,le,me,j,U,ge,L,de,be,z,ke,Q,Ce,ue,Y,te,b,W,se=!s[44].id.startsWith("default_"),Ae,_e,ye,Ve,G=s[44].description&&Jt(s);I=new Qe({props:{name:sl(s[44].type),class:"w-4 h-4 text-gray-400 mr-2"}});function pe(F,T){return F[44].type==="boolean"?ml:hl}let $=pe(s),P=$(s);function Te(F,T){return F[44].targeting_rules&&F[44].targeting_rules.length>0?bl:gl}let ve=Te(s),ne=ve(s);L=new Qe({props:{name:s[44].status==="active"?"toggle-right":"toggle-left",class:"w-5 h-5"}});function xe(){return s[18](s[44])}z=new Qe({props:{name:"edit",class:"w-5 h-5"}});function we(){return s[19](s[44])}Ce=new Qe({props:{name:"play",class:"w-5 h-5"}});function Ie(){return s[20](s[44])}te=new Qe({props:{name:"bar-chart-2",class:"w-5 h-5"}});let H=se&&Kt(s);return{c(){e=u("tr"),t=u("td"),a=u("div"),n=u("p"),r=ce(_),c=x(),f=u("p"),v=ce(p),m=x(),G&&G.c(),w=x(),g=u("td"),k=u("div"),Ge(I.$$.fragment),ae=x(),N=u("span"),M=ce(O),S=x(),E=u("td"),B=u("span"),D=ce(C),ee=x(),R=u("td"),P.c(),he=x(),le=u("td"),ne.c(),me=x(),j=u("td"),U=u("div"),ge=u("button"),Ge(L.$$.fragment),de=x(),be=u("button"),Ge(z.$$.fragment),ke=x(),Q=u("button"),Ge(Ce.$$.fragment),ue=x(),Y=u("a"),Ge(te.$$.fragment),W=x(),H&&H.c(),Ae=x(),this.h()},l(F){e=o(F,"TR",{});var T=h(e);t=o(T,"TD",{class:!0});var re=h(t);a=o(re,"DIV",{});var Le=h(a);n=o(Le,"P",{class:!0});var Pe=h(n);r=fe(Pe,_),Pe.forEach(d),c=y(Le),f=o(Le,"P",{class:!0});var ct=h(f);v=fe(ct,p),ct.forEach(d),m=y(Le),G&&G.l(Le),Le.forEach(d),re.forEach(d),w=y(T),g=o(T,"TD",{class:!0});var Be=h(g);k=o(Be,"DIV",{class:!0});var Ze=h(k);Xe(I.$$.fragment,Ze),ae=y(Ze),N=o(Ze,"SPAN",{class:!0});var et=h(N);M=fe(et,O),et.forEach(d),Ze.forEach(d),Be.forEach(d),S=y(T),E=o(T,"TD",{class:!0});var Ue=h(E);B=o(Ue,"SPAN",{class:!0});var Me=h(B);D=fe(Me,C),Me.forEach(d),Ue.forEach(d),ee=y(T),R=o(T,"TD",{class:!0});var dt=h(R);P.l(dt),dt.forEach(d),he=y(T),le=o(T,"TD",{class:!0});var tt=h(le);ne.l(tt),tt.forEach(d),me=y(T),j=o(T,"TD",{class:!0});var De=h(j);U=o(De,"DIV",{class:!0});var Oe=h(U);ge=o(Oe,"BUTTON",{class:!0,title:!0});var Se=h(ge);Xe(L.$$.fragment,Se),Se.forEach(d),de=y(Oe),be=o(Oe,"BUTTON",{class:!0,title:!0});var Re=h(be);Xe(z.$$.fragment,Re),Re.forEach(d),ke=y(Oe),Q=o(Oe,"BUTTON",{class:!0,title:!0});var _t=h(Q);Xe(Ce.$$.fragment,_t),_t.forEach(d),ue=y(Oe),Y=o(Oe,"A",{href:!0,class:!0,title:!0});var lt=h(Y);Xe(te.$$.fragment,lt),lt.forEach(d),W=y(Oe),H&&H.l(Oe),Oe.forEach(d),De.forEach(d),Ae=y(T),T.forEach(d),this.h()},h(){i(n,"class","text-sm font-medium text-gray-900"),i(f,"class","text-xs text-gray-500 font-mono"),i(t,"class","px-6 py-4"),i(N,"class","text-sm text-gray-900 capitalize"),i(k,"class","flex items-center"),i(g,"class","px-6 py-4"),i(B,"class",Z="inline-flex px-2 py-1 text-xs font-medium rounded-full "+al(s[44].status)+" svelte-18k6mrr"),i(E,"class","px-6 py-4"),i(R,"class","px-6 py-4 text-sm text-gray-900"),i(le,"class","px-6 py-4"),i(ge,"class","text-gray-400 hover:text-gray-600"),i(ge,"title","Toggle status"),i(be,"class","text-indigo-600 hover:text-indigo-900"),i(be,"title","Edit flag"),i(Q,"class","text-green-600 hover:text-green-900"),i(Q,"title","Test flag"),i(Y,"href",b="/admin/feature-flags/"+s[44].key+"/analytics"),i(Y,"class","text-blue-600 hover:text-blue-900"),i(Y,"title","View analytics"),i(U,"class","flex items-center justify-end space-x-2"),i(j,"class","px-6 py-4 text-right text-sm font-medium")},m(F,T){X(F,e,T),l(e,t),l(t,a),l(a,n),l(n,r),l(a,c),l(a,f),l(f,v),l(a,m),G&&G.m(a,null),l(e,w),l(e,g),l(g,k),Ke(I,k,null),l(k,ae),l(k,N),l(N,M),l(e,S),l(e,E),l(E,B),l(B,D),l(e,ee),l(e,R),P.m(R,null),l(e,he),l(e,le),ne.m(le,null),l(e,me),l(e,j),l(j,U),l(U,ge),Ke(L,ge,null),l(U,de),l(U,be),Ke(z,be,null),l(U,ke),l(U,Q),Ke(Ce,Q,null),l(U,ue),l(U,Y),Ke(te,Y,null),l(U,W),H&&H.m(U,null),l(e,Ae),_e=!0,ye||(Ve=[J(ge,"click",xe),J(be,"click",we),J(Q,"click",Ie)],ye=!0)},p(F,T){s=F,(!_e||T[0]&1)&&_!==(_=s[44].name+"")&&Ne(r,_),(!_e||T[0]&1)&&p!==(p=s[44].key+"")&&Ne(v,p),s[44].description?G?G.p(s,T):(G=Jt(s),G.c(),G.m(a,null)):G&&(G.d(1),G=null);const re={};T[0]&1&&(re.name=sl(s[44].type)),I.$set(re),(!_e||T[0]&1)&&O!==(O=s[44].type.replace("_"," ")+"")&&Ne(M,O),(!_e||T[0]&1)&&C!==(C=s[44].status+"")&&Ne(D,C),(!_e||T[0]&1&&Z!==(Z="inline-flex px-2 py-1 text-xs font-medium rounded-full "+al(s[44].status)+" svelte-18k6mrr"))&&i(B,"class",Z),$===($=pe(s))&&P?P.p(s,T):(P.d(1),P=$(s),P&&(P.c(),P.m(R,null))),ve===(ve=Te(s))&&ne?ne.p(s,T):(ne.d(1),ne=ve(s),ne&&(ne.c(),ne.m(le,null)));const Le={};T[0]&1&&(Le.name=s[44].status==="active"?"toggle-right":"toggle-left"),L.$set(Le),(!_e||T[0]&1&&b!==(b="/admin/feature-flags/"+s[44].key+"/analytics"))&&i(Y,"href",b),T[0]&1&&(se=!s[44].id.startsWith("default_")),se?H?(H.p(s,T),T[0]&1&&K(H,1)):(H=Kt(s),H.c(),K(H,1),H.m(U,null)):H&&(ft(),oe(H,1,1,()=>{H=null}),ut())},i(F){_e||(K(I.$$.fragment,F),K(L.$$.fragment,F),K(z.$$.fragment,F),K(Ce.$$.fragment,F),K(te.$$.fragment,F),K(H),_e=!0)},o(F){oe(I.$$.fragment,F),oe(L.$$.fragment,F),oe(z.$$.fragment,F),oe(Ce.$$.fragment,F),oe(te.$$.fragment,F),oe(H),_e=!1},d(F){F&&d(e),G&&G.d(),Je(I),P.d(),ne.d(),Je(L),Je(z),Je(Ce),Je(te),H&&H.d(),ye=!1,Ut(Ve)}}}function Gt(s){let e,t,a,n="Create Feature Flag",_,r,c,f,p,v="Key *",m,w,g,k,I="Lowercase letters, numbers, and underscores only",ae,N,O,M="Name *",S,E,B,C,D,Z="Description",ee,R,he,le,me,j,U="Type",ge,L,de,be="Boolean (On/Off)",z,ke="Percentage Rollout",Q,Ce="User List",ue,Y="A/B Test Variant",te,b,W,se="Default Value",Ae,_e,ye,Ve,G="Targeting Rules",pe,$,P,Te,ve="Add Rule",ne,xe,we,Ie,H="User Tiers",F,T,re,Le="Free",Pe,ct="Pro",Be,Ze="Premium",et,Ue,Me,dt="Percentage",tt,De,Oe,Se,Re,_t="Min Trades",lt,je,Pt,He,Mt="+ Add Rule",Bt,We,qe,St="Cancel",Ft,$e,Rt="Create Flag",ht,At,jt;function zt(q,Ee){return q[6].type==="boolean"?xl:yl}let mt=zt(s),Fe=mt(s),ie=s[6].targeting_rules.length>0&&Qt(s);return{c(){e=u("div"),t=u("div"),a=u("h3"),a.textContent=n,_=x(),r=u("form"),c=u("div"),f=u("div"),p=u("label"),p.textContent=v,m=x(),w=u("input"),g=x(),k=u("p"),k.textContent=I,ae=x(),N=u("div"),O=u("label"),O.textContent=M,S=x(),E=u("input"),B=x(),C=u("div"),D=u("label"),D.textContent=Z,ee=x(),R=u("textarea"),he=x(),le=u("div"),me=u("div"),j=u("label"),j.textContent=U,ge=x(),L=u("select"),de=u("option"),de.textContent=be,z=u("option"),z.textContent=ke,Q=u("option"),Q.textContent=Ce,ue=u("option"),ue.textContent=Y,te=x(),b=u("div"),W=u("label"),W.textContent=se,Ae=x(),Fe.c(),_e=x(),ye=u("div"),Ve=u("h4"),Ve.textContent=G,pe=x(),ie&&ie.c(),$=x(),P=u("div"),Te=u("p"),Te.textContent=ve,ne=x(),xe=u("div"),we=u("div"),Ie=u("label"),Ie.textContent=H,F=x(),T=u("select"),re=u("option"),re.textContent=Le,Pe=u("option"),Pe.textContent=ct,Be=u("option"),Be.textContent=Ze,et=x(),Ue=u("div"),Me=u("label"),Me.textContent=dt,tt=x(),De=u("input"),Oe=x(),Se=u("div"),Re=u("label"),Re.textContent=_t,lt=x(),je=u("input"),Pt=x(),He=u("button"),He.textContent=Mt,Bt=x(),We=u("div"),qe=u("button"),qe.textContent=St,Ft=x(),$e=u("button"),$e.textContent=Rt,this.h()},l(q){e=o(q,"DIV",{class:!0});var Ee=h(e);t=o(Ee,"DIV",{class:!0});var gt=h(t);a=o(gt,"H3",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-1y9iq61"&&(a.textContent=n),_=y(gt),r=o(gt,"FORM",{class:!0});var ze=h(r);c=o(ze,"DIV",{class:!0});var bt=h(c);f=o(bt,"DIV",{});var st=h(f);p=o(st,"LABEL",{class:!0,"data-svelte-h":!0}),V(p)!=="svelte-llezh6"&&(p.textContent=v),m=y(st),w=o(st,"INPUT",{type:!0,pattern:!0,class:!0,placeholder:!0}),g=y(st),k=o(st,"P",{class:!0,"data-svelte-h":!0}),V(k)!=="svelte-1uyr2m2"&&(k.textContent=I),st.forEach(d),ae=y(bt),N=o(bt,"DIV",{});var yt=h(N);O=o(yt,"LABEL",{class:!0,"data-svelte-h":!0}),V(O)!=="svelte-15bgkus"&&(O.textContent=M),S=y(yt),E=o(yt,"INPUT",{type:!0,class:!0,placeholder:!0}),yt.forEach(d),bt.forEach(d),B=y(ze),C=o(ze,"DIV",{});var xt=h(C);D=o(xt,"LABEL",{class:!0,"data-svelte-h":!0}),V(D)!=="svelte-pw51gd"&&(D.textContent=Z),ee=y(xt),R=o(xt,"TEXTAREA",{rows:!0,class:!0,placeholder:!0}),h(R).forEach(d),xt.forEach(d),he=y(ze),le=o(ze,"DIV",{class:!0});var kt=h(le);me=o(kt,"DIV",{});var Ct=h(me);j=o(Ct,"LABEL",{class:!0,"data-svelte-h":!0}),V(j)!=="svelte-84291v"&&(j.textContent=U),ge=y(Ct),L=o(Ct,"SELECT",{class:!0});var pt=h(L);de=o(pt,"OPTION",{"data-svelte-h":!0}),V(de)!=="svelte-wyf43u"&&(de.textContent=be),z=o(pt,"OPTION",{"data-svelte-h":!0}),V(z)!=="svelte-gidjo5"&&(z.textContent=ke),Q=o(pt,"OPTION",{"data-svelte-h":!0}),V(Q)!=="svelte-zwvjpl"&&(Q.textContent=Ce),ue=o(pt,"OPTION",{"data-svelte-h":!0}),V(ue)!=="svelte-9hx9rm"&&(ue.textContent=Y),pt.forEach(d),Ct.forEach(d),te=y(kt),b=o(kt,"DIV",{});var Et=h(b);W=o(Et,"LABEL",{class:!0,"data-svelte-h":!0}),V(W)!=="svelte-190eirf"&&(W.textContent=se),Ae=y(Et),Fe.l(Et),Et.forEach(d),kt.forEach(d),_e=y(ze),ye=o(ze,"DIV",{});var at=h(ye);Ve=o(at,"H4",{class:!0,"data-svelte-h":!0}),V(Ve)!=="svelte-ryae3h"&&(Ve.textContent=G),pe=y(at),ie&&ie.l(at),$=y(at),P=o(at,"DIV",{class:!0});var nt=h(P);Te=o(nt,"P",{class:!0,"data-svelte-h":!0}),V(Te)!=="svelte-1mt4f7e"&&(Te.textContent=ve),ne=y(nt),xe=o(nt,"DIV",{class:!0});var rt=h(xe);we=o(rt,"DIV",{});var Tt=h(we);Ie=o(Tt,"LABEL",{class:!0,"data-svelte-h":!0}),V(Ie)!=="svelte-c3xo6r"&&(Ie.textContent=H),F=y(Tt),T=o(Tt,"SELECT",{class:!0,size:!0});var wt=h(T);re=o(wt,"OPTION",{"data-svelte-h":!0}),V(re)!=="svelte-88bi0a"&&(re.textContent=Le),Pe=o(wt,"OPTION",{"data-svelte-h":!0}),V(Pe)!=="svelte-1qjiygw"&&(Pe.textContent=ct),Be=o(wt,"OPTION",{"data-svelte-h":!0}),V(Be)!=="svelte-yigl7g"&&(Be.textContent=Ze),wt.forEach(d),Tt.forEach(d),et=y(rt),Ue=o(rt,"DIV",{});var It=h(Ue);Me=o(It,"LABEL",{class:!0,"data-svelte-h":!0}),V(Me)!=="svelte-13ufnsp"&&(Me.textContent=dt),tt=y(It),De=o(It,"INPUT",{type:!0,min:!0,max:!0,class:!0}),It.forEach(d),Oe=y(rt),Se=o(rt,"DIV",{});var Dt=h(Se);Re=o(Dt,"LABEL",{class:!0,"data-svelte-h":!0}),V(Re)!=="svelte-17hxzz0"&&(Re.textContent=_t),lt=y(Dt),je=o(Dt,"INPUT",{type:!0,min:!0,class:!0}),Dt.forEach(d),rt.forEach(d),Pt=y(nt),He=o(nt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(He)!=="svelte-jtx1zb"&&(He.textContent=Mt),nt.forEach(d),at.forEach(d),Bt=y(ze),We=o(ze,"DIV",{class:!0});var Ot=h(We);qe=o(Ot,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(qe)!=="svelte-1b2pn9n"&&(qe.textContent=St),Ft=y(Ot),$e=o(Ot,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V($e)!=="svelte-1753o4r"&&($e.textContent=Rt),Ot.forEach(d),ze.forEach(d),gt.forEach(d),Ee.forEach(d),this.h()},h(){i(a,"class","text-xl font-semibold text-gray-900 mb-4"),i(p,"class","block text-sm font-medium text-gray-700 mb-1"),i(w,"type","text"),i(w,"pattern","[a-z0-9_]+"),i(w,"class","form-input svelte-18k6mrr"),i(w,"placeholder","feature_key"),w.required=!0,i(k,"class","mt-1 text-xs text-gray-500"),i(O,"class","block text-sm font-medium text-gray-700 mb-1"),i(E,"type","text"),i(E,"class","form-input svelte-18k6mrr"),i(E,"placeholder","Feature Name"),E.required=!0,i(c,"class","grid grid-cols-2 gap-4"),i(D,"class","block text-sm font-medium text-gray-700 mb-1"),i(R,"rows","2"),i(R,"class","form-textarea svelte-18k6mrr"),i(R,"placeholder","What does this feature do?"),i(j,"class","block text-sm font-medium text-gray-700 mb-1"),de.__value="boolean",A(de,de.__value),z.__value="percentage",A(z,z.__value),Q.__value="user_list",A(Q,Q.__value),ue.__value="variant",A(ue,ue.__value),i(L,"class","form-select svelte-18k6mrr"),s[6].type===void 0&&vt(()=>s[25].call(L)),i(W,"class","block text-sm font-medium text-gray-700 mb-1"),i(le,"class","grid grid-cols-2 gap-4"),i(Ve,"class","text-sm font-medium text-gray-700 mb-2"),i(Te,"class","text-sm font-medium text-gray-700 mb-2"),i(Ie,"class","block text-xs text-gray-600"),re.__value="free",A(re,re.__value),Pe.__value="pro",A(Pe,Pe.__value),Be.__value="premium",A(Be,Be.__value),T.multiple=!0,i(T,"class","form-select text-sm svelte-18k6mrr"),i(T,"size","3"),s[7].user_tiers===void 0&&vt(()=>s[29].call(T)),i(Me,"class","block text-xs text-gray-600"),i(De,"type","number"),i(De,"min","0"),i(De,"max","100"),i(De,"class","form-input text-sm svelte-18k6mrr"),i(Re,"class","block text-xs text-gray-600"),i(je,"type","number"),i(je,"min","0"),i(je,"class","form-input text-sm svelte-18k6mrr"),i(xe,"class","grid grid-cols-3 gap-2"),i(He,"type","button"),i(He,"class","mt-2 text-sm text-indigo-600 hover:text-indigo-700"),i(P,"class","border border-gray-300 rounded-md p-3"),i(qe,"type","button"),i(qe,"class","btn btn-secondary svelte-18k6mrr"),i($e,"type","submit"),i($e,"class","btn btn-primary svelte-18k6mrr"),i(We,"class","mt-6 flex justify-end space-x-3"),i(r,"class","space-y-4"),i(t,"class","bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto"),i(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(q,Ee){X(q,e,Ee),l(e,t),l(t,a),l(t,_),l(t,r),l(r,c),l(c,f),l(f,p),l(f,m),l(f,w),A(w,s[6].key),l(f,g),l(f,k),l(c,ae),l(c,N),l(N,O),l(N,S),l(N,E),A(E,s[6].name),l(r,B),l(r,C),l(C,D),l(C,ee),l(C,R),A(R,s[6].description),l(r,he),l(r,le),l(le,me),l(me,j),l(me,ge),l(me,L),l(L,de),l(L,z),l(L,Q),l(L,ue),Ye(L,s[6].type,!0),l(le,te),l(le,b),l(b,W),l(b,Ae),Fe.m(b,null),l(r,_e),l(r,ye),l(ye,Ve),l(ye,pe),ie&&ie.m(ye,null),l(ye,$),l(ye,P),l(P,Te),l(P,ne),l(P,xe),l(xe,we),l(we,Ie),l(we,F),l(we,T),l(T,re),l(T,Pe),l(T,Be),qt(T,s[7].user_tiers),l(xe,et),l(xe,Ue),l(Ue,Me),l(Ue,tt),l(Ue,De),A(De,s[7].user_percentage),l(xe,Oe),l(xe,Se),l(Se,Re),l(Se,lt),l(Se,je),A(je,s[7].min_trades),l(P,Pt),l(P,He),l(r,Bt),l(r,We),l(We,qe),l(We,Ft),l(We,$e),ht=!0,At||(jt=[J(w,"input",s[22]),J(E,"input",s[23]),J(R,"input",s[24]),J(L,"change",s[25]),J(T,"change",s[29]),J(De,"input",s[30]),J(je,"input",s[31]),J(He,"click",s[14]),J(qe,"click",s[32]),J(r,"submit",rl(s[8]))],At=!0)},p(q,Ee){Ee[0]&64&&w.value!==q[6].key&&A(w,q[6].key),Ee[0]&64&&E.value!==q[6].name&&A(E,q[6].name),Ee[0]&64&&A(R,q[6].description),Ee[0]&64&&Ye(L,q[6].type),mt===(mt=zt(q))&&Fe?Fe.p(q,Ee):(Fe.d(1),Fe=mt(q),Fe&&(Fe.c(),Fe.m(b,null))),q[6].targeting_rules.length>0?ie?(ie.p(q,Ee),Ee[0]&64&&K(ie,1)):(ie=Qt(q),ie.c(),K(ie,1),ie.m(ye,$)):ie&&(ft(),oe(ie,1,1,()=>{ie=null}),ut()),Ee[0]&128&&qt(T,q[7].user_tiers),Ee[0]&128&&Nt(De.value)!==q[7].user_percentage&&A(De,q[7].user_percentage),Ee[0]&128&&Nt(je.value)!==q[7].min_trades&&A(je,q[7].min_trades)},i(q){ht||(K(ie),ht=!0)},o(q){oe(ie),ht=!1},d(q){q&&d(e),Fe.d(),ie&&ie.d(),At=!1,Ut(jt)}}}function yl(s){let e,t,a;return{c(){e=u("input"),this.h()},l(n){e=o(n,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){i(e,"type","text"),i(e,"class","form-input svelte-18k6mrr"),i(e,"placeholder","Default value")},m(n,_){X(n,e,_),A(e,s[6].default_value),t||(a=J(e,"input",s[27]),t=!0)},p(n,_){_[0]&64&&e.value!==n[6].default_value&&A(e,n[6].default_value)},d(n){n&&d(e),t=!1,a()}}}function xl(s){let e,t,a="Disabled",n,_="Enabled",r,c;return{c(){e=u("select"),t=u("option"),t.textContent=a,n=u("option"),n.textContent=_,this.h()},l(f){e=o(f,"SELECT",{class:!0});var p=h(e);t=o(p,"OPTION",{"data-svelte-h":!0}),V(t)!=="svelte-17vl8k9"&&(t.textContent=a),n=o(p,"OPTION",{"data-svelte-h":!0}),V(n)!=="svelte-9v0opp"&&(n.textContent=_),p.forEach(d),this.h()},h(){t.__value=!1,A(t,t.__value),n.__value=!0,A(n,n.__value),i(e,"class","form-select svelte-18k6mrr"),s[6].default_value===void 0&&vt(()=>s[26].call(e))},m(f,p){X(f,e,p),l(e,t),l(e,n),Ye(e,s[6].default_value,!0),r||(c=J(e,"change",s[26]),r=!0)},p(f,p){p[0]&64&&Ye(e,f[6].default_value)},d(f){f&&d(e),r=!1,c()}}}function Qt(s){let e,t,a=Lt(s[6].targeting_rules),n=[];for(let r=0;r<a.length;r+=1)n[r]=tl(Wt(s,a,r));const _=r=>oe(n[r],1,1,()=>{n[r]=null});return{c(){e=u("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=o(r,"DIV",{class:!0});var c=h(e);for(let f=0;f<n.length;f+=1)n[f].l(c);c.forEach(d),this.h()},h(){i(e,"class","space-y-2 mb-4")},m(r,c){X(r,e,c);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);t=!0},p(r,c){if(c[0]&32832){a=Lt(r[6].targeting_rules);let f;for(f=0;f<a.length;f+=1){const p=Wt(r,a,f);n[f]?(n[f].p(p,c),K(n[f],1)):(n[f]=tl(p),n[f].c(),K(n[f],1),n[f].m(e,null))}for(ft(),f=a.length;f<n.length;f+=1)_(f);ut()}},i(r){if(!t){for(let c=0;c<a.length;c+=1)K(n[c]);t=!0}},o(r){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)oe(n[c]);t=!1},d(r){r&&d(e),nl(n,r)}}}function Yt(s){let e,t,a=s[41].user_tiers.join(", ")+"",n;return{c(){e=u("p"),t=ce("Tiers: "),n=ce(a)},l(_){e=o(_,"P",{});var r=h(e);t=fe(r,"Tiers: "),n=fe(r,a),r.forEach(d)},m(_,r){X(_,e,r),l(e,t),l(e,n)},p(_,r){r[0]&64&&a!==(a=_[41].user_tiers.join(", ")+"")&&Ne(n,a)},d(_){_&&d(e)}}}function Zt(s){let e,t,a=s[41].user_percentage+"",n,_;return{c(){e=u("p"),t=ce("Rollout: "),n=ce(a),_=ce("%")},l(r){e=o(r,"P",{});var c=h(e);t=fe(c,"Rollout: "),n=fe(c,a),_=fe(c,"%"),c.forEach(d)},m(r,c){X(r,e,c),l(e,t),l(e,n),l(e,_)},p(r,c){c[0]&64&&a!==(a=r[41].user_percentage+"")&&Ne(n,a)},d(r){r&&d(e)}}}function el(s){let e,t,a=s[41].min_trades+"",n;return{c(){e=u("p"),t=ce("Min trades: "),n=ce(a)},l(_){e=o(_,"P",{});var r=h(e);t=fe(r,"Min trades: "),n=fe(r,a),r.forEach(d)},m(_,r){X(_,e,r),l(e,t),l(e,n)},p(_,r){r[0]&64&&a!==(a=_[41].min_trades+"")&&Ne(n,a)},d(_){_&&d(e)}}}function tl(s){var ae;let e,t,a,n,_,r,c,f,p,v,m;a=new Qe({props:{name:"x",class:"w-4 h-4"}});function w(){return s[28](s[43])}let g=((ae=s[41].user_tiers)==null?void 0:ae.length)>0&&Yt(s),k=s[41].user_percentage<100&&Zt(s),I=s[41].min_trades>0&&el(s);return{c(){e=u("div"),t=u("button"),Ge(a.$$.fragment),n=x(),_=u("div"),g&&g.c(),r=x(),k&&k.c(),c=x(),I&&I.c(),f=x(),this.h()},l(N){e=o(N,"DIV",{class:!0});var O=h(e);t=o(O,"BUTTON",{type:!0,class:!0});var M=h(t);Xe(a.$$.fragment,M),M.forEach(d),n=y(O),_=o(O,"DIV",{class:!0});var S=h(_);g&&g.l(S),r=y(S),k&&k.l(S),c=y(S),I&&I.l(S),S.forEach(d),f=y(O),O.forEach(d),this.h()},h(){i(t,"type","button"),i(t,"class","absolute top-2 right-2 text-red-600 hover:text-red-800"),i(_,"class","text-sm"),i(e,"class","bg-gray-50 rounded-md p-3 relative")},m(N,O){X(N,e,O),l(e,t),Ke(a,t,null),l(e,n),l(e,_),g&&g.m(_,null),l(_,r),k&&k.m(_,null),l(_,c),I&&I.m(_,null),l(e,f),p=!0,v||(m=J(t,"click",w),v=!0)},p(N,O){var M;s=N,((M=s[41].user_tiers)==null?void 0:M.length)>0?g?g.p(s,O):(g=Yt(s),g.c(),g.m(_,r)):g&&(g.d(1),g=null),s[41].user_percentage<100?k?k.p(s,O):(k=Zt(s),k.c(),k.m(_,c)):k&&(k.d(1),k=null),s[41].min_trades>0?I?I.p(s,O):(I=el(s),I.c(),I.m(_,null)):I&&(I.d(1),I=null)},i(N){p||(K(a.$$.fragment,N),p=!0)},o(N){oe(a.$$.fragment,N),p=!1},d(N){N&&d(e),Je(a),g&&g.d(),k&&k.d(),I&&I.d(),v=!1,m()}}}function ll(s){let e,t,a,n="Edit Feature Flag",_,r,c,f,p="Key",v,m,w,g,k,I,ae="Name",N,O,M,S,E,B="Description",C,D,Z,ee,R,he,le="Status",me,j,U,ge="Active",L,de="Inactive",be,z,ke,Q="Default Value",Ce,ue,Y,te,b="Cancel",W,se,Ae="Update Flag",_e,ye;function Ve($,P){return $[6].type==="boolean"?Cl:kl}let G=Ve(s),pe=G(s);return{c(){e=u("div"),t=u("div"),a=u("h3"),a.textContent=n,_=x(),r=u("form"),c=u("div"),f=u("label"),f.textContent=p,v=x(),m=u("input"),g=x(),k=u("div"),I=u("label"),I.textContent=ae,N=x(),O=u("input"),M=x(),S=u("div"),E=u("label"),E.textContent=B,C=x(),D=u("textarea"),Z=x(),ee=u("div"),R=u("div"),he=u("label"),he.textContent=le,me=x(),j=u("select"),U=u("option"),U.textContent=ge,L=u("option"),L.textContent=de,be=x(),z=u("div"),ke=u("label"),ke.textContent=Q,Ce=x(),pe.c(),ue=x(),Y=u("div"),te=u("button"),te.textContent=b,W=x(),se=u("button"),se.textContent=Ae,this.h()},l($){e=o($,"DIV",{class:!0});var P=h(e);t=o(P,"DIV",{class:!0});var Te=h(t);a=o(Te,"H3",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-879cd"&&(a.textContent=n),_=y(Te),r=o(Te,"FORM",{class:!0});var ve=h(r);c=o(ve,"DIV",{});var ne=h(c);f=o(ne,"LABEL",{class:!0,"data-svelte-h":!0}),V(f)!=="svelte-pglkcs"&&(f.textContent=p),v=y(ne),m=o(ne,"INPUT",{type:!0,class:!0}),ne.forEach(d),g=y(ve),k=o(ve,"DIV",{});var xe=h(k);I=o(xe,"LABEL",{class:!0,"data-svelte-h":!0}),V(I)!=="svelte-1fmdkmy"&&(I.textContent=ae),N=y(xe),O=o(xe,"INPUT",{type:!0,class:!0}),xe.forEach(d),M=y(ve),S=o(ve,"DIV",{});var we=h(S);E=o(we,"LABEL",{class:!0,"data-svelte-h":!0}),V(E)!=="svelte-pw51gd"&&(E.textContent=B),C=y(we),D=o(we,"TEXTAREA",{rows:!0,class:!0}),h(D).forEach(d),we.forEach(d),Z=y(ve),ee=o(ve,"DIV",{class:!0});var Ie=h(ee);R=o(Ie,"DIV",{});var H=h(R);he=o(H,"LABEL",{class:!0,"data-svelte-h":!0}),V(he)!=="svelte-wiimp"&&(he.textContent=le),me=y(H),j=o(H,"SELECT",{class:!0});var F=h(j);U=o(F,"OPTION",{"data-svelte-h":!0}),V(U)!=="svelte-1mh57he"&&(U.textContent=ge),L=o(F,"OPTION",{"data-svelte-h":!0}),V(L)!=="svelte-okme9y"&&(L.textContent=de),F.forEach(d),H.forEach(d),be=y(Ie),z=o(Ie,"DIV",{});var T=h(z);ke=o(T,"LABEL",{class:!0,"data-svelte-h":!0}),V(ke)!=="svelte-190eirf"&&(ke.textContent=Q),Ce=y(T),pe.l(T),T.forEach(d),Ie.forEach(d),ue=y(ve),Y=o(ve,"DIV",{class:!0});var re=h(Y);te=o(re,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(te)!=="svelte-1f9k6nf"&&(te.textContent=b),W=y(re),se=o(re,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(se)!=="svelte-11i5kry"&&(se.textContent=Ae),re.forEach(d),ve.forEach(d),Te.forEach(d),P.forEach(d),this.h()},h(){i(a,"class","text-xl font-semibold text-gray-900 mb-4"),i(f,"class","block text-sm font-medium text-gray-700 mb-1"),i(m,"type","text"),m.value=w=s[6].key,i(m,"class","form-input bg-gray-100 svelte-18k6mrr"),m.disabled=!0,i(I,"class","block text-sm font-medium text-gray-700 mb-1"),i(O,"type","text"),i(O,"class","form-input svelte-18k6mrr"),O.required=!0,i(E,"class","block text-sm font-medium text-gray-700 mb-1"),i(D,"rows","2"),i(D,"class","form-textarea svelte-18k6mrr"),i(he,"class","block text-sm font-medium text-gray-700 mb-1"),U.__value="active",A(U,U.__value),L.__value="inactive",A(L,L.__value),i(j,"class","form-select svelte-18k6mrr"),s[6].status===void 0&&vt(()=>s[35].call(j)),i(ke,"class","block text-sm font-medium text-gray-700 mb-1"),i(ee,"class","grid grid-cols-2 gap-4"),i(te,"type","button"),i(te,"class","btn btn-secondary svelte-18k6mrr"),i(se,"type","submit"),i(se,"class","btn btn-primary svelte-18k6mrr"),i(Y,"class","mt-6 flex justify-end space-x-3"),i(r,"class","space-y-4"),i(t,"class","bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto"),i(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m($,P){X($,e,P),l(e,t),l(t,a),l(t,_),l(t,r),l(r,c),l(c,f),l(c,v),l(c,m),l(r,g),l(r,k),l(k,I),l(k,N),l(k,O),A(O,s[6].name),l(r,M),l(r,S),l(S,E),l(S,C),l(S,D),A(D,s[6].description),l(r,Z),l(r,ee),l(ee,R),l(R,he),l(R,me),l(R,j),l(j,U),l(j,L),Ye(j,s[6].status,!0),l(ee,be),l(ee,z),l(z,ke),l(z,Ce),pe.m(z,null),l(r,ue),l(r,Y),l(Y,te),l(Y,W),l(Y,se),_e||(ye=[J(O,"input",s[33]),J(D,"input",s[34]),J(j,"change",s[35]),J(te,"click",s[38]),J(r,"submit",rl(s[9]))],_e=!0)},p($,P){P[0]&64&&w!==(w=$[6].key)&&m.value!==w&&(m.value=w),P[0]&64&&O.value!==$[6].name&&A(O,$[6].name),P[0]&64&&A(D,$[6].description),P[0]&64&&Ye(j,$[6].status),G===(G=Ve($))&&pe?pe.p($,P):(pe.d(1),pe=G($),pe&&(pe.c(),pe.m(z,null)))},d($){$&&d(e),pe.d(),_e=!1,Ut(ye)}}}function kl(s){let e,t,a;return{c(){e=u("input"),this.h()},l(n){e=o(n,"INPUT",{type:!0,class:!0}),this.h()},h(){i(e,"type","text"),i(e,"class","form-input svelte-18k6mrr")},m(n,_){X(n,e,_),A(e,s[6].default_value),t||(a=J(e,"input",s[37]),t=!0)},p(n,_){_[0]&64&&e.value!==n[6].default_value&&A(e,n[6].default_value)},d(n){n&&d(e),t=!1,a()}}}function Cl(s){let e,t,a="Disabled",n,_="Enabled",r,c;return{c(){e=u("select"),t=u("option"),t.textContent=a,n=u("option"),n.textContent=_,this.h()},l(f){e=o(f,"SELECT",{class:!0});var p=h(e);t=o(p,"OPTION",{"data-svelte-h":!0}),V(t)!=="svelte-17vl8k9"&&(t.textContent=a),n=o(p,"OPTION",{"data-svelte-h":!0}),V(n)!=="svelte-9v0opp"&&(n.textContent=_),p.forEach(d),this.h()},h(){t.__value=!1,A(t,t.__value),n.__value=!0,A(n,n.__value),i(e,"class","form-select svelte-18k6mrr"),s[6].default_value===void 0&&vt(()=>s[36].call(e))},m(f,p){X(f,e,p),l(e,t),l(e,n),Ye(e,s[6].default_value,!0),r||(c=J(e,"change",s[36]),r=!0)},p(f,p){p[0]&64&&Ye(e,f[6].default_value)},d(f){f&&d(e),r=!1,c()}}}function El(s){let e,t,a,n='<h1 class="text-3xl font-bold text-gray-900">Feature Flags</h1> <p class="mt-2 text-gray-600">Manage feature rollouts and A/B tests</p>',_,r,c,f,p,v,m,w,g,k,I,ae,N;c=new Qe({props:{name:"plus",class:"w-5 h-5 mr-2"}});const O=[vl,pl,_l],M=[];function S(C,D){return C[1]?0:C[2]?1:2}v=S(s),m=M[v]=O[v](s);let E=s[3]&&Gt(s),B=s[4]&&s[5]&&ll(s);return{c(){e=u("div"),t=u("div"),a=u("div"),a.innerHTML=n,_=x(),r=u("button"),Ge(c.$$.fragment),f=ce(`
            Create Flag`),p=x(),m.c(),w=x(),E&&E.c(),g=x(),B&&B.c(),k=Ht(),this.h()},l(C){e=o(C,"DIV",{class:!0});var D=h(e);t=o(D,"DIV",{class:!0});var Z=h(t);a=o(Z,"DIV",{"data-svelte-h":!0}),V(a)!=="svelte-1lankpr"&&(a.innerHTML=n),_=y(Z),r=o(Z,"BUTTON",{class:!0});var ee=h(r);Xe(c.$$.fragment,ee),f=fe(ee,`
            Create Flag`),ee.forEach(d),Z.forEach(d),p=y(D),m.l(D),D.forEach(d),w=y(C),E&&E.l(C),g=y(C),B&&B.l(C),k=Ht(),this.h()},h(){i(r,"class","btn btn-primary svelte-18k6mrr"),i(t,"class","mb-8 flex justify-between items-center"),i(e,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8")},m(C,D){X(C,e,D),l(e,t),l(t,a),l(t,_),l(t,r),Ke(c,r,null),l(r,f),l(e,p),M[v].m(e,null),X(C,w,D),E&&E.m(C,D),X(C,g,D),B&&B.m(C,D),X(C,k,D),I=!0,ae||(N=J(r,"click",s[17]),ae=!0)},p(C,D){let Z=v;v=S(C),v===Z?M[v].p(C,D):(ft(),oe(M[Z],1,1,()=>{M[Z]=null}),ut(),m=M[v],m?m.p(C,D):(m=M[v]=O[v](C),m.c()),K(m,1),m.m(e,null)),C[3]?E?(E.p(C,D),D[0]&8&&K(E,1)):(E=Gt(C),E.c(),K(E,1),E.m(g.parentNode,g)):E&&(ft(),oe(E,1,1,()=>{E=null}),ut()),C[4]&&C[5]?B?B.p(C,D):(B=ll(C),B.c(),B.m(k.parentNode,k)):B&&(B.d(1),B=null)},i(C){I||(K(c.$$.fragment,C),K(m),K(E),I=!0)},o(C){oe(c.$$.fragment,C),oe(m),oe(E),I=!1},d(C){C&&(d(e),d(w),d(g),d(k)),Je(c),M[v].d(),E&&E.d(C),B&&B.d(C),ae=!1,N()}}}function sl(s){return{boolean:"toggle-left",percentage:"percent",user_list:"users",variant:"shuffle"}[s]||"flag"}function al(s){return{active:"text-green-600 bg-green-100",inactive:"text-gray-600 bg-gray-100",scheduled:"text-blue-600 bg-blue-100",expired:"text-red-600 bg-red-100"}[s]||"text-gray-600 bg-gray-100"}function Tl(s,e,t){let a=null,n=[],_=!0,r=null,c=!1,f=!1,p=null,v={key:"",name:"",description:"",type:"boolean",default_value:!1,targeting_rules:[],variants:{}},m={user_tiers:[],user_percentage:100,min_trades:0};dl.subscribe(b=>{a=b.user,a!=null&&a.is_admin||(window.location.href="/")});async function w(){try{t(1,_=!0),t(2,r=null);const b=await it.get("/feature-flags/?include_inactive=true");t(0,n=b.flags)}catch(b){t(2,r=b.message||"Failed to load feature flags")}finally{t(1,_=!1)}}async function g(){try{const b={...v,default_value:v.type==="boolean"?v.default_value===!0:v.default_value};await it.post("/feature-flags/",b),t(3,c=!1),E(),await w()}catch(b){t(2,r=b.message||"Failed to create feature flag")}}async function k(){if(p)try{const b={name:v.name,description:v.description,status:v.status,default_value:v.default_value,targeting_rules:v.targeting_rules};await it.put(`/feature-flags/${p.id}`,b),t(4,f=!1),t(5,p=null),E(),await w()}catch(b){t(2,r=b.message||"Failed to update feature flag")}}async function I(b){try{const W=b.status==="active"?"inactive":"active";await it.put(`/feature-flags/${b.id}`,{status:W}),await w()}catch(W){t(2,r=W.message||"Failed to toggle feature flag")}}async function ae(b){if(confirm("Are you sure you want to delete this feature flag?"))try{await it.delete(`/feature-flags/${b}`),await w()}catch(W){t(2,r=W.message||"Failed to delete feature flag")}}async function N(b){const W=prompt("Enter user ID to test with:");if(W)try{const se=await it.post(`/feature-flags/test/${b.key}`,{test_user_id:W});alert(`Flag value for user ${W}: ${JSON.stringify(se.value)}`)}catch(se){alert(`Test failed: ${se.message}`)}}function O(b){t(5,p=b),t(6,v={key:b.key,name:b.name,description:b.description,type:b.type,status:b.status,default_value:b.default_value,targeting_rules:b.targeting_rules||[],variants:b.variants||{}}),t(4,f=!0)}function M(){t(6,v.targeting_rules=[...v.targeting_rules,{...m}],v),t(7,m={user_tiers:[],user_percentage:100,min_trades:0})}function S(b){t(6,v.targeting_rules=v.targeting_rules.filter((W,se)=>se!==b),v)}function E(){t(6,v={key:"",name:"",description:"",type:"boolean",default_value:!1,targeting_rules:[],variants:{}}),t(7,m={user_tiers:[],user_percentage:100,min_trades:0})}fl(()=>{w()});const B=()=>t(3,c=!0),C=b=>I(b),D=b=>O(b),Z=b=>N(b),ee=b=>ae(b.id);function R(){v.key=this.value,t(6,v)}function he(){v.name=this.value,t(6,v)}function le(){v.description=this.value,t(6,v)}function me(){v.type=Vt(this),t(6,v)}function j(){v.default_value=Vt(this),t(6,v)}function U(){v.default_value=this.value,t(6,v)}const ge=b=>S(b);function L(){m.user_tiers=cl(this),t(7,m)}function de(){m.user_percentage=Nt(this.value),t(7,m)}function be(){m.min_trades=Nt(this.value),t(7,m)}const z=()=>{t(3,c=!1),E()};function ke(){v.name=this.value,t(6,v)}function Q(){v.description=this.value,t(6,v)}function Ce(){v.status=Vt(this),t(6,v)}function ue(){v.default_value=Vt(this),t(6,v)}function Y(){v.default_value=this.value,t(6,v)}return[n,_,r,c,f,p,v,m,g,k,I,ae,N,O,M,S,E,B,C,D,Z,ee,R,he,le,me,j,U,ge,L,de,be,z,ke,Q,Ce,ue,Y,()=>{t(4,f=!1),t(5,p=null),E()}]}class Ll extends il{constructor(e){super(),ol(this,e,Tl,El,ul,{},null,[-1,-1])}}export{Ll as component};
