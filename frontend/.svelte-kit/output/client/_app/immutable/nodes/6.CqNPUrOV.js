import{S as De,i as Se,s as Ne,d as I,t as O,a as H,J as gt,I as mt,f as j,h as u,D as w,k as C,l as S,m as q,o as x,q as E,r as V,w as Me,M as xt,n as ut,y as rt,H as ee,N as Bt,z as st,G as Z,A as ot,B as lt,Z as tt,e as it,p as z,v as K,ac as ce,O as wt,E as Ge}from"../chunks/Lbc7qOuA.js";import{e as Ct}from"../chunks/BPb2qfkA.js";import"../chunks/IHki7fMi.js";import{g as ue}from"../chunks/BFH-i71J.js";import{a as ft}from"../chunks/BfkaMl9e.js";import{I as ct}from"../chunks/B3HFKiyR.js";var Qe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Pe={},at={};let ne;const We=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];at.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};at.getSymbolTotalCodewords=function(t){return We[t]};at.getBCHDigit=function(r){let t=0;for(;r!==0;)t++,r>>>=1;return t};at.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');ne=t};at.isKanjiModeEnabled=function(){return typeof ne<"u"};at.toSJIS=function(t){return ne(t)};var Ut={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+e)}}r.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},r.from=function(n,s){if(r.isValid(n))return n;try{return t(n)}catch{return s}}})(Ut);function Le(){this.buffer=[],this.length=0}Le.prototype={get:function(r){const t=Math.floor(r/8);return(this.buffer[t]>>>7-r%8&1)===1},put:function(r,t){for(let e=0;e<t;e++)this.putBit((r>>>t-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),r&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Ze=Le;function St(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}St.prototype.set=function(r,t,e,n){const s=r*this.size+t;this.data[s]=e,n&&(this.reservedBit[s]=!0)};St.prototype.get=function(r,t){return this.data[r*this.size+t]};St.prototype.xor=function(r,t,e){this.data[r*this.size+t]^=e};St.prototype.isReserved=function(r,t){return this.reservedBit[r*this.size+t]};var Xe=St,xe={};(function(r){const t=at.getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const s=Math.floor(n/7)+2,o=t(n),l=o===145?26:Math.ceil((o-13)/(2*s-2))*2,a=[o-7];for(let i=1;i<s-1;i++)a[i]=a[i-1]-l;return a.push(6),a.reverse()},r.getPositions=function(n){const s=[],o=r.getRowColCoords(n),l=o.length;for(let a=0;a<l;a++)for(let i=0;i<l;i++)a===0&&i===0||a===0&&i===l-1||a===l-1&&i===0||s.push([o[a],o[i]]);return s}})(xe);var Ve={};const tn=at.getSymbolSize,fe=7;Ve.getPositions=function(t){const e=tn(t);return[[0,0],[e-fe,0],[0,e-fe]]};var Re={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};r.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},r.from=function(s){return r.isValid(s)?parseInt(s,10):void 0},r.getPenaltyN1=function(s){const o=s.size;let l=0,a=0,i=0,c=null,f=null;for(let b=0;b<o;b++){a=i=0,c=f=null;for(let h=0;h<o;h++){let d=s.get(b,h);d===c?a++:(a>=5&&(l+=t.N1+(a-5)),c=d,a=1),d=s.get(h,b),d===f?i++:(i>=5&&(l+=t.N1+(i-5)),f=d,i=1)}a>=5&&(l+=t.N1+(a-5)),i>=5&&(l+=t.N1+(i-5))}return l},r.getPenaltyN2=function(s){const o=s.size;let l=0;for(let a=0;a<o-1;a++)for(let i=0;i<o-1;i++){const c=s.get(a,i)+s.get(a,i+1)+s.get(a+1,i)+s.get(a+1,i+1);(c===4||c===0)&&l++}return l*t.N2},r.getPenaltyN3=function(s){const o=s.size;let l=0,a=0,i=0;for(let c=0;c<o;c++){a=i=0;for(let f=0;f<o;f++)a=a<<1&2047|s.get(c,f),f>=10&&(a===1488||a===93)&&l++,i=i<<1&2047|s.get(f,c),f>=10&&(i===1488||i===93)&&l++}return l*t.N3},r.getPenaltyN4=function(s){let o=0;const l=s.data.length;for(let i=0;i<l;i++)o+=s.data[i];return Math.abs(Math.ceil(o*100/l/5)-10)*t.N4};function e(n,s,o){switch(n){case r.Patterns.PATTERN000:return(s+o)%2===0;case r.Patterns.PATTERN001:return s%2===0;case r.Patterns.PATTERN010:return o%3===0;case r.Patterns.PATTERN011:return(s+o)%3===0;case r.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(o/3))%2===0;case r.Patterns.PATTERN101:return s*o%2+s*o%3===0;case r.Patterns.PATTERN110:return(s*o%2+s*o%3)%2===0;case r.Patterns.PATTERN111:return(s*o%3+(s+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(s,o){const l=o.size;for(let a=0;a<l;a++)for(let i=0;i<l;i++)o.isReserved(i,a)||o.xor(i,a,e(s,i,a))},r.getBestMask=function(s,o){const l=Object.keys(r.Patterns).length;let a=0,i=1/0;for(let c=0;c<l;c++){o(c),r.applyMask(c,s);const f=r.getPenaltyN1(s)+r.getPenaltyN2(s)+r.getPenaltyN3(s)+r.getPenaltyN4(s);r.applyMask(c,s),f<i&&(i=f,a=c)}return a}})(Re);var Ft={};const _t=Ut,Pt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Lt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ft.getBlocksCount=function(t,e){switch(e){case _t.L:return Pt[(t-1)*4+0];case _t.M:return Pt[(t-1)*4+1];case _t.Q:return Pt[(t-1)*4+2];case _t.H:return Pt[(t-1)*4+3];default:return}};Ft.getTotalCodewordsCount=function(t,e){switch(e){case _t.L:return Lt[(t-1)*4+0];case _t.M:return Lt[(t-1)*4+1];case _t.Q:return Lt[(t-1)*4+2];case _t.H:return Lt[(t-1)*4+3];default:return}};var Ue={},Ht={};const At=new Uint8Array(512),Vt=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)At[e]=t,Vt[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)At[e]=At[e-255]})();Ht.log=function(t){if(t<1)throw new Error("log("+t+")");return Vt[t]};Ht.exp=function(t){return At[t]};Ht.mul=function(t,e){return t===0||e===0?0:At[Vt[t]+Vt[e]]};(function(r){const t=Ht;r.mul=function(n,s){const o=new Uint8Array(n.length+s.length-1);for(let l=0;l<n.length;l++)for(let a=0;a<s.length;a++)o[l+a]^=t.mul(n[l],s[a]);return o},r.mod=function(n,s){let o=new Uint8Array(n);for(;o.length-s.length>=0;){const l=o[0];for(let i=0;i<s.length;i++)o[i]^=t.mul(s[i],l);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},r.generateECPolynomial=function(n){let s=new Uint8Array([1]);for(let o=0;o<n;o++)s=r.mul(s,new Uint8Array([1,t.exp(o)]));return s}})(Ue);const Fe=Ue;function re(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}re.prototype.initialize=function(t){this.degree=t,this.genPoly=Fe.generateECPolynomial(this.degree)};re.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=Fe.mod(e,this.genPoly),s=this.degree-n.length;if(s>0){const o=new Uint8Array(this.degree);return o.set(n,s),o}return n};var en=re,He={},vt={},se={};se.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var dt={};const Oe="[0-9]+",nn="[A-Z $%*+\\-./:]+";let Dt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Dt=Dt.replace(/u/g,"\\u");const rn="(?:(?![A-Z0-9 $%*+\\-./:]|"+Dt+`)(?:.|[\r
]))+`;dt.KANJI=new RegExp(Dt,"g");dt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");dt.BYTE=new RegExp(rn,"g");dt.NUMERIC=new RegExp(Oe,"g");dt.ALPHANUMERIC=new RegExp(nn,"g");const sn=new RegExp("^"+Dt+"$"),on=new RegExp("^"+Oe+"$"),ln=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");dt.testKanji=function(t){return sn.test(t)};dt.testNumeric=function(t){return on.test(t)};dt.testAlphanumeric=function(t){return ln.test(t)};(function(r){const t=se,e=dt;r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(o,l){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?o.ccBits[0]:l<27?o.ccBits[1]:o.ccBits[2]},r.getBestModeForData=function(o){return e.testNumeric(o)?r.NUMERIC:e.testAlphanumeric(o)?r.ALPHANUMERIC:e.testKanji(o)?r.KANJI:r.BYTE},r.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},r.isValid=function(o){return o&&o.bit&&o.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+s)}}r.from=function(o,l){if(r.isValid(o))return o;try{return n(o)}catch{return l}}})(vt);(function(r){const t=at,e=Ft,n=Ut,s=vt,o=se,l=7973,a=t.getBCHDigit(l);function i(h,d,m){for(let g=1;g<=40;g++)if(d<=r.getCapacity(g,m,h))return g}function c(h,d){return s.getCharCountIndicator(h,d)+4}function f(h,d){let m=0;return h.forEach(function(g){const B=c(g.mode,d);m+=B+g.getBitsLength()}),m}function b(h,d){for(let m=1;m<=40;m++)if(f(h,m)<=r.getCapacity(m,d,s.MIXED))return m}r.from=function(d,m){return o.isValid(d)?parseInt(d,10):m},r.getCapacity=function(d,m,g){if(!o.isValid(d))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=s.BYTE);const B=t.getSymbolTotalCodewords(d),p=e.getTotalCodewordsCount(d,m),_=(B-p)*8;if(g===s.MIXED)return _;const v=_-c(g,d);switch(g){case s.NUMERIC:return Math.floor(v/10*3);case s.ALPHANUMERIC:return Math.floor(v/11*2);case s.KANJI:return Math.floor(v/13);case s.BYTE:default:return Math.floor(v/8)}},r.getBestVersionForData=function(d,m){let g;const B=n.from(m,n.M);if(Array.isArray(d)){if(d.length>1)return b(d,B);if(d.length===0)return 1;g=d[0]}else g=d;return i(g.mode,g.getLength(),B)},r.getEncodedBits=function(d){if(!o.isValid(d)||d<7)throw new Error("Invalid QR Code version");let m=d<<12;for(;t.getBCHDigit(m)-a>=0;)m^=l<<t.getBCHDigit(m)-a;return d<<12|m}})(He);var $e={};const Wt=at,ze=1335,an=21522,de=Wt.getBCHDigit(ze);$e.getEncodedBits=function(t,e){const n=t.bit<<3|e;let s=n<<10;for(;Wt.getBCHDigit(s)-de>=0;)s^=ze<<Wt.getBCHDigit(s)-de;return(n<<10|s)^an};var Ke={};const cn=vt;function Et(r){this.mode=cn.NUMERIC,this.data=r.toString()}Et.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Et.prototype.getLength=function(){return this.data.length};Et.prototype.getBitsLength=function(){return Et.getBitsLength(this.data.length)};Et.prototype.write=function(t){let e,n,s;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),s=parseInt(n,10),t.put(s,10);const o=this.data.length-e;o>0&&(n=this.data.substr(e),s=parseInt(n,10),t.put(s,o*3+1))};var un=Et;const fn=vt,Jt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function kt(r){this.mode=fn.ALPHANUMERIC,this.data=r}kt.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};kt.prototype.getLength=function(){return this.data.length};kt.prototype.getBitsLength=function(){return kt.getBitsLength(this.data.length)};kt.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=Jt.indexOf(this.data[e])*45;n+=Jt.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(Jt.indexOf(this.data[e]),6)};var dn=kt;const hn=vt;function It(r){this.mode=hn.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}It.getBitsLength=function(t){return t*8};It.prototype.getLength=function(){return this.data.length};It.prototype.getBitsLength=function(){return It.getBitsLength(this.data.length)};It.prototype.write=function(r){for(let t=0,e=this.data.length;t<e;t++)r.put(this.data[t],8)};var gn=It;const mn=vt,pn=at;function Tt(r){this.mode=mn.KANJI,this.data=r}Tt.getBitsLength=function(t){return t*13};Tt.prototype.getLength=function(){return this.data.length};Tt.prototype.getBitsLength=function(){return Tt.getBitsLength(this.data.length)};Tt.prototype.write=function(r){let t;for(t=0;t<this.data.length;t++){let e=pn.toSJIS(this.data[t]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),r.put(e,13)}};var _n=Tt,qe={exports:{}};(function(r){var t={single_source_shortest_paths:function(e,n,s){var o={},l={};l[n]=0;var a=t.PriorityQueue.make();a.push(n,0);for(var i,c,f,b,h,d,m,g,B;!a.empty();){i=a.pop(),c=i.value,b=i.cost,h=e[c]||{};for(f in h)h.hasOwnProperty(f)&&(d=h[f],m=b+d,g=l[f],B=typeof l[f]>"u",(B||g>m)&&(l[f]=m,a.push(f,m),o[f]=c))}if(typeof s<"u"&&typeof l[s]>"u"){var p=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(p)}return o},extract_shortest_path_from_predecessor_list:function(e,n){for(var s=[],o=n;o;)s.push(o),e[o],o=e[o];return s.reverse(),s},find_path:function(e,n,s){var o=t.single_source_shortest_paths(e,n,s);return t.extract_shortest_path_from_predecessor_list(o,s)},PriorityQueue:{make:function(e){var n=t.PriorityQueue,s={},o;e=e||{};for(o in n)n.hasOwnProperty(o)&&(s[o]=n[o]);return s.queue=[],s.sorter=e.sorter||n.default_sorter,s},default_sorter:function(e,n){return e.cost-n.cost},push:function(e,n){var s={value:e,cost:n};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=t})(qe);var vn=qe.exports;(function(r){const t=vt,e=un,n=dn,s=gn,o=_n,l=dt,a=at,i=vn;function c(p){return unescape(encodeURIComponent(p)).length}function f(p,_,v){const k=[];let y;for(;(y=p.exec(v))!==null;)k.push({data:y[0],index:y.index,mode:_,length:y[0].length});return k}function b(p){const _=f(l.NUMERIC,t.NUMERIC,p),v=f(l.ALPHANUMERIC,t.ALPHANUMERIC,p);let k,y;return a.isKanjiModeEnabled()?(k=f(l.BYTE,t.BYTE,p),y=f(l.KANJI,t.KANJI,p)):(k=f(l.BYTE_KANJI,t.BYTE,p),y=[]),_.concat(v,k,y).sort(function(A,M){return A.index-M.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function h(p,_){switch(_){case t.NUMERIC:return e.getBitsLength(p);case t.ALPHANUMERIC:return n.getBitsLength(p);case t.KANJI:return o.getBitsLength(p);case t.BYTE:return s.getBitsLength(p)}}function d(p){return p.reduce(function(_,v){const k=_.length-1>=0?_[_.length-1]:null;return k&&k.mode===v.mode?(_[_.length-1].data+=v.data,_):(_.push(v),_)},[])}function m(p){const _=[];for(let v=0;v<p.length;v++){const k=p[v];switch(k.mode){case t.NUMERIC:_.push([k,{data:k.data,mode:t.ALPHANUMERIC,length:k.length},{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.ALPHANUMERIC:_.push([k,{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.KANJI:_.push([k,{data:k.data,mode:t.BYTE,length:c(k.data)}]);break;case t.BYTE:_.push([{data:k.data,mode:t.BYTE,length:c(k.data)}])}}return _}function g(p,_){const v={},k={start:{}};let y=["start"];for(let T=0;T<p.length;T++){const A=p[T],M=[];for(let R=0;R<A.length;R++){const N=A[R],P=""+T+R;M.push(P),v[P]={node:N,lastCount:0},k[P]={};for(let W=0;W<y.length;W++){const F=y[W];v[F]&&v[F].node.mode===N.mode?(k[F][P]=h(v[F].lastCount+N.length,N.mode)-h(v[F].lastCount,N.mode),v[F].lastCount+=N.length):(v[F]&&(v[F].lastCount=N.length),k[F][P]=h(N.length,N.mode)+4+t.getCharCountIndicator(N.mode,_))}}y=M}for(let T=0;T<y.length;T++)k[y[T]].end=0;return{map:k,table:v}}function B(p,_){let v;const k=t.getBestModeForData(p);if(v=t.from(_,k),v!==t.BYTE&&v.bit<k.bit)throw new Error('"'+p+'" cannot be encoded with mode '+t.toString(v)+`.
 Suggested mode is: `+t.toString(k));switch(v===t.KANJI&&!a.isKanjiModeEnabled()&&(v=t.BYTE),v){case t.NUMERIC:return new e(p);case t.ALPHANUMERIC:return new n(p);case t.KANJI:return new o(p);case t.BYTE:return new s(p)}}r.fromArray=function(_){return _.reduce(function(v,k){return typeof k=="string"?v.push(B(k,null)):k.data&&v.push(B(k.data,k.mode)),v},[])},r.fromString=function(_,v){const k=b(_,a.isKanjiModeEnabled()),y=m(k),T=g(y,v),A=i.find_path(T.map,"start","end"),M=[];for(let R=1;R<A.length-1;R++)M.push(T.table[A[R]].node);return r.fromArray(d(M))},r.rawSplit=function(_){return r.fromArray(b(_,a.isKanjiModeEnabled()))}})(Ke);const Ot=at,jt=Ut,bn=Ze,yn=Xe,wn=xe,Cn=Ve,Zt=Re,Xt=Ft,En=en,Rt=He,kn=$e,In=vt,Yt=Ke;function Tn(r,t){const e=r.size,n=Cn.getPositions(t);for(let s=0;s<n.length;s++){const o=n[s][0],l=n[s][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||e<=o+a))for(let i=-1;i<=7;i++)l+i<=-1||e<=l+i||(a>=0&&a<=6&&(i===0||i===6)||i>=0&&i<=6&&(a===0||a===6)||a>=2&&a<=4&&i>=2&&i<=4?r.set(o+a,l+i,!0,!0):r.set(o+a,l+i,!1,!0))}}function Bn(r){const t=r.size;for(let e=8;e<t-8;e++){const n=e%2===0;r.set(e,6,n,!0),r.set(6,e,n,!0)}}function An(r,t){const e=wn.getPositions(t);for(let n=0;n<e.length;n++){const s=e[n][0],o=e[n][1];for(let l=-2;l<=2;l++)for(let a=-2;a<=2;a++)l===-2||l===2||a===-2||a===2||l===0&&a===0?r.set(s+l,o+a,!0,!0):r.set(s+l,o+a,!1,!0)}}function Dn(r,t){const e=r.size,n=Rt.getEncodedBits(t);let s,o,l;for(let a=0;a<18;a++)s=Math.floor(a/3),o=a%3+e-8-3,l=(n>>a&1)===1,r.set(s,o,l,!0),r.set(o,s,l,!0)}function Gt(r,t,e){const n=r.size,s=kn.getEncodedBits(t,e);let o,l;for(o=0;o<15;o++)l=(s>>o&1)===1,o<6?r.set(o,8,l,!0):o<8?r.set(o+1,8,l,!0):r.set(n-15+o,8,l,!0),o<8?r.set(8,n-o-1,l,!0):o<9?r.set(8,15-o-1+1,l,!0):r.set(8,15-o-1,l,!0);r.set(n-8,8,1,!0)}function Sn(r,t){const e=r.size;let n=-1,s=e-1,o=7,l=0;for(let a=e-1;a>0;a-=2)for(a===6&&a--;;){for(let i=0;i<2;i++)if(!r.isReserved(s,a-i)){let c=!1;l<t.length&&(c=(t[l]>>>o&1)===1),r.set(s,a-i,c),o--,o===-1&&(l++,o=7)}if(s+=n,s<0||e<=s){s-=n,n=-n;break}}}function Nn(r,t,e){const n=new bn;e.forEach(function(i){n.put(i.mode.bit,4),n.put(i.getLength(),In.getCharCountIndicator(i.mode,r)),i.write(n)});const s=Ot.getSymbolTotalCodewords(r),o=Xt.getTotalCodewordsCount(r,t),l=(s-o)*8;for(n.getLengthInBits()+4<=l&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(l-n.getLengthInBits())/8;for(let i=0;i<a;i++)n.put(i%2?17:236,8);return Mn(n,r,t)}function Mn(r,t,e){const n=Ot.getSymbolTotalCodewords(t),s=Xt.getTotalCodewordsCount(t,e),o=n-s,l=Xt.getBlocksCount(t,e),a=n%l,i=l-a,c=Math.floor(n/l),f=Math.floor(o/l),b=f+1,h=c-f,d=new En(h);let m=0;const g=new Array(l),B=new Array(l);let p=0;const _=new Uint8Array(r.buffer);for(let A=0;A<l;A++){const M=A<i?f:b;g[A]=_.slice(m,m+M),B[A]=d.encode(g[A]),m+=M,p=Math.max(p,M)}const v=new Uint8Array(n);let k=0,y,T;for(y=0;y<p;y++)for(T=0;T<l;T++)y<g[T].length&&(v[k++]=g[T][y]);for(y=0;y<h;y++)for(T=0;T<l;T++)v[k++]=B[T][y];return v}function Pn(r,t,e,n){let s;if(Array.isArray(r))s=Yt.fromArray(r);else if(typeof r=="string"){let c=t;if(!c){const f=Yt.rawSplit(r);c=Rt.getBestVersionForData(f,e)}s=Yt.fromString(r,c||40)}else throw new Error("Invalid data");const o=Rt.getBestVersionForData(s,e);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=o;else if(t<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const l=Nn(t,e,s),a=Ot.getSymbolSize(t),i=new yn(a);return Tn(i,t),Bn(i),An(i,t),Gt(i,e,0),t>=7&&Dn(i,t),Sn(i,l),isNaN(n)&&(n=Zt.getBestMask(i,Gt.bind(null,i,e))),Zt.applyMask(n,i),Gt(i,e,n),{modules:i,version:t,errorCorrectionLevel:e,maskPattern:n,segments:s}}Pe.create=function(t,e){if(typeof t>"u"||t==="")throw new Error("No input text");let n=jt.M,s,o;return typeof e<"u"&&(n=jt.from(e.errorCorrectionLevel,jt.M),s=Rt.from(e.version),o=Zt.from(e.maskPattern),e.toSJISFunc&&Ot.setToSJISFunction(e.toSJISFunc)),Pn(t,s,n,o)};var Je={},oe={};(function(r){function t(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let n=e.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+e);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");const s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,l=n.scale||4;return{width:o,scale:o?4:l,margin:s,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},r.getImageWidth=function(n,s){const o=r.getScale(n,s);return Math.floor((n+s.margin*2)*o)},r.qrToImageData=function(n,s,o){const l=s.modules.size,a=s.modules.data,i=r.getScale(l,o),c=Math.floor((l+o.margin*2)*i),f=o.margin*i,b=[o.color.light,o.color.dark];for(let h=0;h<c;h++)for(let d=0;d<c;d++){let m=(h*c+d)*4,g=o.color.light;if(h>=f&&d>=f&&h<c-f&&d<c-f){const B=Math.floor((h-f)/i),p=Math.floor((d-f)/i);g=b[a[B*l+p]?1:0]}n[m++]=g.r,n[m++]=g.g,n[m++]=g.b,n[m]=g.a}}})(oe);(function(r){const t=oe;function e(s,o,l){s.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=l,o.width=l,o.style.height=l+"px",o.style.width=l+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(o,l,a){let i=a,c=l;typeof i>"u"&&(!l||!l.getContext)&&(i=l,l=void 0),l||(c=n()),i=t.getOptions(i);const f=t.getImageWidth(o.modules.size,i),b=c.getContext("2d"),h=b.createImageData(f,f);return t.qrToImageData(h.data,o,i),e(b,c,f),b.putImageData(h,0,0),c},r.renderToDataURL=function(o,l,a){let i=a;typeof i>"u"&&(!l||!l.getContext)&&(i=l,l=void 0),i||(i={});const c=r.render(o,l,i),f=i.type||"image/png",b=i.rendererOpts||{};return c.toDataURL(f,b.quality)}})(Je);var je={};const Ln=oe;function he(r,t){const e=r.a/255,n=t+'="'+r.hex+'"';return e<1?n+" "+t+'-opacity="'+e.toFixed(2).slice(1)+'"':n}function Qt(r,t,e){let n=r+t;return typeof e<"u"&&(n+=" "+e),n}function xn(r,t,e){let n="",s=0,o=!1,l=0;for(let a=0;a<r.length;a++){const i=Math.floor(a%t),c=Math.floor(a/t);!i&&!o&&(o=!0),r[a]?(l++,a>0&&i>0&&r[a-1]||(n+=o?Qt("M",i+e,.5+c+e):Qt("m",s,0),s=0,o=!1),i+1<t&&r[a+1]||(n+=Qt("h",l),l=0)):s++}return n}je.render=function(t,e,n){const s=Ln.getOptions(e),o=t.modules.size,l=t.modules.data,a=o+s.margin*2,i=s.color.light.a?"<path "+he(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+he(s.color.dark,"stroke")+' d="'+xn(l,o,s.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+f+' shape-rendering="crispEdges">'+i+c+`</svg>
`;return typeof n=="function"&&n(null,h),h};const Vn=Qe,te=Pe,Ye=Je,Rn=je;function le(r,t,e,n,s){const o=[].slice.call(arguments,1),l=o.length,a=typeof o[l-1]=="function";if(!a&&!Vn())throw new Error("Callback required as last argument");if(a){if(l<2)throw new Error("Too few arguments provided");l===2?(s=e,e=t,t=n=void 0):l===3&&(t.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=e,e=t,t=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(e=t,t=n=void 0):l===2&&!t.getContext&&(n=e,e=t,t=void 0),new Promise(function(i,c){try{const f=te.create(e,n);i(r(f,t,n))}catch(f){c(f)}})}try{const i=te.create(e,n);s(null,r(i,t,n))}catch(i){s(i)}}te.create;le.bind(null,Ye.render);le.bind(null,Ye.renderToDataURL);le.bind(null,function(r,t,e){return Rn.render(r,e)});function ge(r,t,e){const n=r.slice();return n[32]=t[e],n}function me(r,t,e){const n=r.slice();return n[29]=t[e],n}function Un(r){let t,e='<div class="spinner mx-auto svelte-3ypc9g"></div>';return{c(){t=E("div"),t.innerHTML=e,this.h()},l(n){t=C(n,"DIV",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-1wcn6im"&&(t.innerHTML=e),this.h()},h(){w(t,"class","p-12 text-center")},m(n,s){j(n,t,s)},p:ut,i:ut,o:ut,d(n){n&&I(t)}}}function Fn(r){let t,e,n,s;const o=[On,Hn],l=[];function a(i,c){return i[1].mfa_enabled?0:1}return t=a(r),e=l[t]=o[t](r),{c(){e.c(),n=xt()},l(i){e.l(i),n=xt()},m(i,c){l[t].m(i,c),j(i,n,c),s=!0},p(i,c){let f=t;t=a(i),t===f?l[t].p(i,c):(gt(),O(l[f],1,1,()=>{l[f]=null}),mt(),e=l[t],e?e.p(i,c):(e=l[t]=o[t](i),e.c()),H(e,1),e.m(n.parentNode,n))},i(i){s||(H(e),s=!0)},o(i){O(e),s=!1},d(i){i&&I(n),l[t].d(i)}}}function Hn(r){let t,e,n,s,o="Authenticator App",l,a,i="SMS",c,f,b,h,d,m,g=r[4]&&pe(r),B=r[2]==="totp"&&_e(r),p=r[2]==="sms"&&ye(r);return{c(){t=E("div"),e=E("div"),n=E("nav"),s=E("button"),s.textContent=o,l=V(),a=E("button"),a.textContent=i,c=V(),g&&g.c(),f=V(),B&&B.c(),b=V(),p&&p.c(),this.h()},l(_){t=C(_,"DIV",{class:!0});var v=S(t);e=C(v,"DIV",{class:!0});var k=S(e);n=C(k,"NAV",{class:!0});var y=S(n);s=C(y,"BUTTON",{class:!0,"data-svelte-h":!0}),q(s)!=="svelte-1u04x8z"&&(s.textContent=o),l=x(y),a=C(y,"BUTTON",{class:!0,"data-svelte-h":!0}),q(a)!=="svelte-16q12ho"&&(a.textContent=i),y.forEach(I),k.forEach(I),c=x(v),g&&g.l(v),f=x(v),B&&B.l(v),b=x(v),p&&p.l(v),v.forEach(I),this.h()},h(){w(s,"class","py-2 px-1 border-b-2 font-medium text-sm"),tt(s,"border-indigo-500",r[2]==="totp"),tt(s,"text-indigo-600",r[2]==="totp"),tt(s,"border-transparent",r[2]!=="totp"),tt(s,"text-gray-500",r[2]!=="totp"),w(a,"class","py-2 px-1 border-b-2 font-medium text-sm"),tt(a,"border-indigo-500",r[2]==="sms"),tt(a,"text-indigo-600",r[2]==="sms"),tt(a,"border-transparent",r[2]!=="sms"),tt(a,"text-gray-500",r[2]!=="sms"),w(n,"class","-mb-px flex space-x-8"),w(e,"class","border-b border-gray-200 mb-6"),w(t,"class","p-6")},m(_,v){j(_,t,v),u(t,e),u(e,n),u(n,s),u(n,l),u(n,a),u(t,c),g&&g.m(t,null),u(t,f),B&&B.m(t,null),u(t,b),p&&p.m(t,null),h=!0,d||(m=[Z(s,"click",r[21]),Z(a,"click",r[22])],d=!0)},p(_,v){(!h||v[0]&4)&&tt(s,"border-indigo-500",_[2]==="totp"),(!h||v[0]&4)&&tt(s,"text-indigo-600",_[2]==="totp"),(!h||v[0]&4)&&tt(s,"border-transparent",_[2]!=="totp"),(!h||v[0]&4)&&tt(s,"text-gray-500",_[2]!=="totp"),(!h||v[0]&4)&&tt(a,"border-indigo-500",_[2]==="sms"),(!h||v[0]&4)&&tt(a,"text-indigo-600",_[2]==="sms"),(!h||v[0]&4)&&tt(a,"border-transparent",_[2]!=="sms"),(!h||v[0]&4)&&tt(a,"text-gray-500",_[2]!=="sms"),_[4]?g?g.p(_,v):(g=pe(_),g.c(),g.m(t,f)):g&&(g.d(1),g=null),_[2]==="totp"?B?(B.p(_,v),v[0]&4&&H(B,1)):(B=_e(_),B.c(),H(B,1),B.m(t,b)):B&&(gt(),O(B,1,1,()=>{B=null}),mt()),_[2]==="sms"?p?p.p(_,v):(p=ye(_),p.c(),p.m(t,null)):p&&(p.d(1),p=null)},i(_){h||(H(B),h=!0)},o(_){O(B),h=!1},d(_){_&&I(t),g&&g.d(),B&&B.d(),p&&p.d(),d=!1,Bt(m)}}}function On(r){let t,e,n,s,o,l,a='<h3 class="font-semibold text-green-900">MFA is enabled</h3> <p class="text-sm text-green-700">Your account is protected with two-factor authentication</p>',i,c,f,b="Active Methods",h,d,m,g,B=!r[1].methods.includes("sms"),p,_,v="Regenerate Backup Codes",k,y,T="Disable MFA",A,M,R;s=new ct({props:{name:"shield-check",class:"w-6 h-6 text-green-600 mr-3"}});let N=Ct(r[1].devices),P=[];for(let L=0;L<N.length;L+=1)P[L]=ke(me(r,N,L));const W=L=>O(P[L],1,1,()=>{P[L]=null});let F=B&&Ie(r);return{c(){t=E("div"),e=E("div"),n=E("div"),lt(s.$$.fragment),o=V(),l=E("div"),l.innerHTML=a,i=V(),c=E("div"),f=E("h3"),f.textContent=b,h=V(),d=E("div");for(let L=0;L<P.length;L+=1)P[L].c();m=V(),g=E("div"),F&&F.c(),p=V(),_=E("button"),_.textContent=v,k=V(),y=E("button"),y.textContent=T,this.h()},l(L){t=C(L,"DIV",{class:!0});var U=S(t);e=C(U,"DIV",{class:!0});var D=S(e);n=C(D,"DIV",{class:!0});var $=S(n);ot(s.$$.fragment,$),o=x($),l=C($,"DIV",{"data-svelte-h":!0}),q(l)!=="svelte-13j04u4"&&(l.innerHTML=a),$.forEach(I),D.forEach(I),i=x(U),c=C(U,"DIV",{class:!0});var J=S(c);f=C(J,"H3",{class:!0,"data-svelte-h":!0}),q(f)!=="svelte-1i2564l"&&(f.textContent=b),h=x(J),d=C(J,"DIV",{class:!0});var G=S(d);for(let et=0;et<P.length;et+=1)P[et].l(G);G.forEach(I),J.forEach(I),m=x(U),g=C(U,"DIV",{class:!0});var X=S(g);F&&F.l(X),p=x(X),_=C(X,"BUTTON",{class:!0,"data-svelte-h":!0}),q(_)!=="svelte-ykz5wk"&&(_.textContent=v),k=x(X),y=C(X,"BUTTON",{class:!0,"data-svelte-h":!0}),q(y)!=="svelte-2qhvpl"&&(y.textContent=T),X.forEach(I),U.forEach(I),this.h()},h(){w(n,"class","flex items-center"),w(e,"class","bg-green-50 border border-green-200 rounded-lg p-4 mb-6"),w(f,"class","text-lg font-semibold text-gray-900 mb-3"),w(d,"class","space-y-3"),w(c,"class","mb-6"),w(_,"class","btn btn-secondary svelte-3ypc9g"),w(y,"class","btn btn-danger svelte-3ypc9g"),w(g,"class","flex space-x-3"),w(t,"class","p-6")},m(L,U){j(L,t,U),u(t,e),u(e,n),st(s,n,null),u(n,o),u(n,l),u(t,i),u(t,c),u(c,f),u(c,h),u(c,d);for(let D=0;D<P.length;D+=1)P[D]&&P[D].m(d,null);u(t,m),u(t,g),F&&F.m(g,null),u(g,p),u(g,_),u(g,k),u(g,y),A=!0,M||(R=[Z(_,"click",r[16]),Z(y,"click",r[17])],M=!0)},p(L,U){if(U[0]&2){N=Ct(L[1].devices);let D;for(D=0;D<N.length;D+=1){const $=me(L,N,D);P[D]?(P[D].p($,U),H(P[D],1)):(P[D]=ke($),P[D].c(),H(P[D],1),P[D].m(d,null))}for(gt(),D=N.length;D<P.length;D+=1)W(D);mt()}U[0]&2&&(B=!L[1].methods.includes("sms")),B?F?F.p(L,U):(F=Ie(L),F.c(),F.m(g,p)):F&&(F.d(1),F=null)},i(L){if(!A){H(s.$$.fragment,L);for(let U=0;U<N.length;U+=1)H(P[U]);A=!0}},o(L){O(s.$$.fragment,L),P=P.filter(Boolean);for(let U=0;U<P.length;U+=1)O(P[U]);A=!1},d(L){L&&I(t),rt(s),ee(P,L),F&&F.d(),M=!1,Bt(R)}}}function pe(r){let t,e;return{c(){t=E("div"),e=K(r[4]),this.h()},l(n){t=C(n,"DIV",{class:!0});var s=S(t);e=z(s,r[4]),s.forEach(I),this.h()},h(){w(t,"class","mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700")},m(n,s){j(n,t,s),u(t,e)},p(n,s){s[0]&16&&it(e,n[4])},d(n){n&&I(t)}}}function _e(r){let t,e,n,s;const o=[Kn,zn,$n],l=[];function a(i,c){return i[5]?i[8].length?2:1:0}return e=a(r),n=l[e]=o[e](r),{c(){t=E("div"),n.c()},l(i){t=C(i,"DIV",{});var c=S(t);n.l(c),c.forEach(I)},m(i,c){j(i,t,c),l[e].m(t,null),s=!0},p(i,c){let f=e;e=a(i),e===f?l[e].p(i,c):(gt(),O(l[f],1,1,()=>{l[f]=null}),mt(),n=l[e],n?n.p(i,c):(n=l[e]=o[e](i),n.c()),H(n,1),n.m(t,null))},i(i){s||(H(n),s=!0)},o(i){O(n),s=!1},d(i){i&&I(t),l[e].d()}}}function $n(r){let t,e,n,s,o,l,a='<h3 class="font-semibold text-yellow-900">Save your backup codes</h3> <p class="text-sm text-yellow-700 mt-1">Store these codes in a safe place. Each code can only be used once.</p>',i,c,f,b,h,d,m,g,B,p,_="Complete Setup",v,k,y;s=new ct({props:{name:"alert-triangle",class:"w-5 h-5 text-yellow-600 mr-3 flex-shrink-0 mt-0.5"}});let T=Ct(r[8]),A=[];for(let M=0;M<T.length;M+=1)A[M]=ve(ge(r,T,M));return m=new ct({props:{name:"download",class:"w-4 h-4 mr-2"}}),{c(){t=E("div"),e=E("div"),n=E("div"),lt(s.$$.fragment),o=V(),l=E("div"),l.innerHTML=a,i=V(),c=E("div"),f=E("div");for(let M=0;M<A.length;M+=1)A[M].c();b=V(),h=E("div"),d=E("button"),lt(m.$$.fragment),g=K(`
                                            Download Codes`),B=V(),p=E("button"),p.textContent=_,this.h()},l(M){t=C(M,"DIV",{});var R=S(t);e=C(R,"DIV",{class:!0});var N=S(e);n=C(N,"DIV",{class:!0});var P=S(n);ot(s.$$.fragment,P),o=x(P),l=C(P,"DIV",{"data-svelte-h":!0}),q(l)!=="svelte-mu1l91"&&(l.innerHTML=a),P.forEach(I),N.forEach(I),i=x(R),c=C(R,"DIV",{class:!0});var W=S(c);f=C(W,"DIV",{class:!0});var F=S(f);for(let D=0;D<A.length;D+=1)A[D].l(F);F.forEach(I),W.forEach(I),b=x(R),h=C(R,"DIV",{class:!0});var L=S(h);d=C(L,"BUTTON",{class:!0});var U=S(d);ot(m.$$.fragment,U),g=z(U,`
                                            Download Codes`),U.forEach(I),B=x(L),p=C(L,"BUTTON",{class:!0,"data-svelte-h":!0}),q(p)!=="svelte-1360ock"&&(p.textContent=_),L.forEach(I),R.forEach(I),this.h()},h(){w(n,"class","flex"),w(e,"class","bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6"),w(f,"class","grid grid-cols-2 gap-2 font-mono text-sm"),w(c,"class","bg-gray-50 p-4 rounded-lg mb-4"),w(d,"class","btn btn-secondary svelte-3ypc9g"),w(p,"class","btn btn-primary svelte-3ypc9g"),w(h,"class","flex space-x-3")},m(M,R){j(M,t,R),u(t,e),u(e,n),st(s,n,null),u(n,o),u(n,l),u(t,i),u(t,c),u(c,f);for(let N=0;N<A.length;N+=1)A[N]&&A[N].m(f,null);u(t,b),u(t,h),u(h,d),st(m,d,null),u(d,g),u(h,B),u(h,p),v=!0,k||(y=[Z(d,"click",r[18]),Z(p,"click",r[24])],k=!0)},p(M,R){if(R[0]&256){T=Ct(M[8]);let N;for(N=0;N<T.length;N+=1){const P=ge(M,T,N);A[N]?A[N].p(P,R):(A[N]=ve(P),A[N].c(),A[N].m(f,null))}for(;N<A.length;N+=1)A[N].d(1);A.length=T.length}},i(M){v||(H(s.$$.fragment,M),H(m.$$.fragment,M),v=!0)},o(M){O(s.$$.fragment,M),O(m.$$.fragment,M),v=!1},d(M){M&&I(t),rt(s),ee(A,M),rt(m),k=!1,Bt(y)}}}function zn(r){let t,e,n="Scan QR Code",s,o,l,a,i="Scan this QR code with your authenticator app:",c,f,b,h,d,m,g,B="Or enter this key manually:",p,_,v,k,y,T,A="Enter verification code",M,R,N,P,W,F,L,U;return{c(){t=E("div"),e=E("h3"),e.textContent=n,s=V(),o=E("div"),l=E("div"),a=E("p"),a.textContent=i,c=V(),f=E("div"),b=E("img"),d=V(),m=E("div"),g=E("p"),g.textContent=B,p=V(),_=E("div"),v=K(r[6]),k=V(),y=E("div"),T=E("label"),T.textContent=A,M=V(),R=E("input"),N=V(),P=E("button"),W=K("Verify"),this.h()},l(D){t=C(D,"DIV",{});var $=S(t);e=C($,"H3",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-klt1tv"&&(e.textContent=n),s=x($),o=C($,"DIV",{class:!0});var J=S(o);l=C(J,"DIV",{});var G=S(l);a=C(G,"P",{class:!0,"data-svelte-h":!0}),q(a)!=="svelte-wflm5x"&&(a.textContent=i),c=x(G),f=C(G,"DIV",{class:!0});var X=S(f);b=C(X,"IMG",{src:!0,alt:!0,class:!0}),X.forEach(I),G.forEach(I),d=x(J),m=C(J,"DIV",{});var et=S(m);g=C(et,"P",{class:!0,"data-svelte-h":!0}),q(g)!=="svelte-17nl8g6"&&(g.textContent=B),p=x(et),_=C(et,"DIV",{class:!0});var yt=S(_);v=z(yt,r[6]),yt.forEach(I),k=x(et),y=C(et,"DIV",{class:!0});var ht=S(y);T=C(ht,"LABEL",{class:!0,"data-svelte-h":!0}),q(T)!=="svelte-obmc8o"&&(T.textContent=A),M=x(ht),R=C(ht,"INPUT",{type:!0,placeholder:!0,maxlength:!0,class:!0}),N=x(ht),P=C(ht,"BUTTON",{class:!0});var Q=S(P);W=z(Q,"Verify"),Q.forEach(I),ht.forEach(I),et.forEach(I),J.forEach(I),$.forEach(I),this.h()},h(){w(e,"class","text-lg font-semibold text-gray-900 mb-4"),w(a,"class","text-sm text-gray-600 mb-4"),ce(b.src,h=r[5])||w(b,"src",h),w(b,"alt","QR Code"),w(b,"class","w-48 h-48"),w(f,"class","bg-white p-4 border border-gray-200 rounded-lg inline-block"),w(g,"class","text-sm text-gray-600 mb-2"),w(_,"class","bg-gray-50 p-3 rounded-lg font-mono text-sm break-all mb-4"),w(T,"class","block text-sm font-medium text-gray-700 mb-2"),w(R,"type","text"),w(R,"placeholder","000000"),w(R,"maxlength","6"),w(R,"class","form-input w-32 text-center text-lg svelte-3ypc9g"),P.disabled=F=r[3]||r[7].length!==6,w(P,"class","btn btn-primary ml-3 svelte-3ypc9g"),w(y,"class","mt-6"),w(o,"class","grid grid-cols-1 md:grid-cols-2 gap-6")},m(D,$){j(D,t,$),u(t,e),u(t,s),u(t,o),u(o,l),u(l,a),u(l,c),u(l,f),u(f,b),u(o,d),u(o,m),u(m,g),u(m,p),u(m,_),u(_,v),u(m,k),u(m,y),u(y,T),u(y,M),u(y,R),wt(R,r[7]),u(y,N),u(y,P),u(P,W),L||(U=[Z(R,"input",r[23]),Z(P,"click",r[13])],L=!0)},p(D,$){$[0]&32&&!ce(b.src,h=D[5])&&w(b,"src",h),$[0]&64&&it(v,D[6]),$[0]&128&&R.value!==D[7]&&wt(R,D[7]),$[0]&136&&F!==(F=D[3]||D[7].length!==6)&&(P.disabled=F)},i:ut,o:ut,d(D){D&&I(t),L=!1,Bt(U)}}}function Kn(r){let t,e,n,s,o="Set up Authenticator App",l,a,i="Use an authenticator app like Google Authenticator, Authy, or 1Password to generate time-based codes",c,f,b,h,d,m;e=new ct({props:{name:"smartphone",class:"w-16 h-16 text-gray-400 mx-auto mb-4"}});let g=r[3]&&be();return{c(){t=E("div"),lt(e.$$.fragment),n=V(),s=E("h3"),s.textContent=o,l=V(),a=E("p"),a.textContent=i,c=V(),f=E("button"),g&&g.c(),b=K(`
                                        Set Up Authenticator`),this.h()},l(B){t=C(B,"DIV",{class:!0});var p=S(t);ot(e.$$.fragment,p),n=x(p),s=C(p,"H3",{class:!0,"data-svelte-h":!0}),q(s)!=="svelte-1gs01l1"&&(s.textContent=o),l=x(p),a=C(p,"P",{class:!0,"data-svelte-h":!0}),q(a)!=="svelte-unx5fi"&&(a.textContent=i),c=x(p),f=C(p,"BUTTON",{class:!0});var _=S(f);g&&g.l(_),b=z(_,`
                                        Set Up Authenticator`),_.forEach(I),p.forEach(I),this.h()},h(){w(s,"class","text-lg font-semibold text-gray-900 mb-2"),w(a,"class","text-gray-600 mb-6 max-w-md mx-auto"),f.disabled=r[3],w(f,"class","btn btn-primary svelte-3ypc9g"),w(t,"class","text-center py-8")},m(B,p){j(B,t,p),st(e,t,null),u(t,n),u(t,s),u(t,l),u(t,a),u(t,c),u(t,f),g&&g.m(f,null),u(f,b),h=!0,d||(m=Z(f,"click",r[12]),d=!0)},p(B,p){B[3]?g||(g=be(),g.c(),g.m(f,b)):g&&(g.d(1),g=null),(!h||p[0]&8)&&(f.disabled=B[3])},i(B){h||(H(e.$$.fragment,B),h=!0)},o(B){O(e.$$.fragment,B),h=!1},d(B){B&&I(t),rt(e),g&&g.d(),d=!1,m()}}}function ve(r){let t,e=r[32]+"",n,s;return{c(){t=E("div"),n=K(e),s=V(),this.h()},l(o){t=C(o,"DIV",{class:!0});var l=S(t);n=z(l,e),s=x(l),l.forEach(I),this.h()},h(){w(t,"class","p-2 bg-white rounded border border-gray-200")},m(o,l){j(o,t,l),u(t,n),u(t,s)},p(o,l){l[0]&256&&e!==(e=o[32]+"")&&it(n,e)},d(o){o&&I(t)}}}function be(r){let t;return{c(){t=E("span"),this.h()},l(e){t=C(e,"SPAN",{class:!0}),S(t).forEach(I),this.h()},h(){w(t,"class","spinner mr-2 svelte-3ypc9g")},m(e,n){j(e,t,n)},d(e){e&&I(t)}}}function ye(r){let t;function e(o,l){return o[11]?qn:Jn}let n=e(r),s=n(r);return{c(){t=E("div"),s.c()},l(o){t=C(o,"DIV",{});var l=S(t);s.l(l),l.forEach(I)},m(o,l){j(o,t,l),s.m(t,null)},p(o,l){n===(n=e(o))&&s?s.p(o,l):(s.d(1),s=n(o),s&&(s.c(),s.m(t,null)))},d(o){o&&I(t),s.d()}}}function qn(r){let t,e,n="Enter Verification Code",s,o,l,a,i,c,f,b,h,d,m,g,B,p,_="Change Number",v,k;return{c(){t=E("div"),e=E("h3"),e.textContent=n,s=V(),o=E("p"),l=K("We sent a 6-digit code to "),a=K(r[9]),i=V(),c=E("div"),f=E("input"),b=V(),h=E("div"),d=E("button"),m=K("Verify"),B=V(),p=E("button"),p.textContent=_,this.h()},l(y){t=C(y,"DIV",{class:!0});var T=S(t);e=C(T,"H3",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-1ij4yd2"&&(e.textContent=n),s=x(T),o=C(T,"P",{class:!0});var A=S(o);l=z(A,"We sent a 6-digit code to "),a=z(A,r[9]),A.forEach(I),i=x(T),c=C(T,"DIV",{class:!0});var M=S(c);f=C(M,"INPUT",{type:!0,placeholder:!0,maxlength:!0,class:!0}),M.forEach(I),b=x(T),h=C(T,"DIV",{class:!0});var R=S(h);d=C(R,"BUTTON",{class:!0});var N=S(d);m=z(N,"Verify"),N.forEach(I),B=x(R),p=C(R,"BUTTON",{class:!0,"data-svelte-h":!0}),q(p)!=="svelte-1ao591b"&&(p.textContent=_),R.forEach(I),T.forEach(I),this.h()},h(){w(e,"class","text-lg font-semibold text-gray-900 mb-4"),w(o,"class","text-sm text-gray-600 mb-4"),w(f,"type","text"),w(f,"placeholder","000000"),w(f,"maxlength","6"),w(f,"class","form-input w-32 text-center text-lg svelte-3ypc9g"),w(c,"class","mb-4"),d.disabled=g=r[3]||r[10].length!==6,w(d,"class","btn btn-primary svelte-3ypc9g"),w(p,"class","btn btn-secondary svelte-3ypc9g"),w(h,"class","flex space-x-3"),w(t,"class","max-w-md")},m(y,T){j(y,t,T),u(t,e),u(t,s),u(t,o),u(o,l),u(o,a),u(t,i),u(t,c),u(c,f),wt(f,r[10]),u(t,b),u(t,h),u(h,d),u(d,m),u(h,B),u(h,p),v||(k=[Z(f,"input",r[26]),Z(d,"click",r[15]),Z(p,"click",r[27])],v=!0)},p(y,T){T[0]&512&&it(a,y[9]),T[0]&1024&&f.value!==y[10]&&wt(f,y[10]),T[0]&1032&&g!==(g=y[3]||y[10].length!==6)&&(d.disabled=g)},d(y){y&&I(t),v=!1,Bt(k)}}}function Jn(r){let t,e,n="Add Phone Number",s,o,l="We'll send verification codes to this number when you sign in",a,i,c,f="Phone Number",b,h,d,m,g,B,p,_,v=r[3]&&we();return{c(){t=E("div"),e=E("h3"),e.textContent=n,s=V(),o=E("p"),o.textContent=l,a=V(),i=E("div"),c=E("label"),c.textContent=f,b=V(),h=E("input"),d=V(),m=E("button"),v&&v.c(),g=K(`
                                        Send Verification Code`),this.h()},l(k){t=C(k,"DIV",{class:!0});var y=S(t);e=C(y,"H3",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-5tiwe6"&&(e.textContent=n),s=x(y),o=C(y,"P",{class:!0,"data-svelte-h":!0}),q(o)!=="svelte-lapinm"&&(o.textContent=l),a=x(y),i=C(y,"DIV",{class:!0});var T=S(i);c=C(T,"LABEL",{class:!0,"data-svelte-h":!0}),q(c)!=="svelte-1n7xqap"&&(c.textContent=f),b=x(T),h=C(T,"INPUT",{type:!0,placeholder:!0,class:!0}),T.forEach(I),d=x(y),m=C(y,"BUTTON",{class:!0});var A=S(m);v&&v.l(A),g=z(A,`
                                        Send Verification Code`),A.forEach(I),y.forEach(I),this.h()},h(){w(e,"class","text-lg font-semibold text-gray-900 mb-4"),w(o,"class","text-sm text-gray-600 mb-4"),w(c,"class","block text-sm font-medium text-gray-700 mb-2"),w(h,"type","tel"),w(h,"placeholder","+1 (555) 123-4567"),w(h,"class","form-input svelte-3ypc9g"),w(i,"class","mb-4"),m.disabled=B=r[3]||!r[9],w(m,"class","btn btn-primary svelte-3ypc9g"),w(t,"class","max-w-md")},m(k,y){j(k,t,y),u(t,e),u(t,s),u(t,o),u(t,a),u(t,i),u(i,c),u(i,b),u(i,h),wt(h,r[9]),u(t,d),u(t,m),v&&v.m(m,null),u(m,g),p||(_=[Z(h,"input",r[25]),Z(m,"click",r[14])],p=!0)},p(k,y){y[0]&512&&wt(h,k[9]),k[3]?v||(v=we(),v.c(),v.m(m,g)):v&&(v.d(1),v=null),y[0]&520&&B!==(B=k[3]||!k[9])&&(m.disabled=B)},d(k){k&&I(t),v&&v.d(),p=!1,Bt(_)}}}function we(r){let t;return{c(){t=E("span"),this.h()},l(e){t=C(e,"SPAN",{class:!0}),S(t).forEach(I),this.h()},h(){w(t,"class","spinner mr-2 svelte-3ypc9g")},m(e,n){j(e,t,n)},d(e){e&&I(t)}}}function Ce(r){let t,e,n,s,o,l,a=r[29].name+"",i,c,f,b,h=new Date(r[29].created_at).toLocaleDateString()+"",d,m,g,B;n=new ct({props:{name:r[29].type==="totp"?"smartphone":r[29].type==="sms"?"message-square":"key",class:"w-5 h-5 text-gray-600 mr-3"}});let p=r[29].last_used_at&&Ee(r);return{c(){t=E("div"),e=E("div"),lt(n.$$.fragment),s=V(),o=E("div"),l=E("p"),i=K(a),c=V(),f=E("p"),b=K("Added "),d=K(h),m=V(),p&&p.c(),g=V(),this.h()},l(_){t=C(_,"DIV",{class:!0});var v=S(t);e=C(v,"DIV",{class:!0});var k=S(e);ot(n.$$.fragment,k),s=x(k),o=C(k,"DIV",{});var y=S(o);l=C(y,"P",{class:!0});var T=S(l);i=z(T,a),T.forEach(I),c=x(y),f=C(y,"P",{class:!0});var A=S(f);b=z(A,"Added "),d=z(A,h),A.forEach(I),y.forEach(I),k.forEach(I),m=x(v),p&&p.l(v),g=x(v),v.forEach(I),this.h()},h(){w(l,"class","font-medium text-gray-900"),w(f,"class","text-sm text-gray-500"),w(e,"class","flex items-center"),w(t,"class","flex items-center justify-between p-3 bg-gray-50 rounded-lg")},m(_,v){j(_,t,v),u(t,e),st(n,e,null),u(e,s),u(e,o),u(o,l),u(l,i),u(o,c),u(o,f),u(f,b),u(f,d),u(t,m),p&&p.m(t,null),u(t,g),B=!0},p(_,v){const k={};v[0]&2&&(k.name=_[29].type==="totp"?"smartphone":_[29].type==="sms"?"message-square":"key"),n.$set(k),(!B||v[0]&2)&&a!==(a=_[29].name+"")&&it(i,a),(!B||v[0]&2)&&h!==(h=new Date(_[29].created_at).toLocaleDateString()+"")&&it(d,h),_[29].last_used_at?p?p.p(_,v):(p=Ee(_),p.c(),p.m(t,g)):p&&(p.d(1),p=null)},i(_){B||(H(n.$$.fragment,_),B=!0)},o(_){O(n.$$.fragment,_),B=!1},d(_){_&&I(t),rt(n),p&&p.d()}}}function Ee(r){let t,e,n=new Date(r[29].last_used_at).toLocaleDateString()+"",s;return{c(){t=E("span"),e=K("Last used "),s=K(n),this.h()},l(o){t=C(o,"SPAN",{class:!0});var l=S(t);e=z(l,"Last used "),s=z(l,n),l.forEach(I),this.h()},h(){w(t,"class","text-sm text-gray-500")},m(o,l){j(o,t,l),u(t,e),u(t,s)},p(o,l){l[0]&2&&n!==(n=new Date(o[29].last_used_at).toLocaleDateString()+"")&&it(s,n)},d(o){o&&I(t)}}}function ke(r){let t,e,n=r[29].status==="active"&&Ce(r);return{c(){n&&n.c(),t=xt()},l(s){n&&n.l(s),t=xt()},m(s,o){n&&n.m(s,o),j(s,t,o),e=!0},p(s,o){s[29].status==="active"?n?(n.p(s,o),o[0]&2&&H(n,1)):(n=Ce(s),n.c(),H(n,1),n.m(t.parentNode,t)):n&&(gt(),O(n,1,1,()=>{n=null}),mt())},i(s){e||(H(n),e=!0)},o(s){O(n),e=!1},d(s){s&&I(t),n&&n.d(s)}}}function Ie(r){let t,e="Add Phone Number",n,s;return{c(){t=E("button"),t.textContent=e,this.h()},l(o){t=C(o,"BUTTON",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-yz56h9"&&(t.textContent=e),this.h()},h(){w(t,"class","btn btn-secondary svelte-3ypc9g")},m(o,l){j(o,t,l),n||(s=Z(t,"click",r[20]),n=!0)},p:ut,d(o){o&&I(t),n=!1,s()}}}function jn(r){let t,e,n,s='<h2 class="text-2xl font-bold text-gray-900">Two-Factor Authentication</h2> <p class="mt-2 text-gray-600">Add an extra layer of security to your account</p>',o,l,a,i;const c=[Fn,Un],f=[];function b(h,d){return h[1]?0:1}return l=b(r),a=f[l]=c[l](r),{c(){t=E("div"),e=E("div"),n=E("div"),n.innerHTML=s,o=V(),a.c(),this.h()},l(h){t=C(h,"DIV",{class:!0});var d=S(t);e=C(d,"DIV",{class:!0});var m=S(e);n=C(m,"DIV",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-7k2m5r"&&(n.innerHTML=s),o=x(m),a.l(m),m.forEach(I),d.forEach(I),this.h()},h(){w(n,"class","p-6 border-b border-gray-200"),w(e,"class","bg-white rounded-lg shadow-sm border border-gray-200"),w(t,"class","max-w-4xl mx-auto p-6")},m(h,d){j(h,t,d),u(t,e),u(e,n),u(e,o),f[l].m(e,null),i=!0},p(h,d){let m=l;l=b(h),l===m?f[l].p(h,d):(gt(),O(f[m],1,1,()=>{f[m]=null}),mt(),a=f[l],a?a.p(h,d):(a=f[l]=c[l](h),a.c()),H(a,1),a.m(e,null))},i(h){i||(H(a),i=!0)},o(h){O(a),i=!1},d(h){h&&I(t),f[l].d()}}}function Yn(r,t,e){let{user:n}=t,{onComplete:s=()=>{}}=t,o=null,l="totp",a=!1,i=null,c=null,f=null,b="",h=[],d="",m="",g=!1;async function B(){try{e(1,o=await ft.get("/mfa/status"))}catch(D){e(4,i=D.message||"Failed to load MFA status")}}async function p(){try{e(3,a=!0),e(4,i=null);const D=await ft.post("/mfa/totp/setup",{});e(5,c=D.qr_code),e(6,f=D.manual_entry_key)}catch(D){e(4,i=D.message||"Failed to setup authenticator app")}finally{e(3,a=!1)}}async function _(){try{e(3,a=!0),e(4,i=null);const D=await ft.post("/mfa/totp/verify",{code:b});D.backup_codes&&e(8,h=D.backup_codes),await B()}catch(D){e(4,i=D.message||"Invalid verification code")}finally{e(3,a=!1)}}async function v(){try{e(3,a=!0),e(4,i=null);const D=await ft.post("/mfa/sms/setup",{phone_number:d});e(11,g=!0)}catch(D){e(4,i=D.message||"Failed to send SMS")}finally{e(3,a=!1)}}async function k(){try{e(3,a=!0),e(4,i=null),await ft.post("/mfa/sms/verify",{code:m}),await B(),e(11,g=!1)}catch(D){e(4,i=D.message||"Invalid verification code")}finally{e(3,a=!1)}}async function y(){if(confirm("This will invalidate your existing backup codes. Continue?"))try{e(3,a=!0),e(4,i=null);const D=await ft.post("/mfa/backup-codes/regenerate",{});e(8,h=D.backup_codes)}catch(D){e(4,i=D.message||"Failed to regenerate backup codes")}finally{e(3,a=!1)}}async function T(){const D=prompt("Enter your password to disable MFA:");if(D)try{e(3,a=!0),e(4,i=null),await ft.delete("/mfa/disable",{params:{password:D}}),await B()}catch($){e(4,i=$.message||"Failed to disable MFA")}finally{e(3,a=!1)}}function A(){const D=h.join(`
`),$=new Blob([D],{type:"text/plain"}),J=URL.createObjectURL($),G=document.createElement("a");G.href=J,G.download="tradesense-backup-codes.txt",G.click(),URL.revokeObjectURL(J)}Me(()=>{B()});const M=()=>e(2,l="sms"),R=()=>e(2,l="totp"),N=()=>e(2,l="sms");function P(){b=this.value,e(7,b)}const W=()=>{s()};function F(){d=this.value,e(9,d)}function L(){m=this.value,e(10,m)}const U=()=>{e(11,g=!1),e(10,m="")};return r.$$set=D=>{"user"in D&&e(19,n=D.user),"onComplete"in D&&e(0,s=D.onComplete)},[s,o,l,a,i,c,f,b,h,d,m,g,p,_,v,k,y,T,A,n,M,R,N,P,W,F,L,U]}class Gn extends De{constructor(t){super(),Se(this,t,Yn,jn,Ne,{user:19,onComplete:0},null,[-1,-1])}}function Te(r,t,e){const n=r.slice();return n[10]=t[e],n}function Qn(r){let t,e,n,s,o,l,a='<h2 class="text-xl font-bold text-gray-900">Password</h2> <p class="mt-2 text-gray-600">Change your account password</p>',i,c,f,b="Change Password",h,d,m,g,B,p,_,v="Security Recommendations",k,y,T,A,M,R,N,P,W,F,L,U,D,$,J,G,X,et,yt,ht;e=new Gn({props:{user:r[0],onComplete:r[5]}});let Q=r[1].length>0&&Be(r);return g=new ct({props:{name:"shield",class:"w-6 h-6 text-blue-600 mr-3 flex-shrink-0"}}),A=new ct({props:{name:"check",class:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}}),P=new ct({props:{name:"check",class:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}}),U=new ct({props:{name:"check",class:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}}),G=new ct({props:{name:"check",class:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}}),{c(){t=E("div"),lt(e.$$.fragment),n=V(),Q&&Q.c(),s=V(),o=E("div"),l=E("div"),l.innerHTML=a,i=V(),c=E("div"),f=E("button"),f.textContent=b,h=V(),d=E("div"),m=E("div"),lt(g.$$.fragment),B=V(),p=E("div"),_=E("h3"),_.textContent=v,k=V(),y=E("ul"),T=E("li"),lt(A.$$.fragment),M=K(`
                                Use a unique, strong password for your TradeSense account`),R=V(),N=E("li"),lt(P.$$.fragment),W=K(`
                                Enable two-factor authentication for maximum security`),F=V(),L=E("li"),lt(U.$$.fragment),D=K(`
                                Regularly review and remove unused trusted devices`),$=V(),J=E("li"),lt(G.$$.fragment),X=K(`
                                Keep your authenticator app backed up or save your backup codes`),this.h()},l(Y){t=C(Y,"DIV",{class:!0});var nt=S(t);ot(e.$$.fragment,nt),n=x(nt),Q&&Q.l(nt),s=x(nt),o=C(nt,"DIV",{class:!0});var bt=S(o);l=C(bt,"DIV",{class:!0,"data-svelte-h":!0}),q(l)!=="svelte-1qq839u"&&(l.innerHTML=a),i=x(bt),c=C(bt,"DIV",{class:!0});var ie=S(c);f=C(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),q(f)!=="svelte-vix7ys"&&(f.textContent=b),ie.forEach(I),bt.forEach(I),h=x(nt),d=C(nt,"DIV",{class:!0});var ae=S(d);m=C(ae,"DIV",{class:!0});var Nt=S(m);ot(g.$$.fragment,Nt),B=x(Nt),p=C(Nt,"DIV",{});var Mt=S(p);_=C(Mt,"H3",{class:!0,"data-svelte-h":!0}),q(_)!=="svelte-1qu1xk2"&&(_.textContent=v),k=x(Mt),y=C(Mt,"UL",{class:!0});var pt=S(y);T=C(pt,"LI",{class:!0});var $t=S(T);ot(A.$$.fragment,$t),M=z($t,`
                                Use a unique, strong password for your TradeSense account`),$t.forEach(I),R=x(pt),N=C(pt,"LI",{class:!0});var zt=S(N);ot(P.$$.fragment,zt),W=z(zt,`
                                Enable two-factor authentication for maximum security`),zt.forEach(I),F=x(pt),L=C(pt,"LI",{class:!0});var Kt=S(L);ot(U.$$.fragment,Kt),D=z(Kt,`
                                Regularly review and remove unused trusted devices`),Kt.forEach(I),$=x(pt),J=C(pt,"LI",{class:!0});var qt=S(J);ot(G.$$.fragment,qt),X=z(qt,`
                                Keep your authenticator app backed up or save your backup codes`),qt.forEach(I),pt.forEach(I),Mt.forEach(I),Nt.forEach(I),ae.forEach(I),nt.forEach(I),this.h()},h(){w(l,"class","p-6 border-b border-gray-200"),w(f,"class","btn btn-secondary svelte-1wneosv"),w(c,"class","p-6"),w(o,"class","bg-white rounded-lg shadow-sm border border-gray-200"),w(_,"class","font-semibold text-blue-900 mb-2"),w(T,"class","flex items-start"),w(N,"class","flex items-start"),w(L,"class","flex items-start"),w(J,"class","flex items-start"),w(y,"class","space-y-1 text-sm text-blue-800"),w(m,"class","flex"),w(d,"class","bg-blue-50 border border-blue-200 rounded-lg p-6"),w(t,"class","space-y-6")},m(Y,nt){j(Y,t,nt),st(e,t,null),u(t,n),Q&&Q.m(t,null),u(t,s),u(t,o),u(o,l),u(o,i),u(o,c),u(c,f),u(t,h),u(t,d),u(d,m),st(g,m,null),u(m,B),u(m,p),u(p,_),u(p,k),u(p,y),u(y,T),st(A,T,null),u(T,M),u(y,R),u(y,N),st(P,N,null),u(N,W),u(y,F),u(y,L),st(U,L,null),u(L,D),u(y,$),u(y,J),st(G,J,null),u(J,X),et=!0,yt||(ht=Z(f,"click",r[8]),yt=!0)},p(Y,nt){const bt={};nt&1&&(bt.user=Y[0]),e.$set(bt),Y[1].length>0?Q?(Q.p(Y,nt),nt&2&&H(Q,1)):(Q=Be(Y),Q.c(),H(Q,1),Q.m(t,s)):Q&&(gt(),O(Q,1,1,()=>{Q=null}),mt())},i(Y){et||(H(e.$$.fragment,Y),H(Q),H(g.$$.fragment,Y),H(A.$$.fragment,Y),H(P.$$.fragment,Y),H(U.$$.fragment,Y),H(G.$$.fragment,Y),et=!0)},o(Y){O(e.$$.fragment,Y),O(Q),O(g.$$.fragment,Y),O(A.$$.fragment,Y),O(P.$$.fragment,Y),O(U.$$.fragment,Y),O(G.$$.fragment,Y),et=!1},d(Y){Y&&I(t),rt(e),Q&&Q.d(),rt(g),rt(A),rt(P),rt(U),rt(G),yt=!1,ht()}}}function Wn(r){let t,e;return{c(){t=E("div"),e=K(r[3]),this.h()},l(n){t=C(n,"DIV",{class:!0});var s=S(t);e=z(s,r[3]),s.forEach(I),this.h()},h(){w(t,"class","bg-red-50 border border-red-200 rounded-lg p-4 text-red-700")},m(n,s){j(n,t,s),u(t,e)},p(n,s){s&8&&it(e,n[3])},i:ut,o:ut,d(n){n&&I(t)}}}function Zn(r){let t,e='<div class="spinner svelte-1wneosv"></div>';return{c(){t=E("div"),t.innerHTML=e,this.h()},l(n){t=C(n,"DIV",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-em5o00"&&(t.innerHTML=e),this.h()},h(){w(t,"class","flex justify-center py-12")},m(n,s){j(n,t,s)},p:ut,i:ut,o:ut,d(n){n&&I(t)}}}function Be(r){let t,e,n='<h2 class="text-xl font-bold text-gray-900">Trusted Devices</h2> <p class="mt-2 text-gray-600">These devices won&#39;t require MFA for 30 days</p>',s,o,l,a,i=Ct(r[1]),c=[];for(let b=0;b<i.length;b+=1)c[b]=Ae(Te(r,i,b));const f=b=>O(c[b],1,1,()=>{c[b]=null});return{c(){t=E("div"),e=E("div"),e.innerHTML=n,s=V(),o=E("div"),l=E("div");for(let b=0;b<c.length;b+=1)c[b].c();this.h()},l(b){t=C(b,"DIV",{class:!0});var h=S(t);e=C(h,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-1dr438r"&&(e.innerHTML=n),s=x(h),o=C(h,"DIV",{class:!0});var d=S(o);l=C(d,"DIV",{class:!0});var m=S(l);for(let g=0;g<c.length;g+=1)c[g].l(m);m.forEach(I),d.forEach(I),h.forEach(I),this.h()},h(){w(e,"class","p-6 border-b border-gray-200"),w(l,"class","space-y-3"),w(o,"class","p-6"),w(t,"class","bg-white rounded-lg shadow-sm border border-gray-200")},m(b,h){j(b,t,h),u(t,e),u(t,s),u(t,o),u(o,l);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(l,null);a=!0},p(b,h){if(h&18){i=Ct(b[1]);let d;for(d=0;d<i.length;d+=1){const m=Te(b,i,d);c[d]?(c[d].p(m,h),H(c[d],1)):(c[d]=Ae(m),c[d].c(),H(c[d],1),c[d].m(l,null))}for(gt(),d=i.length;d<c.length;d+=1)f(d);mt()}},i(b){if(!a){for(let h=0;h<i.length;h+=1)H(c[h]);a=!0}},o(b){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)O(c[h]);a=!1},d(b){b&&I(t),ee(c,b)}}}function Ae(r){let t,e,n,s=r[10].name+"",o,l,a,i,c=new Date(r[10].created_at).toLocaleDateString()+"",f,b,h=new Date(r[10].last_used_at).toLocaleDateString()+"",d,m,g=r[10].last_ip+"",B,p,_,v,k=new Date(r[10].expires_at).toLocaleDateString()+"",y,T,A,M,R,N,P,W;M=new ct({props:{name:"trash-2",class:"w-5 h-5"}});function F(){return r[7](r[10])}return{c(){t=E("div"),e=E("div"),n=E("p"),o=K(s),l=V(),a=E("p"),i=K("Added "),f=K(c),b=K(`
                                             Last used `),d=K(h),m=K(`
                                             From `),B=K(g),p=V(),_=E("p"),v=K("Expires "),y=K(k),T=V(),A=E("button"),lt(M.$$.fragment),R=V(),this.h()},l(L){t=C(L,"DIV",{class:!0});var U=S(t);e=C(U,"DIV",{});var D=S(e);n=C(D,"P",{class:!0});var $=S(n);o=z($,s),$.forEach(I),l=x(D),a=C(D,"P",{class:!0});var J=S(a);i=z(J,"Added "),f=z(J,c),b=z(J,`
                                             Last used `),d=z(J,h),m=z(J,`
                                             From `),B=z(J,g),J.forEach(I),p=x(D),_=C(D,"P",{class:!0});var G=S(_);v=z(G,"Expires "),y=z(G,k),G.forEach(I),D.forEach(I),T=x(U),A=C(U,"BUTTON",{class:!0,title:!0});var X=S(A);ot(M.$$.fragment,X),X.forEach(I),R=x(U),U.forEach(I),this.h()},h(){w(n,"class","font-medium text-gray-900"),w(a,"class","text-sm text-gray-500"),w(_,"class","text-xs text-gray-500 mt-1"),w(A,"class","text-red-600 hover:text-red-700"),w(A,"title","Remove device"),w(t,"class","flex items-center justify-between p-4 bg-gray-50 rounded-lg")},m(L,U){j(L,t,U),u(t,e),u(e,n),u(n,o),u(e,l),u(e,a),u(a,i),u(a,f),u(a,b),u(a,d),u(a,m),u(a,B),u(e,p),u(e,_),u(_,v),u(_,y),u(t,T),u(t,A),st(M,A,null),u(t,R),N=!0,P||(W=Z(A,"click",F),P=!0)},p(L,U){r=L,(!N||U&2)&&s!==(s=r[10].name+"")&&it(o,s),(!N||U&2)&&c!==(c=new Date(r[10].created_at).toLocaleDateString()+"")&&it(f,c),(!N||U&2)&&h!==(h=new Date(r[10].last_used_at).toLocaleDateString()+"")&&it(d,h),(!N||U&2)&&g!==(g=r[10].last_ip+"")&&it(B,g),(!N||U&2)&&k!==(k=new Date(r[10].expires_at).toLocaleDateString()+"")&&it(y,k)},i(L){N||(H(M.$$.fragment,L),N=!0)},o(L){O(M.$$.fragment,L),N=!1},d(L){L&&I(t),rt(M),P=!1,W()}}}function Xn(r){let t,e,n,s,o,l,a,i,c="Security Settings",f,b,h="Manage your account security and authentication settings",d,m,g,B,p,_;l=new ct({props:{name:"arrow-left",class:"w-5 h-5"}});const v=[Zn,Wn,Qn],k=[];function y(T,A){return T[2]?0:T[3]?1:T[0]?2:-1}return~(m=y(r))&&(g=k[m]=v[m](r)),{c(){t=V(),e=E("div"),n=E("div"),s=E("div"),o=E("button"),lt(l.$$.fragment),a=V(),i=E("h1"),i.textContent=c,f=V(),b=E("p"),b.textContent=h,d=V(),g&&g.c(),this.h()},l(T){Ge("svelte-1equq85",document.head).forEach(I),t=x(T),e=C(T,"DIV",{class:!0});var M=S(e);n=C(M,"DIV",{class:!0});var R=S(n);s=C(R,"DIV",{class:!0});var N=S(s);o=C(N,"BUTTON",{class:!0});var P=S(o);ot(l.$$.fragment,P),P.forEach(I),a=x(N),i=C(N,"H1",{class:!0,"data-svelte-h":!0}),q(i)!=="svelte-12bf19d"&&(i.textContent=c),N.forEach(I),f=x(R),b=C(R,"P",{class:!0,"data-svelte-h":!0}),q(b)!=="svelte-frwiw6"&&(b.textContent=h),R.forEach(I),d=x(M),g&&g.l(M),M.forEach(I),this.h()},h(){document.title="Security Settings - TradeSense",w(o,"class","text-gray-500 hover:text-gray-700 mr-3"),w(i,"class","text-3xl font-bold text-gray-900"),w(s,"class","flex items-center mb-4"),w(b,"class","text-gray-600"),w(n,"class","mb-8"),w(e,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8")},m(T,A){j(T,t,A),j(T,e,A),u(e,n),u(n,s),u(s,o),st(l,o,null),u(s,a),u(s,i),u(n,f),u(n,b),u(e,d),~m&&k[m].m(e,null),B=!0,p||(_=Z(o,"click",r[6]),p=!0)},p(T,[A]){let M=m;m=y(T),m===M?~m&&k[m].p(T,A):(g&&(gt(),O(k[M],1,1,()=>{k[M]=null}),mt()),~m?(g=k[m],g?g.p(T,A):(g=k[m]=v[m](T),g.c()),H(g,1),g.m(e,null)):g=null)},i(T){B||(H(l.$$.fragment,T),H(g),B=!0)},o(T){O(l.$$.fragment,T),O(g),B=!1},d(T){T&&(I(t),I(e)),rt(l),~m&&k[m].d(),p=!1,_()}}}function tr(r,t,e){let n=null,s=[],o=!0,l=null;async function a(){try{e(2,o=!0),e(3,l=null),e(0,n=await ft.get("/auth/me"));const d=await ft.get("/mfa/trusted-devices");e(1,s=d.trusted_devices||[])}catch(d){e(3,l=d.message||"Failed to load security settings")}finally{e(2,o=!1)}}async function i(d){if(confirm("Remove this trusted device?"))try{await ft.delete(`/mfa/trusted-devices/${d}`),await a()}catch(m){alert(m.message||"Failed to remove device")}}function c(){a()}return Me(()=>{a()}),[n,s,o,l,i,c,()=>ue("/account"),d=>i(d.id),()=>ue("/account/change-password")]}class ir extends De{constructor(t){super(),Se(this,t,tr,Xn,Ne,{})}}export{ir as component};
