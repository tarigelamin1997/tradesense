import{S as it,i as ct,s as ut,d as h,H as ft,t as O,a as q,J as Qe,I as We,f as re,h as l,D as g,k as f,l as E,q as d,F as dt,e as ke,Z as Pe,p as te,o as I,v as ae,r as S,y as x,z as F,A as H,B as z,E as mt,M as Xe,w as ht,n as De,j as gt,G as Be,m as G,N as vt,P as Ze,O as Ae,U as pt,K as _t,V as $t}from"../chunks/Lbc7qOuA.js";import{e as je}from"../chunks/BPb2qfkA.js";import"../chunks/IHki7fMi.js";import{g as et}from"../chunks/C_yqYPEv.js";import{b as Ue}from"../chunks/Bt-Xh7oU.js";import{M as qe}from"../chunks/4fbhx4SE.js";import{E as yt,P as bt,T as kt}from"../chunks/BV3OcYMB.js";import{p as Dt}from"../chunks/eyO8hxY9.js";import{T as wt}from"../chunks/BXNpXYMZ.js";import{T as Pt}from"../chunks/DXycaVAh.js";import{T as Ct,t as tt}from"../chunks/D8_GYj24.js";import{a as Ce}from"../chunks/B8MKr4Yk.js";import{t as Et}from"../chunks/DIOJ9bNX.js";import{b as Tt}from"../chunks/Crj0BkzR.js";import{i as It}from"../chunks/yvsfElaz.js";import{l as Ie}from"../chunks/BaXaLpMJ.js";import{L as ve}from"../chunks/yBtR4AKW.js";function at(r,e,a){const t=r.slice();return t[5]=e[a],t}function St(r){let e,a;return e=new Pt({props:{size:14}}),{c(){z(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,u){F(e,t,u),a=!0},i(t){a||(q(e.$$.fragment,t),a=!0)},o(t){O(e.$$.fragment,t),a=!1},d(t){x(e,t)}}}function Vt(r){let e,a;return e=new wt({props:{size:14}}),{c(){z(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,u){F(e,t,u),a=!0},i(t){a||(q(e.$$.fragment,t),a=!0)},o(t){O(e.$$.fragment,t),a=!1},d(t){x(e,t)}}}function rt(r){let e,a,t=r[5].symbol+"",u,c,n,b,o=lt(r[5].price)+"",s,i,v,y,P,A,C,$=st(r[5].change)+"",p,L,M,R,J=nt(r[5].changePercent)+"",N,Z,ee,k;const _=[Vt,St],V=[];function W(D,T){return D[5].change>=0?0:1}return y=W(r),P=V[y]=_[y](r),{c(){e=d("div"),a=d("div"),u=ae(t),c=S(),n=d("div"),b=ae("$"),s=ae(o),i=S(),v=d("div"),P.c(),A=S(),C=d("span"),p=ae($),L=S(),M=d("span"),R=ae("("),N=ae(J),Z=ae(")"),ee=S(),this.h()},l(D){e=f(D,"DIV",{class:!0});var T=E(e);a=f(T,"DIV",{class:!0});var Y=E(a);u=te(Y,t),Y.forEach(h),c=I(T),n=f(T,"DIV",{class:!0});var B=E(n);b=te(B,"$"),s=te(B,o),B.forEach(h),i=I(T),v=f(T,"DIV",{class:!0});var j=E(v);P.l(j),A=I(j),C=f(j,"SPAN",{});var U=E(C);p=te(U,$),U.forEach(h),L=I(j),M=f(j,"SPAN",{class:!0});var K=E(M);R=te(K,"("),N=te(K,J),Z=te(K,")"),K.forEach(h),j.forEach(h),ee=I(T),T.forEach(h),this.h()},h(){g(a,"class","symbol svelte-5bb9e2"),g(n,"class","price svelte-5bb9e2"),g(M,"class","percent svelte-5bb9e2"),g(v,"class","change svelte-5bb9e2"),g(e,"class","ticker-item svelte-5bb9e2"),Pe(e,"positive",r[5].change>=0),Pe(e,"negative",r[5].change<0),Pe(e,"animating",r[1].has(r[5].symbol))},m(D,T){re(D,e,T),l(e,a),l(a,u),l(e,c),l(e,n),l(n,b),l(n,s),l(e,i),l(e,v),V[y].m(v,null),l(v,A),l(v,C),l(C,p),l(v,L),l(v,M),l(M,R),l(M,N),l(M,Z),l(e,ee),k=!0},p(D,T){(!k||T&1)&&t!==(t=D[5].symbol+"")&&ke(u,t),(!k||T&1)&&o!==(o=lt(D[5].price)+"")&&ke(s,o);let Y=y;y=W(D),y!==Y&&(Qe(),O(V[Y],1,1,()=>{V[Y]=null}),We(),P=V[y],P||(P=V[y]=_[y](D),P.c()),q(P,1),P.m(v,A)),(!k||T&1)&&$!==($=st(D[5].change)+"")&&ke(p,$),(!k||T&1)&&J!==(J=nt(D[5].changePercent)+"")&&ke(N,J),(!k||T&1)&&Pe(e,"positive",D[5].change>=0),(!k||T&1)&&Pe(e,"negative",D[5].change<0),(!k||T&3)&&Pe(e,"animating",D[1].has(D[5].symbol))},i(D){k||(q(P),k=!0)},o(D){O(P),k=!1},d(D){D&&h(e),V[y].d()}}}function Lt(r){let e,a,t,u,c=je(Object.values(r[0])),n=[];for(let o=0;o<c.length;o+=1)n[o]=rt(at(r,c,o));const b=o=>O(n[o],1,1,()=>{n[o]=null});return{c(){e=d("div"),a=d("div"),t=d("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=f(o,"DIV",{class:!0});var s=E(e);a=f(s,"DIV",{class:!0});var i=E(a);t=f(i,"DIV",{class:!0});var v=E(t);for(let y=0;y<n.length;y+=1)n[y].l(v);v.forEach(h),i.forEach(h),s.forEach(h),this.h()},h(){g(t,"class","ticker-items svelte-5bb9e2"),g(a,"class","ticker-wrapper svelte-5bb9e2"),g(e,"class","price-ticker svelte-5bb9e2")},m(o,s){re(o,e,s),l(e,a),l(a,t);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(t,null);u=!0},p(o,[s]){if(s&3){c=je(Object.values(o[0]));let i;for(i=0;i<c.length;i+=1){const v=at(o,c,i);n[i]?(n[i].p(v,s),q(n[i],1)):(n[i]=rt(v),n[i].c(),q(n[i],1),n[i].m(t,null))}for(Qe(),i=c.length;i<n.length;i+=1)b(i);We()}},i(o){if(!u){for(let s=0;s<c.length;s+=1)q(n[s]);u=!0}},o(o){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)O(n[s]);u=!1},d(o){o&&h(e),ft(n,o)}}}function lt(r){return r.toFixed(2)}function st(r){return(r>=0?"+":"")+r.toFixed(2)}function nt(r){return(r>=0?"+":"")+r.toFixed(2)+"%"}function At(r,e,a){let t;dt(r,Dt,o=>a(3,t=o));let{symbols:u=["SPY","QQQ","IWM","VIX"]}=e,c={},n=new Set;u.forEach(o=>{a(0,c[o]={symbol:o,price:Math.random()*500+100,change:(Math.random()-.5)*10,changePercent:(Math.random()-.5)*5,prevPrice:0},c)});function b(o){if(o.symbol&&c[o.symbol]){const s=c[o.symbol].price;a(0,c[o.symbol]={...c[o.symbol],price:o.price,change:o.change||o.price-s,changePercent:o.changePercent||(o.price-s)/s*100,prevPrice:s},c),n.add(o.symbol),setTimeout(()=>{n.delete(o.symbol),a(1,n)},500)}}return r.$$set=o=>{"symbols"in o&&a(2,u=o.symbols)},r.$$.update=()=>{r.$$.dirty&8&&t&&b(t)},[c,n,u,t]}class qt extends it{constructor(e){super(),ct(this,e,At,Lt,ut,{symbols:2})}}const Rt={async getAnalytics(r){return{summary:await this.getSummary(r),equity_curve:[],daily_pnl:[],monthly_pnl:[],strategy_breakdown:[],win_distribution:{wins:0,losses:0,breakeven:0}}},async getSummary(r){return Ce.get("/api/v1/analytics/summary",r)},async getEquityCurve(r){return Ce.get("/api/v1/analytics/equity-curve",r)},async getDailyPnL(r){return Ce.get("/api/v1/analytics/daily-pnl",r)},async getStrategyPerformance(){return Ce.get("/api/v1/analytics/strategies")},async getSymbolPerformance(){return Ce.get("/api/v1/analytics/symbols")},async getCalendarData(r){return Ce.get(`/api/v1/analytics/calendar/${r}`)}};function Ot(r,e,a){const t=r.slice();return t[13]=e[a],t}function Mt(r){let e,a,t,u,c,n,b="Trading Dashboard",o,s,i=r[3]?"🎭 Demo Data":`Last ${r[0]}`,v,y,P,A,C,$,p="Last 7 days",L,M="Last 30 days",R,J="Last 90 days",N,Z="Last year",ee,k,_=r[1]?"Loading...":"Refresh",V,W,D,T,Y,B,j,U,K,le,Re,se,ne,pe,Ye="Equity Curve",Oe,oe,Me,ie,_e,Ge="Daily P&L",Ne,ce,xe,ue,Fe,fe,$e,Je="Recent Trades",He,de,ye,ze,Ke;t=new qt({});let Q=r[3]&&ot();return T=new qe({props:{title:"Total P&L",value:r[6].totalPnl,format:"currency",trend:r[6].totalPnlPercent}}),B=new qe({props:{title:"Win Rate",value:r[6].winRate,format:"percent",trend:r[6].winRateChange}}),U=new qe({props:{title:"Total Trades",value:r[6].totalTrades,format:"number"}}),le=new qe({props:{title:"Current Streak",value:r[6].currentStreak.count,format:"streak",streakType:r[6].currentStreak.type}}),oe=new yt({props:{data:r[7]}}),ce=new bt({props:{data:r[8]}}),ue=new Ct({props:{trades:r[9],userPlan:r[4]}}),de=new kt({props:{trades:r[9]}}),{c(){e=d("div"),a=d("div"),z(t.$$.fragment),u=S(),c=d("header"),n=d("h1"),n.textContent=b,o=S(),s=d("p"),v=ae(i),y=S(),Q&&Q.c(),P=S(),A=d("div"),C=d("select"),$=d("option"),$.textContent=p,L=d("option"),L.textContent=M,R=d("option"),R.textContent=J,N=d("option"),N.textContent=Z,ee=S(),k=d("button"),V=ae(_),W=S(),D=d("div"),z(T.$$.fragment),Y=S(),z(B.$$.fragment),j=S(),z(U.$$.fragment),K=S(),z(le.$$.fragment),Re=S(),se=d("div"),ne=d("div"),pe=d("h2"),pe.textContent=Ye,Oe=S(),z(oe.$$.fragment),Me=S(),ie=d("div"),_e=d("h2"),_e.textContent=Ge,Ne=S(),z(ce.$$.fragment),xe=S(),z(ue.$$.fragment),Fe=S(),fe=d("div"),$e=d("h2"),$e.textContent=Je,He=S(),z(de.$$.fragment),this.h()},l(m){e=f(m,"DIV",{class:!0});var w=E(e);a=f(w,"DIV",{class:!0});var we=E(a);H(t.$$.fragment,we),we.forEach(h),u=I(w),c=f(w,"HEADER",{class:!0});var me=E(c);n=f(me,"H1",{class:!0,"data-svelte-h":!0}),G(n)!=="svelte-sngi5t"&&(n.textContent=b),o=I(me),s=f(me,"P",{class:!0});var Ee=E(s);v=te(Ee,i),Ee.forEach(h),me.forEach(h),y=I(w),Q&&Q.l(w),P=I(w),A=f(w,"DIV",{class:!0});var he=E(A);C=f(he,"SELECT",{class:!0});var ge=E(C);$=f(ge,"OPTION",{"data-svelte-h":!0}),G($)!=="svelte-vz7f6l"&&($.textContent=p),L=f(ge,"OPTION",{"data-svelte-h":!0}),G(L)!=="svelte-1q74rhz"&&(L.textContent=M),R=f(ge,"OPTION",{"data-svelte-h":!0}),G(R)!=="svelte-11iy2bn"&&(R.textContent=J),N=f(ge,"OPTION",{"data-svelte-h":!0}),G(N)!=="svelte-1s84osr"&&(N.textContent=Z),ge.forEach(h),ee=I(he),k=f(he,"BUTTON",{class:!0});var Te=E(k);V=te(Te,_),Te.forEach(h),he.forEach(h),W=I(w),D=f(w,"DIV",{class:!0});var X=E(D);H(T.$$.fragment,X),Y=I(X),H(B.$$.fragment,X),j=I(X),H(U.$$.fragment,X),K=I(X),H(le.$$.fragment,X),X.forEach(h),Re=I(w),se=f(w,"DIV",{class:!0});var be=E(se);ne=f(be,"DIV",{class:!0});var Se=E(ne);pe=f(Se,"H2",{class:!0,"data-svelte-h":!0}),G(pe)!=="svelte-1w116ne"&&(pe.textContent=Ye),Oe=I(Se),H(oe.$$.fragment,Se),Se.forEach(h),Me=I(be),ie=f(be,"DIV",{class:!0});var Ve=E(ie);_e=f(Ve,"H2",{class:!0,"data-svelte-h":!0}),G(_e)!=="svelte-cl8jbn"&&(_e.textContent=Ge),Ne=I(Ve),H(ce.$$.fragment,Ve),Ve.forEach(h),be.forEach(h),xe=I(w),H(ue.$$.fragment,w),Fe=I(w),fe=f(w,"DIV",{class:!0});var Le=E(fe);$e=f(Le,"H2",{class:!0,"data-svelte-h":!0}),G($e)!=="svelte-mgfyfk"&&($e.textContent=Je),He=I(Le),H(de.$$.fragment,Le),Le.forEach(h),w.forEach(h),this.h()},h(){g(a,"class","ticker-section svelte-4lelu5"),g(n,"class","svelte-4lelu5"),g(s,"class","svelte-4lelu5"),g(c,"class","dashboard-header svelte-4lelu5"),$.__value="7d",Ae($,$.__value),L.__value="30d",Ae(L,L.__value),R.__value="90d",Ae(R,R.__value),N.__value="1y",Ae(N,N.__value),g(C,"class","date-range-select svelte-4lelu5"),r[0]===void 0&&pt(()=>r[12].call(C)),g(k,"class","refresh-button svelte-4lelu5"),k.disabled=r[1],g(A,"class","controls svelte-4lelu5"),g(D,"class","grid grid-cols-4"),g(pe,"class","svelte-4lelu5"),g(ne,"class","card svelte-4lelu5"),g(_e,"class","svelte-4lelu5"),g(ie,"class","card svelte-4lelu5"),g(se,"class","grid grid-cols-2 svelte-4lelu5"),g($e,"class","svelte-4lelu5"),g(fe,"class","card svelte-4lelu5"),g(e,"class","dashboard svelte-4lelu5")},m(m,w){re(m,e,w),l(e,a),F(t,a,null),l(e,u),l(e,c),l(c,n),l(c,o),l(c,s),l(s,v),l(e,y),Q&&Q.m(e,null),l(e,P),l(e,A),l(A,C),l(C,$),l(C,L),l(C,R),l(C,N),Ze(C,r[0],!0),l(A,ee),l(A,k),l(k,V),l(e,W),l(e,D),F(T,D,null),l(D,Y),F(B,D,null),l(D,j),F(U,D,null),l(D,K),F(le,D,null),l(e,Re),l(e,se),l(se,ne),l(ne,pe),l(ne,Oe),F(oe,ne,null),l(se,Me),l(se,ie),l(ie,_e),l(ie,Ne),F(ce,ie,null),l(e,xe),F(ue,e,null),l(e,Fe),l(e,fe),l(fe,$e),l(fe,He),F(de,fe,null),ye=!0,ze||(Ke=[Be(C,"change",r[12]),Be(k,"click",r[10])],ze=!0)},p(m,w){(!ye||w&9)&&i!==(i=m[3]?"🎭 Demo Data":`Last ${m[0]}`)&&ke(v,i),m[3]?Q||(Q=ot(),Q.c(),Q.m(e,P)):Q&&(Q.d(1),Q=null),w&1&&Ze(C,m[0]),(!ye||w&2)&&_!==(_=m[1]?"Loading...":"Refresh")&&ke(V,_),(!ye||w&2)&&(k.disabled=m[1]);const we={};w&64&&(we.value=m[6].totalPnl),w&64&&(we.trend=m[6].totalPnlPercent),T.$set(we);const me={};w&64&&(me.value=m[6].winRate),w&64&&(me.trend=m[6].winRateChange),B.$set(me);const Ee={};w&64&&(Ee.value=m[6].totalTrades),U.$set(Ee);const he={};w&64&&(he.value=m[6].currentStreak.count),w&64&&(he.streakType=m[6].currentStreak.type),le.$set(he);const ge={};w&128&&(ge.data=m[7]),oe.$set(ge);const Te={};w&256&&(Te.data=m[8]),ce.$set(Te);const X={};w&512&&(X.trades=m[9]),w&16&&(X.userPlan=m[4]),ue.$set(X);const be={};w&512&&(be.trades=m[9]),de.$set(be)},i(m){ye||(q(t.$$.fragment,m),q(T.$$.fragment,m),q(B.$$.fragment,m),q(U.$$.fragment,m),q(le.$$.fragment,m),q(oe.$$.fragment,m),q(ce.$$.fragment,m),q(ue.$$.fragment,m),q(de.$$.fragment,m),ye=!0)},o(m){O(t.$$.fragment,m),O(T.$$.fragment,m),O(B.$$.fragment,m),O(U.$$.fragment,m),O(le.$$.fragment,m),O(oe.$$.fragment,m),O(ce.$$.fragment,m),O(ue.$$.fragment,m),O(de.$$.fragment,m),ye=!1},d(m){m&&h(e),x(t),Q&&Q.d(),x(T),x(B),x(U),x(le),x(oe),x(ce),x(ue),x(de),ze=!1,vt(Ke)}}}function Nt(r){let e,a,t,u="Welcome to TradeSense! 🎉",c,n,b="Start tracking your trades to see analytics and insights.",o,s,i,v="Add Your First Trade",y,P,A="View Demo Dashboard",C,$;return{c(){e=d("div"),a=d("div"),t=d("h1"),t.textContent=u,c=S(),n=d("p"),n.textContent=b,o=S(),s=d("div"),i=d("a"),i.textContent=v,y=S(),P=d("button"),P.textContent=A,this.h()},l(p){e=f(p,"DIV",{class:!0});var L=E(e);a=f(L,"DIV",{class:!0});var M=E(a);t=f(M,"H1",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-14n586x"&&(t.textContent=u),c=I(M),n=f(M,"P",{class:!0,"data-svelte-h":!0}),G(n)!=="svelte-15cbwzz"&&(n.textContent=b),o=I(M),s=f(M,"DIV",{class:!0});var R=E(s);i=f(R,"A",{href:!0,class:!0,"data-svelte-h":!0}),G(i)!=="svelte-giyxin"&&(i.textContent=v),y=I(R),P=f(R,"BUTTON",{class:!0,"data-svelte-h":!0}),G(P)!=="svelte-1ozprpp"&&(P.textContent=A),R.forEach(h),M.forEach(h),L.forEach(h),this.h()},h(){g(t,"class","svelte-4lelu5"),g(n,"class","svelte-4lelu5"),g(i,"href","/tradelog"),g(i,"class","primary-button svelte-4lelu5"),g(P,"class","secondary-button svelte-4lelu5"),g(s,"class","welcome-actions svelte-4lelu5"),g(a,"class","welcome-container svelte-4lelu5"),g(e,"class","dashboard svelte-4lelu5")},m(p,L){re(p,e,L),l(e,a),l(a,t),l(a,c),l(a,n),l(a,o),l(a,s),l(s,i),l(s,y),l(s,P),C||($=Be(P,"click",r[11]),C=!0)},p:De,i:De,o:De,d(p){p&&h(e),C=!1,$()}}}function xt(r){let e,a;return{c(){e=d("div"),a=ae(r[2]),this.h()},l(t){e=f(t,"DIV",{class:!0});var u=E(e);a=te(u,r[2]),u.forEach(h),this.h()},h(){g(e,"class","error")},m(t,u){re(t,e,u),l(e,a)},p(t,u){u&4&&ke(a,t[2])},i:De,o:De,d(t){t&&h(e)}}}function Ft(r){let e,a,t,u,c,n,b,o,s,i,v,y,P,A,C,$,p,L,M,R,J,N,Z;t=new ve({props:{type:"text",lines:2,width:"200px"}});let ee=je(Array(4)),k=[];for(let _=0;_<ee.length;_+=1)k[_]=Ht(Ot(r,ee,_));return s=new ve({props:{type:"chart",height:"300px"}}),y=new ve({props:{type:"chart",height:"300px"}}),C=new ve({props:{type:"text",lines:1,width:"150px"}}),L=new ve({props:{type:"card",height:"80px"}}),R=new ve({props:{type:"card",height:"80px"}}),N=new ve({props:{type:"card",height:"80px"}}),{c(){e=d("div"),a=d("div"),z(t.$$.fragment),u=S(),c=d("div");for(let _=0;_<k.length;_+=1)k[_].c();n=S(),b=d("div"),o=d("div"),z(s.$$.fragment),i=S(),v=d("div"),z(y.$$.fragment),P=S(),A=d("div"),z(C.$$.fragment),$=S(),p=d("div"),z(L.$$.fragment),M=S(),z(R.$$.fragment),J=S(),z(N.$$.fragment),this.h()},l(_){e=f(_,"DIV",{class:!0});var V=E(e);a=f(V,"DIV",{class:!0});var W=E(a);H(t.$$.fragment,W),W.forEach(h),u=I(V),c=f(V,"DIV",{class:!0});var D=E(c);for(let K=0;K<k.length;K+=1)k[K].l(D);D.forEach(h),n=I(V),b=f(V,"DIV",{class:!0});var T=E(b);o=f(T,"DIV",{class:!0});var Y=E(o);H(s.$$.fragment,Y),Y.forEach(h),i=I(T),v=f(T,"DIV",{class:!0});var B=E(v);H(y.$$.fragment,B),B.forEach(h),T.forEach(h),P=I(V),A=f(V,"DIV",{class:!0});var j=E(A);H(C.$$.fragment,j),$=I(j),p=f(j,"DIV",{style:!0});var U=E(p);H(L.$$.fragment,U),M=I(U),H(R.$$.fragment,U),J=I(U),H(N.$$.fragment,U),U.forEach(h),j.forEach(h),V.forEach(h),this.h()},h(){g(a,"class","page-header svelte-4lelu5"),g(c,"class","metrics-grid svelte-4lelu5"),g(o,"class","chart-wrapper svelte-4lelu5"),g(v,"class","chart-wrapper svelte-4lelu5"),g(b,"class","charts-grid svelte-4lelu5"),gt(p,"margin-top","1rem"),g(A,"class","recent-trades-skeleton svelte-4lelu5"),g(e,"class","dashboard-skeleton svelte-4lelu5")},m(_,V){re(_,e,V),l(e,a),F(t,a,null),l(e,u),l(e,c);for(let W=0;W<k.length;W+=1)k[W]&&k[W].m(c,null);l(e,n),l(e,b),l(b,o),F(s,o,null),l(b,i),l(b,v),F(y,v,null),l(e,P),l(e,A),F(C,A,null),l(A,$),l(A,p),F(L,p,null),l(p,M),F(R,p,null),l(p,J),F(N,p,null),Z=!0},p:De,i(_){if(!Z){q(t.$$.fragment,_);for(let V=0;V<ee.length;V+=1)q(k[V]);q(s.$$.fragment,_),q(y.$$.fragment,_),q(C.$$.fragment,_),q(L.$$.fragment,_),q(R.$$.fragment,_),q(N.$$.fragment,_),Z=!0}},o(_){O(t.$$.fragment,_),k=k.filter(Boolean);for(let V=0;V<k.length;V+=1)O(k[V]);O(s.$$.fragment,_),O(y.$$.fragment,_),O(C.$$.fragment,_),O(L.$$.fragment,_),O(R.$$.fragment,_),O(N.$$.fragment,_),Z=!1},d(_){_&&h(e),x(t),ft(k,_),x(s),x(y),x(C),x(L),x(R),x(N)}}}function ot(r){let e,a=`<strong>⚠️ Demo Mode:</strong> You&#39;re viewing sample data. 
				<a href="/tradelog" class="svelte-4lelu5">Add real trades</a> or <a href="/upload" class="svelte-4lelu5">import from CSV</a> to see your actual performance.`;return{c(){e=d("div"),e.innerHTML=a,this.h()},l(t){e=f(t,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-sa7hdy"&&(e.innerHTML=a),this.h()},h(){g(e,"class","demo-banner svelte-4lelu5")},m(t,u){re(t,e,u)},d(t){t&&h(e)}}}function Ht(r){let e,a;return e=new ve({props:{type:"stat"}}),{c(){z(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,u){F(e,t,u),a=!0},p:De,i(t){a||(q(e.$$.fragment,t),a=!0)},o(t){O(e.$$.fragment,t),a=!1},d(t){x(e,t)}}}function zt(r){let e,a,t,u,c;const n=[Ft,xt,Nt,Mt],b=[];function o(s,i){return s[1]?0:s[2]?1:s[6].totalTrades===0&&!s[3]?2:3}return a=o(r),t=b[a]=n[a](r),{c(){e=S(),t.c(),u=Xe(),this.h()},l(s){mt("svelte-12ut74h",document.head).forEach(h),e=I(s),t.l(s),u=Xe(),this.h()},h(){document.title="Dashboard - TradeSense"},m(s,i){re(s,e,i),b[a].m(s,i),re(s,u,i),c=!0},p(s,[i]){let v=a;a=o(s),a===v?b[a].p(s,i):(Qe(),O(b[v],1,1,()=>{b[v]=null}),We(),t=b[a],t?t.p(s,i):(t=b[a]=n[a](s),t.c()),q(t,1),t.m(u.parentNode,u))},i(s){c||(q(t),c=!0)},o(s){O(t),c=!1},d(s){s&&(h(e),h(u)),b[a].d(s)}}}function Ut(){const r={totalPnl:15176.89,totalPnlPercent:51.8,winRate:64.8,winRateChange:.2,totalTrades:245,currentStreak:{type:"win",count:5}},e=Array.from({length:30},(u,c)=>{const n=new Date;return n.setDate(n.getDate()-30+c),{date:n.toISOString().split("T")[0],value:1e4+Math.random()*5e3+c*100}}),a=Array.from({length:14},(u,c)=>{const n=new Date;return n.setDate(n.getDate()-14+c),{date:n.toISOString().split("T")[0],pnl:(Math.random()-.45)*500}});return{sampleStats:r,sampleEquityData:e,samplePnlData:a,sampleTrades:[{id:1,symbol:"AAPL",side:"long",entryPrice:185.5,exitPrice:187.25,quantity:100,pnl:175,entryDate:"2024-01-14 09:30",exitDate:"2024-01-14 14:45"},{id:2,symbol:"TSLA",side:"short",entryPrice:242.8,exitPrice:244.5,quantity:50,pnl:-85,entryDate:"2024-01-14 10:15",exitDate:"2024-01-14 15:30"}]}}function Bt(r,e,a){let t=!0,u="",c=!1,n="30d",b="free",o=!1,s={totalPnl:0,totalPnlPercent:0,winRate:0,winRateChange:0,totalTrades:0,currentStreak:{type:"win",count:0}},i=[],v=[],y=[];async function P(){try{if(a(1,t=!0),a(2,u=""),!_t(It)){Ie.log("Not authenticated, redirecting to login"),Ue&&et("/login");return}Ie.log("Fetching analytics data...");try{const[$,p]=await Promise.all([Rt.getSummary({period:n}),Tt.getSubscription()]);Ie.log("Summary data:",$),p&&(p.plan_id.includes("enterprise")?a(4,b="enterprise"):p.plan_id.includes("pro")?a(4,b="pro"):a(4,b="free")),a(6,s={totalPnl:$.total_pnl||0,totalPnlPercent:0,winRate:$.overall_win_rate||0,winRateChange:0,totalTrades:$.total_trades||0,currentStreak:{type:"win",count:0}}),a(7,i=[]),a(8,v=[])}catch($){throw Ie.error("Failed to fetch summary:",$),$}try{const $=await Et.getTrades({limit:10});a(9,y=$.map(p=>({id:p.id,symbol:p.symbol,side:p.side,entryPrice:p.entry_price,exitPrice:p.exit_price,quantity:p.quantity,pnl:p.pnl||0,entryDate:p.entry_date,exitDate:p.exit_date}))),tt.setTrades(y),a(3,c=!1)}catch($){Ie.error("Failed to fetch trades:",$),a(9,y=[])}}catch($){$.status===401&&Ue?et("/login"):a(2,u="Failed to load data. Please try again or check your connection.")}finally{a(1,t=!1)}}ht(()=>{P()});const A=()=>{const{sampleStats:$,sampleEquityData:p,samplePnlData:L,sampleTrades:M}=Ut();a(6,s=$),a(7,i=p),a(8,v=L),a(9,y=M),tt.setTrades(M),a(5,o=!0),a(3,c=!0)};function C(){n=$t(this),a(0,n)}return r.$$.update=()=>{r.$$.dirty&1&&n&&Ue&&P()},[n,t,u,c,b,o,s,i,v,y,P,A,C]}class ia extends it{constructor(e){super(),ct(this,e,Bt,zt,ut,{})}}export{ia as component};
