You're reviewing a new build of TradeSense — a trading analytics web app. While many improvements have been made, several **critical UI/UX, functional, and data reporting issues** remain unresolved or underdeveloped.

Your job is to fix, enhance, or redesign the following core elements to elevate the product to a professional, reliable, and visually impressive release standard.

All changes should be:
- Visually modern and consistent
- Responsive across screen sizes
- User-focused and intuitive
- Based on real feedback + Git versioned milestones (v1.1.0 → v1.2.0)

---

## 🔧 OUTSTANDING ISSUES & REQUIRED FIXES

### 1. 🚫 Remove Redundant Sidebar Dropdown
- The dropdown menu under "TradeSense" is useless — the same navigation tabs are already visible.
- ✅ **Remove the dropdown completely**.
- ✅ Sidebar should be clean, consistent, and collapse into icon mode on smaller screens.
- Suggested: Use tooltip-hover effects for sidebar items in collapsed mode.

---

### 2. 📂 Fix Drag & Drop Upload
- Drag & drop **does not trigger the file upload logic** — only “Browse File” works.
- ✅ Ensure drag events are bound and file handler is triggered correctly.
- ✅ Show proper visual feedback on drag hover (e.g. dotted border, drop icon)
- Add subtle animation (e.g. bounce or highlight) when file is dropped.

---

### 3. 🌗 Light Theme Is Broken – Default to System Theme
- Current light theme is **visually broken, harsh, and doesn’t activate**.
- ✅ Redesign the light mode using **modern, soft colors** (e.g. neutral grays, blues, not full white).
- ✅ **Add a new theme option**: `System Theme` (follows OS preference).
- ✅ Set `System Theme` as the **default for all users**, even on first visit.
- ✅ Fix theme toggling logic between Dark, Light, and System.

🧠 *Suggested Enhancements:*
- Add a **quick-access theme switcher icon** (☀️🌙🖥️) in the top nav bar.
- Remember theme selection using `localStorage`.

---

### 4. 📤 PDF Export + Weekly Email Report System
✅ Build two essential features:

#### a) **Export Full Analytics as PDF**
- Include:
  - Summary KPIs (Net P&L, Win %, Total Trades)
  - Chart images
  - Trade breakdown table
- ✅ Use a clean, professional layout — readable, branded, and compact.

#### b) **Schedule Weekly Report via Email**
- Add to settings:
  - [x] Enable Weekly Report
  - [ ] Choose Day (dropdown)
- ✅ Use a scheduler backend (APScheduler, cron) + transactional email (SendGrid, etc.)

🧠 Suggested:
- Offer both **Light and Dark version** PDF themes.
- Add “Preview PDF” before exporting.
- Add toast messages on success (`Report sent!`, `PDF downloaded`).

---

### 5. 📉 Analytics Tab Still Blank / Incomplete
- The **Analytics tab loads nothing** or gets stuck with “loading…” permanently.
- ✅ Fix the backend data pipeline or frontend rendering logic.
- ✅ Display a fallback state:  
  > “No analytics available. Please upload your trades to generate insights.”

---

### 🔍 6. 🔥 Expand and Elevate the Analytics Dashboard

✅ **This is a critical point** and must be handled with detail and finesse.

You must implement a **visually appealing, fully featured analytics dashboard** with **multiple key metrics**, not just P&L and win rate.

Include (at minimum):
- ✅ Total Trades
- ✅ Win Rate (%)
- ✅ Net Profit / Loss
- ✅ Average Holding Time
- ✅ Average Trade Duration
- ✅ Long vs Short Trade %
- ✅ Best/Worst Trade (by P&L)
- ✅ Consistency Score (e.g., streak strength)

📊 Visual Suggestions:
- Use elegant cards with icons for each metric
- Add bar charts, donut charts, or trend graphs
- Animate key counters on load (e.g., net P&L counter-up)
- Enable tooltip explanations for each metric

🧠 Enhancement:
- Add ability to **filter metrics by time range** (7D, 30D, YTD, custom)
- Make analytics **update live** when user uploads a new file

---

### ✅ Deliverables

- Updated file/component paths (e.g., `analytics_dashboard.jsx`, `upload_section.py`)
- Working drag-and-drop upload handler
- Fixed theme logic with `System Theme` as default
- Email scheduler + export system logic
- Visual chart and metric card design (React or Streamlit-compatible)
- UX polish across all touchpoints
