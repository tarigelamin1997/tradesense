import{S as El,i as Cl,s as yl,x as Ut,y as xe,t as ie,a as le,z as Le,A as Be,B as ze,C as gl,c as Ql,u as Jl,g as Yl,b as Zl,d,K as Lt,D as ol,e as de,I as Q,Y as Rl,T as bl,R as kl,f as pe,h as l,H as K,Z as Qs,E as r,_ as Us,k as u,l as p,p as N,o as b,m as x,q as c,v as P,r as k,$ as Hs,a0 as xt,a1 as qs,L as Ct,F as Js,w as Ys,n as ml,O as rs,J as Zs,a2 as Bl}from"../chunks/M0oPezYK.js";import{e as qe}from"../chunks/DSTCGpCL.js";import"../chunks/IHki7fMi.js";import{g as en}from"../chunks/D2lGS4wI.js";import{i as tn}from"../chunks/UAPnr0-D.js";import{X as ln}from"../chunks/sSn3OGFc.js";import{I as es,g as ts,a as ls}from"../chunks/Ck4FRYpq.js";import{S as Ms,T as Fs,a as sn}from"../chunks/CQHxhqdU.js";import{T as nn}from"../chunks/CR0R1PLy.js";import{T as an}from"../chunks/CVXI2qhL.js";import{F as on}from"../chunks/Cqm7eHgy.js";function rn(a){let e;const n=a[2].default,s=Ql(n,a,a[3],null);return{c(){s&&s.c()},l(o){s&&s.l(o)},m(o,t){s&&s.m(o,t),e=!0},p(o,t){s&&s.p&&(!e||t&8)&&Jl(s,n,o,o[3],e?Zl(n,o[3],t,null):Yl(o[3]),null)},i(o){e||(le(s,o),e=!0)},o(o){ie(s,o),e=!1},d(o){s&&s.d(o)}}}function un(a){let e,n;const s=[{name:"copy"},a[1],{iconNode:a[0]}];let o={$$slots:{default:[rn]},$$scope:{ctx:a}};for(let t=0;t<s.length;t+=1)o=Ut(o,s[t]);return e=new es({props:o}),{c(){ze(e.$$.fragment)},l(t){Be(e.$$.fragment,t)},m(t,i){Le(e,t,i),n=!0},p(t,[i]){const f=i&3?ts(s,[s[0],i&2&&ls(t[1]),i&1&&{iconNode:t[0]}]):{};i&8&&(f.$$scope={dirty:i,ctx:t}),e.$set(f)},i(t){n||(le(e.$$.fragment,t),n=!0)},o(t){ie(e.$$.fragment,t),n=!1},d(t){xe(e,t)}}}function cn(a,e,n){let{$$slots:s={},$$scope:o}=e;const t=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];return a.$$set=i=>{n(1,e=Ut(Ut({},e),gl(i))),"$$scope"in i&&n(3,o=i.$$scope)},e=gl(e),[t,e,s,o]}class Ws extends El{constructor(e){super(),Cl(this,e,cn,un,yl,{})}}function fn(a){let e;const n=a[2].default,s=Ql(n,a,a[3],null);return{c(){s&&s.c()},l(o){s&&s.l(o)},m(o,t){s&&s.m(o,t),e=!0},p(o,t){s&&s.p&&(!e||t&8)&&Jl(s,n,o,o[3],e?Zl(n,o[3],t,null):Yl(o[3]),null)},i(o){e||(le(s,o),e=!0)},o(o){ie(s,o),e=!1},d(o){s&&s.d(o)}}}function dn(a){let e,n;const s=[{name:"minus"},a[1],{iconNode:a[0]}];let o={$$slots:{default:[fn]},$$scope:{ctx:a}};for(let t=0;t<s.length;t+=1)o=Ut(o,s[t]);return e=new es({props:o}),{c(){ze(e.$$.fragment)},l(t){Be(e.$$.fragment,t)},m(t,i){Le(e,t,i),n=!0},p(t,[i]){const f=i&3?ts(s,[s[0],i&2&&ls(t[1]),i&1&&{iconNode:t[0]}]):{};i&8&&(f.$$scope={dirty:i,ctx:t}),e.$set(f)},i(t){n||(le(e.$$.fragment,t),n=!0)},o(t){ie(e.$$.fragment,t),n=!1},d(t){xe(e,t)}}}function _n(a,e,n){let{$$slots:s={},$$scope:o}=e;const t=[["path",{d:"M5 12h14"}]];return a.$$set=i=>{n(1,e=Ut(Ut({},e),gl(i))),"$$scope"in i&&n(3,o=i.$$scope)},e=gl(e),[t,e,s,o]}class Xs extends El{constructor(e){super(),Cl(this,e,_n,dn,yl,{})}}function vn(a){let e;const n=a[2].default,s=Ql(n,a,a[3],null);return{c(){s&&s.c()},l(o){s&&s.l(o)},m(o,t){s&&s.m(o,t),e=!0},p(o,t){s&&s.p&&(!e||t&8)&&Jl(s,n,o,o[3],e?Zl(n,o[3],t,null):Yl(o[3]),null)},i(o){e||(le(s,o),e=!0)},o(o){ie(s,o),e=!1},d(o){s&&s.d(o)}}}function hn(a){let e,n;const s=[{name:"plus"},a[1],{iconNode:a[0]}];let o={$$slots:{default:[vn]},$$scope:{ctx:a}};for(let t=0;t<s.length;t+=1)o=Ut(o,s[t]);return e=new es({props:o}),{c(){ze(e.$$.fragment)},l(t){Be(e.$$.fragment,t)},m(t,i){Le(e,t,i),n=!0},p(t,[i]){const f=i&3?ts(s,[s[0],i&2&&ls(t[1]),i&1&&{iconNode:t[0]}]):{};i&8&&(f.$$scope={dirty:i,ctx:t}),e.$set(f)},i(t){n||(le(e.$$.fragment,t),n=!0)},o(t){ie(e.$$.fragment,t),n=!1},d(t){xe(e,t)}}}function pn(a,e,n){let{$$slots:s={},$$scope:o}=e;const t=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return a.$$set=i=>{n(1,e=Ut(Ut({},e),gl(i))),"$$scope"in i&&n(3,o=i.$$scope)},e=gl(e),[t,e,s,o]}class Kl extends El{constructor(e){super(),Cl(this,e,pn,hn,yl,{})}}function is(a,e,n){const s=a.slice();return s[40]=e[n],s}function us(a,e,n){const s=a.slice();return s[43]=e[n],s}function cs(a,e,n){const s=a.slice();return s[46]=e[n],s[47]=e,s[48]=n,s}function fs(a,e,n){const s=a.slice();return s[46]=e[n],s[49]=e,s[48]=n,s}function ds(a){let e,n,s=a[48]+1+"",o,t,i,f,_,v,h,g,m,C,j;function A(){a[19].call(f,a[48])}h=new Xs({props:{size:16}});function se(){return a[20](a[48])}return{c(){e=c("div"),n=c("span"),o=P(s),t=P("."),i=k(),f=c("input"),_=k(),v=c("button"),ze(h.$$.fragment),this.h()},l(y){e=u(y,"DIV",{class:!0});var I=p(e);n=u(I,"SPAN",{class:!0});var w=p(n);o=N(w,s),t=N(w,"."),w.forEach(d),i=b(I),f=u(I,"INPUT",{type:!0,placeholder:!0,class:!0}),_=b(I),v=u(I,"BUTTON",{type:!0,class:!0});var L=p(v);Be(h.$$.fragment,L),L.forEach(d),I.forEach(d),this.h()},h(){r(n,"class","rule-number svelte-1j669ox"),r(f,"type","text"),r(f,"placeholder","Enter entry rule..."),r(f,"class","svelte-1j669ox"),r(v,"type","button"),r(v,"class","remove-button svelte-1j669ox"),v.disabled=g=a[1].entry_rules.length===1,r(e,"class","rule-input svelte-1j669ox")},m(y,I){pe(y,e,I),l(e,n),l(n,o),l(n,t),l(e,i),l(e,f),Q(f,a[1].entry_rules[a[48]]),l(e,_),l(e,v),Le(h,v,null),m=!0,C||(j=[K(f,"input",A),K(v,"click",se)],C=!0)},p(y,I){a=y,I[0]&2&&f.value!==a[1].entry_rules[a[48]]&&Q(f,a[1].entry_rules[a[48]]),(!m||I[0]&2&&g!==(g=a[1].entry_rules.length===1))&&(v.disabled=g)},i(y){m||(le(h.$$.fragment,y),m=!0)},o(y){ie(h.$$.fragment,y),m=!1},d(y){y&&d(e),xe(h),C=!1,ol(j)}}}function _s(a){let e,n,s=a[48]+1+"",o,t,i,f,_,v,h,g,m,C,j;function A(){a[21].call(f,a[48])}h=new Xs({props:{size:16}});function se(){return a[22](a[48])}return{c(){e=c("div"),n=c("span"),o=P(s),t=P("."),i=k(),f=c("input"),_=k(),v=c("button"),ze(h.$$.fragment),this.h()},l(y){e=u(y,"DIV",{class:!0});var I=p(e);n=u(I,"SPAN",{class:!0});var w=p(n);o=N(w,s),t=N(w,"."),w.forEach(d),i=b(I),f=u(I,"INPUT",{type:!0,placeholder:!0,class:!0}),_=b(I),v=u(I,"BUTTON",{type:!0,class:!0});var L=p(v);Be(h.$$.fragment,L),L.forEach(d),I.forEach(d),this.h()},h(){r(n,"class","rule-number svelte-1j669ox"),r(f,"type","text"),r(f,"placeholder","Enter exit rule..."),r(f,"class","svelte-1j669ox"),r(v,"type","button"),r(v,"class","remove-button svelte-1j669ox"),v.disabled=g=a[1].exit_rules.length===1,r(e,"class","rule-input svelte-1j669ox")},m(y,I){pe(y,e,I),l(e,n),l(n,o),l(n,t),l(e,i),l(e,f),Q(f,a[1].exit_rules[a[48]]),l(e,_),l(e,v),Le(h,v,null),m=!0,C||(j=[K(f,"input",A),K(v,"click",se)],C=!0)},p(y,I){a=y,I[0]&2&&f.value!==a[1].exit_rules[a[48]]&&Q(f,a[1].exit_rules[a[48]]),(!m||I[0]&2&&g!==(g=a[1].exit_rules.length===1))&&(v.disabled=g)},i(y){m||(le(h.$$.fragment,y),m=!0)},o(y){ie(h.$$.fragment,y),m=!1},d(y){y&&d(e),xe(h),C=!1,ol(j)}}}function vs(a){let e,n=qe(a[1].indicators),s=[];for(let o=0;o<n.length;o+=1)s[o]=hs(us(a,n,o));return{c(){e=c("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=u(o,"DIV",{class:!0});var t=p(e);for(let i=0;i<s.length;i+=1)s[i].l(t);t.forEach(d),this.h()},h(){r(e,"class","tags svelte-1j669ox")},m(o,t){pe(o,e,t);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(o,t){if(t[0]&1026){n=qe(o[1].indicators);let i;for(i=0;i<n.length;i+=1){const f=us(o,n,i);s[i]?s[i].p(f,t):(s[i]=hs(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(o){o&&d(e),Lt(s,o)}}}function hs(a){let e,n=a[43]+"",s,o,t,i="×",f,_,v;function h(){return a[27](a[43])}return{c(){e=c("span"),s=P(n),o=k(),t=c("button"),t.textContent=i,f=k(),this.h()},l(g){e=u(g,"SPAN",{class:!0});var m=p(e);s=N(m,n),o=b(m),t=u(m,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1xh1gn3"&&(t.textContent=i),f=b(m),m.forEach(d),this.h()},h(){r(t,"type","button"),r(t,"class","svelte-1j669ox"),r(e,"class","tag removable svelte-1j669ox")},m(g,m){pe(g,e,m),l(e,s),l(e,o),l(e,t),l(e,f),_||(v=K(t,"click",h),_=!0)},p(g,m){a=g,m[0]&2&&n!==(n=a[43]+"")&&de(s,n)},d(g){g&&d(e),_=!1,v()}}}function ps(a){let e,n,s,o="Win Rate (%)",t,i,f,_,v,h="Profit Factor",g,m,C,j,A,se="Avg Win ($)",y,I,w,L,S,Y="Avg Loss ($)",B,R,ne,M,F,U="Max Drawdown (%)",W,Z,oe,ue;return{c(){e=c("div"),n=c("div"),s=c("label"),s.textContent=o,t=k(),i=c("input"),f=k(),_=c("div"),v=c("label"),v.textContent=h,g=k(),m=c("input"),C=k(),j=c("div"),A=c("label"),A.textContent=se,y=k(),I=c("input"),w=k(),L=c("div"),S=c("label"),S.textContent=Y,B=k(),R=c("input"),ne=k(),M=c("div"),F=c("label"),F.textContent=U,W=k(),Z=c("input"),this.h()},l(E){e=u(E,"DIV",{class:!0});var V=p(e);n=u(V,"DIV",{class:!0});var T=p(n);s=u(T,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(s)!=="svelte-ixwmn1"&&(s.textContent=o),t=b(T),i=u(T,"INPUT",{id:!0,type:!0,step:!0,min:!0,max:!0,class:!0}),T.forEach(d),f=b(V),_=u(V,"DIV",{class:!0});var O=p(_);v=u(O,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(v)!=="svelte-1g1znu3"&&(v.textContent=h),g=b(O),m=u(O,"INPUT",{id:!0,type:!0,step:!0,min:!0,class:!0}),O.forEach(d),C=b(V),j=u(V,"DIV",{class:!0});var J=p(j);A=u(J,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(A)!=="svelte-bg5rjw"&&(A.textContent=se),y=b(J),I=u(J,"INPUT",{id:!0,type:!0,step:!0,min:!0,class:!0}),J.forEach(d),w=b(V),L=u(V,"DIV",{class:!0});var ge=p(L);S=u(ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(S)!=="svelte-2yvqhg"&&(S.textContent=Y),B=b(ge),R=u(ge,"INPUT",{id:!0,type:!0,step:!0,min:!0,class:!0}),ge.forEach(d),ne=b(V),M=u(V,"DIV",{class:!0});var ee=p(M);F=u(ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(F)!=="svelte-s61zml"&&(F.textContent=U),W=b(ee),Z=u(ee,"INPUT",{id:!0,type:!0,step:!0,min:!0,max:!0,class:!0}),ee.forEach(d),V.forEach(d),this.h()},h(){r(s,"for","win_rate"),r(s,"class","svelte-1j669ox"),r(i,"id","win_rate"),r(i,"type","number"),r(i,"step","0.1"),r(i,"min","0"),r(i,"max","100"),r(i,"class","svelte-1j669ox"),r(n,"class","form-group svelte-1j669ox"),r(v,"for","profit_factor"),r(v,"class","svelte-1j669ox"),r(m,"id","profit_factor"),r(m,"type","number"),r(m,"step","0.1"),r(m,"min","0"),r(m,"class","svelte-1j669ox"),r(_,"class","form-group svelte-1j669ox"),r(A,"for","avg_win"),r(A,"class","svelte-1j669ox"),r(I,"id","avg_win"),r(I,"type","number"),r(I,"step","1"),r(I,"min","0"),r(I,"class","svelte-1j669ox"),r(j,"class","form-group svelte-1j669ox"),r(S,"for","avg_loss"),r(S,"class","svelte-1j669ox"),r(R,"id","avg_loss"),r(R,"type","number"),r(R,"step","1"),r(R,"min","0"),r(R,"class","svelte-1j669ox"),r(L,"class","form-group svelte-1j669ox"),r(F,"for","max_drawdown"),r(F,"class","svelte-1j669ox"),r(Z,"id","max_drawdown"),r(Z,"type","number"),r(Z,"step","0.1"),r(Z,"min","0"),r(Z,"max","100"),r(Z,"class","svelte-1j669ox"),r(M,"class","form-group svelte-1j669ox"),r(e,"class","backtest-grid svelte-1j669ox")},m(E,V){pe(E,e,V),l(e,n),l(n,s),l(n,t),l(n,i),Q(i,a[1].backtest_results.win_rate),l(e,f),l(e,_),l(_,v),l(_,g),l(_,m),Q(m,a[1].backtest_results.profit_factor),l(e,C),l(e,j),l(j,A),l(j,y),l(j,I),Q(I,a[1].backtest_results.avg_win),l(e,w),l(e,L),l(L,S),l(L,B),l(L,R),Q(R,a[1].backtest_results.avg_loss),l(e,ne),l(e,M),l(M,F),l(M,W),l(M,Z),Q(Z,a[1].backtest_results.max_drawdown),oe||(ue=[K(i,"input",a[29]),K(m,"input",a[30]),K(I,"input",a[31]),K(R,"input",a[32]),K(Z,"input",a[33])],oe=!0)},p(E,V){V[0]&2&&xt(i.value)!==E[1].backtest_results.win_rate&&Q(i,E[1].backtest_results.win_rate),V[0]&2&&xt(m.value)!==E[1].backtest_results.profit_factor&&Q(m,E[1].backtest_results.profit_factor),V[0]&2&&xt(I.value)!==E[1].backtest_results.avg_win&&Q(I,E[1].backtest_results.avg_win),V[0]&2&&xt(R.value)!==E[1].backtest_results.avg_loss&&Q(R,E[1].backtest_results.avg_loss),V[0]&2&&xt(Z.value)!==E[1].backtest_results.max_drawdown&&Q(Z,E[1].backtest_results.max_drawdown)},d(E){E&&d(e),oe=!1,ol(ue)}}}function ms(a){let e,n=qe(a[1].tags),s=[];for(let o=0;o<n.length;o+=1)s[o]=gs(is(a,n,o));return{c(){e=c("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=u(o,"DIV",{class:!0});var t=p(e);for(let i=0;i<s.length;i+=1)s[i].l(t);t.forEach(d),this.h()},h(){r(e,"class","tags svelte-1j669ox")},m(o,t){pe(o,e,t);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(o,t){if(t[0]&4098){n=qe(o[1].tags);let i;for(i=0;i<n.length;i+=1){const f=is(o,n,i);s[i]?s[i].p(f,t):(s[i]=gs(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(o){o&&d(e),Lt(s,o)}}}function gs(a){let e,n=a[40]+"",s,o,t,i="×",f,_,v;function h(){return a[37](a[40])}return{c(){e=c("span"),s=P(n),o=k(),t=c("button"),t.textContent=i,f=k(),this.h()},l(g){e=u(g,"SPAN",{class:!0});var m=p(e);s=N(m,n),o=b(m),t=u(m,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1vvip9z"&&(t.textContent=i),f=b(m),m.forEach(d),this.h()},h(){r(t,"type","button"),r(t,"class","svelte-1j669ox"),r(e,"class","tag removable svelte-1j669ox")},m(g,m){pe(g,e,m),l(e,s),l(e,o),l(e,t),l(e,f),_||(v=K(t,"click",h),_=!0)},p(g,m){a=g,m[0]&2&&n!==(n=a[40]+"")&&de(s,n)},d(g){g&&d(e),_=!1,v()}}}function mn(a){let e,n,s,o,t=a[0]?"Edit":"New",i,f,_,v,h,g,m,C,j,A="Basic Information",se,y,I,w="Strategy Name",L,S,Y,B,R,ne,M="Strategy Type",F,U,W,Z="Scalping",oe,ue="Day Trading",E,V="Swing Trading",T,O="Position Trading",J,ge="Other",ee,fe,ve,ye="Timeframe",z,ae,ce,we,Ie,_e="Market Conditions",ot,H,be,ke,Ne,Qe="Entry Rules",me,re,he,$e,Me,Ke,Pe,Ve,yt="Exit Rules",wt,It,Ae,Fe,rt,Dt,Re,Je,Gt="Risk Management",Kt,it,ut,Qt="Risk Management Rules",Ht,We,vt,lt,ht,qt="Position Sizing",Mt,Ye,St,st,ct,Jt="Indicators",Ge,pt,ft,Nt,Ee,Bt="Add",Oe,Ue,Ce,je,Te,D,X,G,Xe,Pt,zt="Additional Notes",rl,Rt,dt,At,at,Vt,wl="Tags",Ft,$t,nt,Yt,mt,Zt="Add",el,il,jt,gt,bt,ul,Wt,Tt,kt,tl="Cancel",ll,Et,_t=a[0]?"Update":"Create",Il,Ul,cl,Hl,ss;h=new ln({props:{size:20}});let sl=qe(a[1].entry_rules),De=[];for(let $=0;$<sl.length;$+=1)De[$]=ds(fs(a,sl,$));const Gs=$=>ie(De[$],1,1,()=>{De[$]=null});$e=new Kl({props:{size:16}});let nl=qe(a[1].exit_rules),Se=[];for(let $=0;$<nl.length;$+=1)Se[$]=_s(cs(a,nl,$));const Ks=$=>ie(Se[$],1,1,()=>{Se[$]=null});Fe=new Kl({props:{size:16}});let Ze=a[1].indicators.length>0&&vs(a),et=a[4]&&ps(a),tt=a[1].tags.length>0&&ms(a);return{c(){e=c("div"),n=c("div"),s=c("div"),o=c("h2"),i=P(t),f=P(" Strategy"),_=k(),v=c("button"),ze(h.$$.fragment),g=k(),m=c("form"),C=c("div"),j=c("h3"),j.textContent=A,se=k(),y=c("div"),I=c("label"),I.textContent=w,L=k(),S=c("input"),Y=k(),B=c("div"),R=c("div"),ne=c("label"),ne.textContent=M,F=k(),U=c("select"),W=c("option"),W.textContent=Z,oe=c("option"),oe.textContent=ue,E=c("option"),E.textContent=V,T=c("option"),T.textContent=O,J=c("option"),J.textContent=ge,ee=k(),fe=c("div"),ve=c("label"),ve.textContent=ye,z=k(),ae=c("input"),ce=k(),we=c("div"),Ie=c("label"),Ie.textContent=_e,ot=k(),H=c("textarea"),be=k(),ke=c("div"),Ne=c("h3"),Ne.textContent=Qe,me=k();for(let $=0;$<De.length;$+=1)De[$].c();re=k(),he=c("button"),ze($e.$$.fragment),Me=P(`
					Add Entry Rule`),Ke=k(),Pe=c("div"),Ve=c("h3"),Ve.textContent=yt,wt=k();for(let $=0;$<Se.length;$+=1)Se[$].c();It=k(),Ae=c("button"),ze(Fe.$$.fragment),rt=P(`
					Add Exit Rule`),Dt=k(),Re=c("div"),Je=c("h3"),Je.textContent=Gt,Kt=k(),it=c("div"),ut=c("label"),ut.textContent=Qt,Ht=k(),We=c("textarea"),vt=k(),lt=c("div"),ht=c("label"),ht.textContent=qt,Mt=k(),Ye=c("input"),St=k(),st=c("div"),ct=c("h3"),ct.textContent=Jt,Ge=k(),pt=c("div"),ft=c("input"),Nt=k(),Ee=c("button"),Ee.textContent=Bt,Oe=k(),Ze&&Ze.c(),Ue=k(),Ce=c("div"),je=c("label"),Te=c("input"),D=P(`
					Include Backtest Results`),X=k(),et&&et.c(),G=k(),Xe=c("div"),Pt=c("h3"),Pt.textContent=zt,rl=k(),Rt=c("div"),dt=c("textarea"),At=k(),at=c("div"),Vt=c("h3"),Vt.textContent=wl,Ft=k(),$t=c("div"),nt=c("input"),Yt=k(),mt=c("button"),mt.textContent=Zt,el=k(),tt&&tt.c(),il=k(),jt=c("div"),gt=c("label"),bt=c("input"),ul=P(`
					Active Strategy`),Wt=k(),Tt=c("div"),kt=c("button"),kt.textContent=tl,ll=k(),Et=c("button"),Il=P(_t),Ul=P(" Strategy"),this.h()},l($){e=u($,"DIV",{class:!0});var te=p(e);n=u(te,"DIV",{class:!0});var q=p(n);s=u(q,"DIV",{class:!0});var Ot=p(s);o=u(Ot,"H2",{class:!0});var ql=p(o);i=N(ql,t),f=N(ql," Strategy"),ql.forEach(d),_=b(Ot),v=u(Ot,"BUTTON",{type:!0,class:!0});var ns=p(v);Be(h.$$.fragment,ns),ns.forEach(d),Ot.forEach(d),g=b(q),m=u(q,"FORM",{});var He=p(m);C=u(He,"DIV",{class:!0});var Xt=p(C);j=u(Xt,"H3",{class:!0,"data-svelte-h":!0}),x(j)!=="svelte-cic2su"&&(j.textContent=A),se=b(Xt),y=u(Xt,"DIV",{class:!0});var $l=p(y);I=u($l,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(I)!=="svelte-1q8agno"&&(I.textContent=w),L=b($l),S=u($l,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),$l.forEach(d),Y=b(Xt),B=u(Xt,"DIV",{class:!0});var jl=p(B);R=u(jl,"DIV",{class:!0});var Tl=p(R);ne=u(Tl,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(ne)!=="svelte-19yuuqv"&&(ne.textContent=M),F=b(Tl),U=u(Tl,"SELECT",{id:!0,class:!0});var fl=p(U);W=u(fl,"OPTION",{"data-svelte-h":!0}),x(W)!=="svelte-7lc21u"&&(W.textContent=Z),oe=u(fl,"OPTION",{"data-svelte-h":!0}),x(oe)!=="svelte-alar7q"&&(oe.textContent=ue),E=u(fl,"OPTION",{"data-svelte-h":!0}),x(E)!=="svelte-14er361"&&(E.textContent=V),T=u(fl,"OPTION",{"data-svelte-h":!0}),x(T)!=="svelte-2p3u2t"&&(T.textContent=O),J=u(fl,"OPTION",{"data-svelte-h":!0}),x(J)!=="svelte-902jce"&&(J.textContent=ge),fl.forEach(d),Tl.forEach(d),ee=b(jl),fe=u(jl,"DIV",{class:!0});var Dl=p(fe);ve=u(Dl,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(ve)!=="svelte-8pp54i"&&(ve.textContent=ye),z=b(Dl),ae=u(Dl,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),Dl.forEach(d),jl.forEach(d),ce=b(Xt),we=u(Xt,"DIV",{class:!0});var Sl=p(we);Ie=u(Sl,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(Ie)!=="svelte-crpd9d"&&(Ie.textContent=_e),ot=b(Sl),H=u(Sl,"TEXTAREA",{id:!0,placeholder:!0,rows:!0,class:!0}),p(H).forEach(d),Sl.forEach(d),Xt.forEach(d),be=b(He),ke=u(He,"DIV",{class:!0});var dl=p(ke);Ne=u(dl,"H3",{class:!0,"data-svelte-h":!0}),x(Ne)!=="svelte-1atbgrb"&&(Ne.textContent=Qe),me=b(dl);for(let al=0;al<De.length;al+=1)De[al].l(dl);re=b(dl),he=u(dl,"BUTTON",{type:!0,class:!0});var Ml=p(he);Be($e.$$.fragment,Ml),Me=N(Ml,`
					Add Entry Rule`),Ml.forEach(d),dl.forEach(d),Ke=b(He),Pe=u(He,"DIV",{class:!0});var _l=p(Pe);Ve=u(_l,"H3",{class:!0,"data-svelte-h":!0}),x(Ve)!=="svelte-dsluxb"&&(Ve.textContent=yt),wt=b(_l);for(let al=0;al<Se.length;al+=1)Se[al].l(_l);It=b(_l),Ae=u(_l,"BUTTON",{type:!0,class:!0});var Fl=p(Ae);Be(Fe.$$.fragment,Fl),rt=N(Fl,`
					Add Exit Rule`),Fl.forEach(d),_l.forEach(d),Dt=b(He),Re=u(He,"DIV",{class:!0});var vl=p(Re);Je=u(vl,"H3",{class:!0,"data-svelte-h":!0}),x(Je)!=="svelte-w1gcdw"&&(Je.textContent=Gt),Kt=b(vl),it=u(vl,"DIV",{class:!0});var Nl=p(it);ut=u(Nl,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(ut)!=="svelte-1ontbta"&&(ut.textContent=Qt),Ht=b(Nl),We=u(Nl,"TEXTAREA",{id:!0,placeholder:!0,rows:!0,class:!0}),p(We).forEach(d),Nl.forEach(d),vt=b(vl),lt=u(vl,"DIV",{class:!0});var Pl=p(lt);ht=u(Pl,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(ht)!=="svelte-1wu0nez"&&(ht.textContent=qt),Mt=b(Pl),Ye=u(Pl,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),Pl.forEach(d),vl.forEach(d),St=b(He),st=u(He,"DIV",{class:!0});var hl=p(st);ct=u(hl,"H3",{class:!0,"data-svelte-h":!0}),x(ct)!=="svelte-1lz3u12"&&(ct.textContent=Jt),Ge=b(hl),pt=u(hl,"DIV",{class:!0});var Al=p(pt);ft=u(Al,"INPUT",{type:!0,placeholder:!0}),Nt=b(Al),Ee=u(Al,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(Ee)!=="svelte-155gzlz"&&(Ee.textContent=Bt),Al.forEach(d),Oe=b(hl),Ze&&Ze.l(hl),hl.forEach(d),Ue=b(He),Ce=u(He,"DIV",{class:!0});var Vl=p(Ce);je=u(Vl,"LABEL",{class:!0});var Wl=p(je);Te=u(Wl,"INPUT",{type:!0}),D=N(Wl,`
					Include Backtest Results`),Wl.forEach(d),X=b(Vl),et&&et.l(Vl),Vl.forEach(d),G=b(He),Xe=u(He,"DIV",{class:!0});var Ol=p(Xe);Pt=u(Ol,"H3",{class:!0,"data-svelte-h":!0}),x(Pt)!=="svelte-1bsqjng"&&(Pt.textContent=zt),rl=b(Ol),Rt=u(Ol,"DIV",{class:!0});var as=p(Rt);dt=u(as,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),p(dt).forEach(d),as.forEach(d),Ol.forEach(d),At=b(He),at=u(He,"DIV",{class:!0});var pl=p(at);Vt=u(pl,"H3",{class:!0,"data-svelte-h":!0}),x(Vt)!=="svelte-1nl40cx"&&(Vt.textContent=wl),Ft=b(pl),$t=u(pl,"DIV",{class:!0});var xl=p($t);nt=u(xl,"INPUT",{type:!0,placeholder:!0}),Yt=b(xl),mt=u(xl,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(mt)!=="svelte-hhbt6a"&&(mt.textContent=Zt),xl.forEach(d),el=b(pl),tt&&tt.l(pl),pl.forEach(d),il=b(He),jt=u(He,"DIV",{class:!0});var os=p(jt);gt=u(os,"LABEL",{class:!0});var Xl=p(gt);bt=u(Xl,"INPUT",{type:!0}),ul=N(Xl,`
					Active Strategy`),Xl.forEach(d),os.forEach(d),Wt=b(He),Tt=u(He,"DIV",{class:!0});var Ll=p(Tt);kt=u(Ll,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(kt)!=="svelte-6z6n7q"&&(kt.textContent=tl),ll=b(Ll),Et=u(Ll,"BUTTON",{type:!0,class:!0});var Gl=p(Et);Il=N(Gl,_t),Ul=N(Gl," Strategy"),Gl.forEach(d),Ll.forEach(d),He.forEach(d),q.forEach(d),te.forEach(d),this.h()},h(){r(o,"class","svelte-1j669ox"),r(v,"type","button"),r(v,"class","close-button svelte-1j669ox"),r(s,"class","form-header svelte-1j669ox"),r(j,"class","svelte-1j669ox"),r(I,"for","title"),r(I,"class","svelte-1j669ox"),r(S,"id","title"),r(S,"type","text"),r(S,"placeholder","e.g., Morning Gap Strategy"),S.required=!0,r(S,"class","svelte-1j669ox"),r(y,"class","form-group svelte-1j669ox"),r(ne,"for","strategy_type"),r(ne,"class","svelte-1j669ox"),W.__value="scalping",Q(W,W.__value),oe.__value="daytrading",Q(oe,oe.__value),E.__value="swing",Q(E,E.__value),T.__value="position",Q(T,T.__value),J.__value="other",Q(J,J.__value),r(U,"id","strategy_type"),r(U,"class","svelte-1j669ox"),a[1].strategy_type===void 0&&Us(()=>a[16].call(U)),r(R,"class","form-group svelte-1j669ox"),r(ve,"for","timeframe"),r(ve,"class","svelte-1j669ox"),r(ae,"id","timeframe"),r(ae,"type","text"),r(ae,"placeholder","e.g., 5min, 15min"),ae.required=!0,r(ae,"class","svelte-1j669ox"),r(fe,"class","form-group svelte-1j669ox"),r(B,"class","form-row svelte-1j669ox"),r(Ie,"for","market_conditions"),r(Ie,"class","svelte-1j669ox"),r(H,"id","market_conditions"),r(H,"placeholder","Describe when this strategy works best..."),r(H,"rows","3"),H.required=!0,r(H,"class","svelte-1j669ox"),r(we,"class","form-group svelte-1j669ox"),r(C,"class","form-section svelte-1j669ox"),r(Ne,"class","svelte-1j669ox"),r(he,"type","button"),r(he,"class","add-button svelte-1j669ox"),r(ke,"class","form-section svelte-1j669ox"),r(Ve,"class","svelte-1j669ox"),r(Ae,"type","button"),r(Ae,"class","add-button svelte-1j669ox"),r(Pe,"class","form-section svelte-1j669ox"),r(Je,"class","svelte-1j669ox"),r(ut,"for","risk_management"),r(ut,"class","svelte-1j669ox"),r(We,"id","risk_management"),r(We,"placeholder","e.g., 1% account risk per trade, max 3 concurrent positions"),r(We,"rows","2"),We.required=!0,r(We,"class","svelte-1j669ox"),r(it,"class","form-group svelte-1j669ox"),r(ht,"for","position_sizing"),r(ht,"class","svelte-1j669ox"),r(Ye,"id","position_sizing"),r(Ye,"type","text"),r(Ye,"placeholder","e.g., Risk / (Entry - Stop Loss) = Share size"),Ye.required=!0,r(Ye,"class","svelte-1j669ox"),r(lt,"class","form-group svelte-1j669ox"),r(Re,"class","form-section svelte-1j669ox"),r(ct,"class","svelte-1j669ox"),r(ft,"type","text"),r(ft,"placeholder","Add indicator (e.g., RSI, MACD, VWAP)"),r(Ee,"type","button"),r(Ee,"class","add-tag-button svelte-1j669ox"),r(pt,"class","indicator-input svelte-1j669ox"),r(st,"class","form-section svelte-1j669ox"),r(Te,"type","checkbox"),r(je,"class","checkbox-label svelte-1j669ox"),r(Ce,"class","form-section svelte-1j669ox"),r(Pt,"class","svelte-1j669ox"),r(dt,"placeholder","Any additional notes, observations, or reminders..."),r(dt,"rows","4"),r(dt,"class","svelte-1j669ox"),r(Rt,"class","form-group svelte-1j669ox"),r(Xe,"class","form-section svelte-1j669ox"),r(Vt,"class","svelte-1j669ox"),r(nt,"type","text"),r(nt,"placeholder","Add tags..."),r(mt,"type","button"),r(mt,"class","add-tag-button svelte-1j669ox"),r($t,"class","tag-input-container svelte-1j669ox"),r(at,"class","form-section svelte-1j669ox"),r(bt,"type","checkbox"),r(gt,"class","checkbox-label svelte-1j669ox"),r(jt,"class","form-section svelte-1j669ox"),r(kt,"type","button"),r(kt,"class","cancel-button svelte-1j669ox"),r(Et,"type","submit"),r(Et,"class","save-button svelte-1j669ox"),r(Tt,"class","form-actions svelte-1j669ox"),r(n,"class","form-card card svelte-1j669ox"),r(e,"class","form-container svelte-1j669ox")},m($,te){pe($,e,te),l(e,n),l(n,s),l(s,o),l(o,i),l(o,f),l(s,_),l(s,v),Le(h,v,null),l(n,g),l(n,m),l(m,C),l(C,j),l(C,se),l(C,y),l(y,I),l(y,L),l(y,S),Q(S,a[1].title),l(C,Y),l(C,B),l(B,R),l(R,ne),l(R,F),l(R,U),l(U,W),l(U,oe),l(U,E),l(U,T),l(U,J),Rl(U,a[1].strategy_type,!0),l(B,ee),l(B,fe),l(fe,ve),l(fe,z),l(fe,ae),Q(ae,a[1].timeframe),l(C,ce),l(C,we),l(we,Ie),l(we,ot),l(we,H),Q(H,a[1].market_conditions),l(m,be),l(m,ke),l(ke,Ne),l(ke,me);for(let q=0;q<De.length;q+=1)De[q]&&De[q].m(ke,null);l(ke,re),l(ke,he),Le($e,he,null),l(he,Me),l(m,Ke),l(m,Pe),l(Pe,Ve),l(Pe,wt);for(let q=0;q<Se.length;q+=1)Se[q]&&Se[q].m(Pe,null);l(Pe,It),l(Pe,Ae),Le(Fe,Ae,null),l(Ae,rt),l(m,Dt),l(m,Re),l(Re,Je),l(Re,Kt),l(Re,it),l(it,ut),l(it,Ht),l(it,We),Q(We,a[1].risk_management),l(Re,vt),l(Re,lt),l(lt,ht),l(lt,Mt),l(lt,Ye),Q(Ye,a[1].position_sizing),l(m,St),l(m,st),l(st,ct),l(st,Ge),l(st,pt),l(pt,ft),Q(ft,a[3]),l(pt,Nt),l(pt,Ee),l(st,Oe),Ze&&Ze.m(st,null),l(m,Ue),l(m,Ce),l(Ce,je),l(je,Te),Te.checked=a[4],l(je,D),l(Ce,X),et&&et.m(Ce,null),l(m,G),l(m,Xe),l(Xe,Pt),l(Xe,rl),l(Xe,Rt),l(Rt,dt),Q(dt,a[1].notes),l(m,At),l(m,at),l(at,Vt),l(at,Ft),l(at,$t),l($t,nt),Q(nt,a[2]),l($t,Yt),l($t,mt),l(at,el),tt&&tt.m(at,null),l(m,il),l(m,jt),l(jt,gt),l(gt,bt),bt.checked=a[1].is_active,l(gt,ul),l(m,Wt),l(m,Tt),l(Tt,kt),l(Tt,ll),l(Tt,Et),l(Et,Il),l(Et,Ul),cl=!0,Hl||(ss=[K(v,"click",a[14]),K(S,"input",a[15]),K(U,"change",a[16]),K(ae,"input",a[17]),K(H,"input",a[18]),K(he,"click",a[5]),K(Ae,"click",a[7]),K(We,"input",a[23]),K(Ye,"input",a[24]),K(ft,"input",a[25]),K(ft,"keypress",a[26]),K(Ee,"click",a[9]),K(Te,"change",a[28]),K(dt,"input",a[34]),K(nt,"input",a[35]),K(nt,"keypress",a[36]),K(mt,"click",a[11]),K(bt,"change",a[38]),K(kt,"click",a[14]),K(m,"submit",Qs(a[13]))],Hl=!0)},p($,te){if((!cl||te[0]&1)&&t!==(t=$[0]?"Edit":"New")&&de(i,t),te[0]&2&&S.value!==$[1].title&&Q(S,$[1].title),te[0]&2&&Rl(U,$[1].strategy_type),te[0]&2&&ae.value!==$[1].timeframe&&Q(ae,$[1].timeframe),te[0]&2&&Q(H,$[1].market_conditions),te[0]&66){sl=qe($[1].entry_rules);let q;for(q=0;q<sl.length;q+=1){const Ot=fs($,sl,q);De[q]?(De[q].p(Ot,te),le(De[q],1)):(De[q]=ds(Ot),De[q].c(),le(De[q],1),De[q].m(ke,re))}for(bl(),q=sl.length;q<De.length;q+=1)Gs(q);kl()}if(te[0]&258){nl=qe($[1].exit_rules);let q;for(q=0;q<nl.length;q+=1){const Ot=cs($,nl,q);Se[q]?(Se[q].p(Ot,te),le(Se[q],1)):(Se[q]=_s(Ot),Se[q].c(),le(Se[q],1),Se[q].m(Pe,It))}for(bl(),q=nl.length;q<Se.length;q+=1)Ks(q);kl()}te[0]&2&&Q(We,$[1].risk_management),te[0]&2&&Ye.value!==$[1].position_sizing&&Q(Ye,$[1].position_sizing),te[0]&8&&ft.value!==$[3]&&Q(ft,$[3]),$[1].indicators.length>0?Ze?Ze.p($,te):(Ze=vs($),Ze.c(),Ze.m(st,null)):Ze&&(Ze.d(1),Ze=null),te[0]&16&&(Te.checked=$[4]),$[4]?et?et.p($,te):(et=ps($),et.c(),et.m(Ce,null)):et&&(et.d(1),et=null),te[0]&2&&Q(dt,$[1].notes),te[0]&4&&nt.value!==$[2]&&Q(nt,$[2]),$[1].tags.length>0?tt?tt.p($,te):(tt=ms($),tt.c(),tt.m(at,null)):tt&&(tt.d(1),tt=null),te[0]&2&&(bt.checked=$[1].is_active),(!cl||te[0]&1)&&_t!==(_t=$[0]?"Update":"Create")&&de(Il,_t)},i($){if(!cl){le(h.$$.fragment,$);for(let te=0;te<sl.length;te+=1)le(De[te]);le($e.$$.fragment,$);for(let te=0;te<nl.length;te+=1)le(Se[te]);le(Fe.$$.fragment,$),cl=!0}},o($){ie(h.$$.fragment,$),De=De.filter(Boolean);for(let te=0;te<De.length;te+=1)ie(De[te]);ie($e.$$.fragment,$),Se=Se.filter(Boolean);for(let te=0;te<Se.length;te+=1)ie(Se[te]);ie(Fe.$$.fragment,$),cl=!1},d($){$&&d(e),xe(h),Lt(De,$),xe($e),Lt(Se,$),xe(Fe),Ze&&Ze.d(),et&&et.d(),tt&&tt.d(),Hl=!1,ol(ss)}}}function gn(a,e,n){let{playbook:s=null}=e;const o=Hs();let t={title:"",strategy_type:"daytrading",timeframe:"",market_conditions:"",entry_rules:[""],exit_rules:[""],risk_management:"",position_sizing:"",indicators:[],notes:"",backtest_results:{win_rate:0,profit_factor:0,avg_win:0,avg_loss:0,max_drawdown:0},tags:[],is_active:!0},i="",f="",_=!1;s&&(t={...s,entry_rules:[...s.entry_rules],exit_rules:[...s.exit_rules],indicators:[...s.indicators],tags:[...s.tags],backtest_results:s.backtest_results||{win_rate:0,profit_factor:0,avg_win:0,avg_loss:0,max_drawdown:0}},_=!!s.backtest_results);function v(){n(1,t.entry_rules=[...t.entry_rules,""],t)}function h(z){n(1,t.entry_rules=t.entry_rules.filter((ae,ce)=>ce!==z),t)}function g(){n(1,t.exit_rules=[...t.exit_rules,""],t)}function m(z){n(1,t.exit_rules=t.exit_rules.filter((ae,ce)=>ce!==z),t)}function C(){f.trim()&&!t.indicators.includes(f.trim())&&(n(1,t.indicators=[...t.indicators,f.trim()],t),n(3,f=""))}function j(z){n(1,t.indicators=t.indicators.filter(ae=>ae!==z),t)}function A(){i.trim()&&!t.tags.includes(i.trim())&&(n(1,t.tags=[...t.tags,i.trim()],t),n(2,i=""))}function se(z){n(1,t.tags=t.tags.filter(ae=>ae!==z),t)}function y(){const z={...t,entry_rules:t.entry_rules.filter(ae=>ae.trim()),exit_rules:t.exit_rules.filter(ae=>ae.trim()),backtest_results:_?t.backtest_results:void 0,updated_at:new Date().toISOString()};o("save",{playbook:z})}function I(){o("cancel")}function w(){t.title=this.value,n(1,t)}function L(){t.strategy_type=qs(this),n(1,t)}function S(){t.timeframe=this.value,n(1,t)}function Y(){t.market_conditions=this.value,n(1,t)}function B(z){t.entry_rules[z]=this.value,n(1,t)}const R=z=>h(z);function ne(z){t.exit_rules[z]=this.value,n(1,t)}const M=z=>m(z);function F(){t.risk_management=this.value,n(1,t)}function U(){t.position_sizing=this.value,n(1,t)}function W(){f=this.value,n(3,f)}const Z=z=>z.key==="Enter"&&(z.preventDefault(),C()),oe=z=>j(z);function ue(){_=this.checked,n(4,_)}function E(){t.backtest_results.win_rate=xt(this.value),n(1,t)}function V(){t.backtest_results.profit_factor=xt(this.value),n(1,t)}function T(){t.backtest_results.avg_win=xt(this.value),n(1,t)}function O(){t.backtest_results.avg_loss=xt(this.value),n(1,t)}function J(){t.backtest_results.max_drawdown=xt(this.value),n(1,t)}function ge(){t.notes=this.value,n(1,t)}function ee(){i=this.value,n(2,i)}const fe=z=>z.key==="Enter"&&(z.preventDefault(),A()),ve=z=>se(z);function ye(){t.is_active=this.checked,n(1,t)}return a.$$set=z=>{"playbook"in z&&n(0,s=z.playbook)},[s,t,i,f,_,v,h,g,m,C,j,A,se,y,I,w,L,S,Y,B,R,ne,M,F,U,W,Z,oe,ue,E,V,T,O,J,ge,ee,fe,ve,ye]}class bn extends El{constructor(e){super(),Cl(this,e,gn,mn,yl,{playbook:0},null,[-1,-1])}}function bs(a,e,n){const s=a.slice();return s[5]=e[n],s}function ks(a,e,n){const s=a.slice();return s[8]=e[n],s}function Es(a,e,n){const s=a.slice();return s[11]=e[n],s}function Cs(a,e,n){const s=a.slice();return s[11]=e[n],s}function ys(a){let e,n=a[11]+"",s;return{c(){e=c("li"),s=P(n),this.h()},l(o){e=u(o,"LI",{class:!0});var t=p(e);s=N(t,n),t.forEach(d),this.h()},h(){r(e,"class","svelte-nnom24")},m(o,t){pe(o,e,t),l(e,s)},p(o,t){t&1&&n!==(n=o[11]+"")&&de(s,n)},d(o){o&&d(e)}}}function ws(a){let e,n=a[11]+"",s;return{c(){e=c("li"),s=P(n),this.h()},l(o){e=u(o,"LI",{class:!0});var t=p(e);s=N(t,n),t.forEach(d),this.h()},h(){r(e,"class","svelte-nnom24")},m(o,t){pe(o,e,t),l(e,s)},p(o,t){t&1&&n!==(n=o[11]+"")&&de(s,n)},d(o){o&&d(e)}}}function Is(a){let e,n,s="Indicators",o,t,i=qe(a[0].indicators),f=[];for(let _=0;_<i.length;_+=1)f[_]=$s(ks(a,i,_));return{c(){e=c("section"),n=c("h3"),n.textContent=s,o=k(),t=c("div");for(let _=0;_<f.length;_+=1)f[_].c();this.h()},l(_){e=u(_,"SECTION",{class:!0});var v=p(e);n=u(v,"H3",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-1lz3u12"&&(n.textContent=s),o=b(v),t=u(v,"DIV",{class:!0});var h=p(t);for(let g=0;g<f.length;g+=1)f[g].l(h);h.forEach(d),v.forEach(d),this.h()},h(){r(n,"class","svelte-nnom24"),r(t,"class","indicators svelte-nnom24"),r(e,"class","detail-section svelte-nnom24")},m(_,v){pe(_,e,v),l(e,n),l(e,o),l(e,t);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(t,null)},p(_,v){if(v&1){i=qe(_[0].indicators);let h;for(h=0;h<i.length;h+=1){const g=ks(_,i,h);f[h]?f[h].p(g,v):(f[h]=$s(g),f[h].c(),f[h].m(t,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=i.length}},d(_){_&&d(e),Lt(f,_)}}}function $s(a){let e,n=a[8]+"",s;return{c(){e=c("span"),s=P(n),this.h()},l(o){e=u(o,"SPAN",{class:!0});var t=p(e);s=N(t,n),t.forEach(d),this.h()},h(){r(e,"class","indicator-tag svelte-nnom24")},m(o,t){pe(o,e,t),l(e,s)},p(o,t){t&1&&n!==(n=o[8]+"")&&de(s,n)},d(o){o&&d(e)}}}function js(a){let e,n,s="Backtest Results",o,t,i,f,_="Win Rate",v,h,g=a[0].backtest_results.win_rate+"",m,C,j,A,se,y="Profit Factor",I,w,L=a[0].backtest_results.profit_factor+"",S,Y,B,R,ne="Avg Win",M,F,U,W=a[0].backtest_results.avg_win+"",Z,oe,ue,E,V="Avg Loss",T,O,J,ge=a[0].backtest_results.avg_loss+"",ee,fe,ve,ye,z="Max Drawdown",ae,ce,we,Ie=a[0].backtest_results.max_drawdown+"",_e,ot;return{c(){e=c("section"),n=c("h3"),n.textContent=s,o=k(),t=c("div"),i=c("div"),f=c("span"),f.textContent=_,v=k(),h=c("span"),m=P(g),C=P("%"),j=k(),A=c("div"),se=c("span"),se.textContent=y,I=k(),w=c("span"),S=P(L),Y=k(),B=c("div"),R=c("span"),R.textContent=ne,M=k(),F=c("span"),U=P("$"),Z=P(W),oe=k(),ue=c("div"),E=c("span"),E.textContent=V,T=k(),O=c("span"),J=P("-$"),ee=P(ge),fe=k(),ve=c("div"),ye=c("span"),ye.textContent=z,ae=k(),ce=c("span"),we=P("-"),_e=P(Ie),ot=P("%"),this.h()},l(H){e=u(H,"SECTION",{class:!0});var be=p(e);n=u(be,"H3",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-qmo8sh"&&(n.textContent=s),o=b(be),t=u(be,"DIV",{class:!0});var ke=p(t);i=u(ke,"DIV",{class:!0});var Ne=p(i);f=u(Ne,"SPAN",{class:!0,"data-svelte-h":!0}),x(f)!=="svelte-153e3ug"&&(f.textContent=_),v=b(Ne),h=u(Ne,"SPAN",{class:!0});var Qe=p(h);m=N(Qe,g),C=N(Qe,"%"),Qe.forEach(d),Ne.forEach(d),j=b(ke),A=u(ke,"DIV",{class:!0});var me=p(A);se=u(me,"SPAN",{class:!0,"data-svelte-h":!0}),x(se)!=="svelte-hrndgd"&&(se.textContent=y),I=b(me),w=u(me,"SPAN",{class:!0});var re=p(w);S=N(re,L),re.forEach(d),me.forEach(d),Y=b(ke),B=u(ke,"DIV",{class:!0});var he=p(B);R=u(he,"SPAN",{class:!0,"data-svelte-h":!0}),x(R)!=="svelte-w95dc6"&&(R.textContent=ne),M=b(he),F=u(he,"SPAN",{class:!0});var $e=p(F);U=N($e,"$"),Z=N($e,W),$e.forEach(d),he.forEach(d),oe=b(ke),ue=u(ke,"DIV",{class:!0});var Me=p(ue);E=u(Me,"SPAN",{class:!0,"data-svelte-h":!0}),x(E)!=="svelte-1jthz61"&&(E.textContent=V),T=b(Me),O=u(Me,"SPAN",{class:!0});var Ke=p(O);J=N(Ke,"-$"),ee=N(Ke,ge),Ke.forEach(d),Me.forEach(d),fe=b(ke),ve=u(ke,"DIV",{class:!0});var Pe=p(ve);ye=u(Pe,"SPAN",{class:!0,"data-svelte-h":!0}),x(ye)!=="svelte-1rpoars"&&(ye.textContent=z),ae=b(Pe),ce=u(Pe,"SPAN",{class:!0});var Ve=p(ce);we=N(Ve,"-"),_e=N(Ve,Ie),ot=N(Ve,"%"),Ve.forEach(d),Pe.forEach(d),ke.forEach(d),be.forEach(d),this.h()},h(){r(n,"class","svelte-nnom24"),r(f,"class","metric-label svelte-nnom24"),r(h,"class","metric-value svelte-nnom24"),Ct(h,"positive",a[0].backtest_results.win_rate>=50),r(i,"class","metric svelte-nnom24"),r(se,"class","metric-label svelte-nnom24"),r(w,"class","metric-value svelte-nnom24"),Ct(w,"positive",a[0].backtest_results.profit_factor>=1.5),r(A,"class","metric svelte-nnom24"),r(R,"class","metric-label svelte-nnom24"),r(F,"class","metric-value positive svelte-nnom24"),r(B,"class","metric svelte-nnom24"),r(E,"class","metric-label svelte-nnom24"),r(O,"class","metric-value negative svelte-nnom24"),r(ue,"class","metric svelte-nnom24"),r(ye,"class","metric-label svelte-nnom24"),r(ce,"class","metric-value negative svelte-nnom24"),r(ve,"class","metric svelte-nnom24"),r(t,"class","backtest-results svelte-nnom24"),r(e,"class","detail-section svelte-nnom24")},m(H,be){pe(H,e,be),l(e,n),l(e,o),l(e,t),l(t,i),l(i,f),l(i,v),l(i,h),l(h,m),l(h,C),l(t,j),l(t,A),l(A,se),l(A,I),l(A,w),l(w,S),l(t,Y),l(t,B),l(B,R),l(B,M),l(B,F),l(F,U),l(F,Z),l(t,oe),l(t,ue),l(ue,E),l(ue,T),l(ue,O),l(O,J),l(O,ee),l(t,fe),l(t,ve),l(ve,ye),l(ve,ae),l(ve,ce),l(ce,we),l(ce,_e),l(ce,ot)},p(H,be){be&1&&g!==(g=H[0].backtest_results.win_rate+"")&&de(m,g),be&1&&Ct(h,"positive",H[0].backtest_results.win_rate>=50),be&1&&L!==(L=H[0].backtest_results.profit_factor+"")&&de(S,L),be&1&&Ct(w,"positive",H[0].backtest_results.profit_factor>=1.5),be&1&&W!==(W=H[0].backtest_results.avg_win+"")&&de(Z,W),be&1&&ge!==(ge=H[0].backtest_results.avg_loss+"")&&de(ee,ge),be&1&&Ie!==(Ie=H[0].backtest_results.max_drawdown+"")&&de(_e,Ie)},d(H){H&&d(e)}}}function Ts(a){let e,n,s="Notes",o,t,i=a[0].notes+"",f;return{c(){e=c("section"),n=c("h3"),n.textContent=s,o=k(),t=c("p"),f=P(i),this.h()},l(_){e=u(_,"SECTION",{class:!0});var v=p(e);n=u(v,"H3",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-2havtt"&&(n.textContent=s),o=b(v),t=u(v,"P",{class:!0});var h=p(t);f=N(h,i),h.forEach(d),v.forEach(d),this.h()},h(){r(n,"class","svelte-nnom24"),r(t,"class","notes svelte-nnom24"),r(e,"class","detail-section svelte-nnom24")},m(_,v){pe(_,e,v),l(e,n),l(e,o),l(e,t),l(t,f)},p(_,v){v&1&&i!==(i=_[0].notes+"")&&de(f,i)},d(_){_&&d(e)}}}function Ds(a){let e,n,s="Tags",o,t,i=qe(a[0].tags),f=[];for(let _=0;_<i.length;_+=1)f[_]=Ss(bs(a,i,_));return{c(){e=c("section"),n=c("h3"),n.textContent=s,o=k(),t=c("div");for(let _=0;_<f.length;_+=1)f[_].c();this.h()},l(_){e=u(_,"SECTION",{class:!0});var v=p(e);n=u(v,"H3",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-1nl40cx"&&(n.textContent=s),o=b(v),t=u(v,"DIV",{class:!0});var h=p(t);for(let g=0;g<f.length;g+=1)f[g].l(h);h.forEach(d),v.forEach(d),this.h()},h(){r(n,"class","svelte-nnom24"),r(t,"class","tags svelte-nnom24"),r(e,"class","detail-section svelte-nnom24")},m(_,v){pe(_,e,v),l(e,n),l(e,o),l(e,t);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(t,null)},p(_,v){if(v&1){i=qe(_[0].tags);let h;for(h=0;h<i.length;h+=1){const g=bs(_,i,h);f[h]?f[h].p(g,v):(f[h]=Ss(g),f[h].c(),f[h].m(t,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=i.length}},d(_){_&&d(e),Lt(f,_)}}}function Ss(a){let e,n=a[5]+"",s;return{c(){e=c("span"),s=P(n),this.h()},l(o){e=u(o,"SPAN",{class:!0});var t=p(e);s=N(t,n),t.forEach(d),this.h()},h(){r(e,"class","tag svelte-nnom24")},m(o,t){pe(o,e,t),l(e,s)},p(o,t){t&1&&n!==(n=o[5]+"")&&de(s,n)},d(o){o&&d(e)}}}function kn(a){let e,n,s,o,t=a[0].title+"",i,f,_,v,h=a[0].strategy_type+"",g,m,C,j=a[0].timeframe+"",A,se,y,I=a[0].is_active?"Active":"Inactive",w,L,S,Y,B,R,ne,M,F,U,W,Z,oe,ue,E="Market Conditions",V,T,O=a[0].market_conditions+"",J,ge,ee,fe,ve,ye,z,ae,ce,we,Ie,_e,ot,H,be,ke,Ne,Qe,me="Risk Management",re,he,$e,Me,Ke="Risk Rules",Pe,Ve,yt=a[0].risk_management+"",wt,It,Ae,Fe,rt="Position Sizing",Dt,Re,Je=a[0].position_sizing+"",Gt,Kt,it,ut,Qt,Ht,We,vt,lt,ht,qt=zl(a[0].created_at)+"",Mt,Ye,St,st,ct=zl(a[0].updated_at)+"",Jt,Ge,pt,ft;B=new Ms({props:{size:18}}),M=new Ws({props:{size:18}}),W=new Fs({props:{size:18}}),ve=new nn({props:{size:18}});let Nt=qe(a[0].entry_rules),Ee=[];for(let D=0;D<Nt.length;D+=1)Ee[D]=ys(Cs(a,Nt,D));_e=new an({props:{size:18}});let Bt=qe(a[0].exit_rules),Oe=[];for(let D=0;D<Bt.length;D+=1)Oe[D]=ws(Es(a,Bt,D));let Ue=a[0].indicators.length>0&&Is(a),Ce=a[0].backtest_results&&js(a),je=a[0].notes&&Ts(a),Te=a[0].tags.length>0&&Ds(a);return{c(){e=c("div"),n=c("div"),s=c("div"),o=c("h2"),i=P(t),f=k(),_=c("div"),v=c("span"),g=P(h),m=k(),C=c("span"),A=P(j),se=k(),y=c("span"),w=P(I),L=k(),S=c("div"),Y=c("button"),ze(B.$$.fragment),R=k(),ne=c("button"),ze(M.$$.fragment),F=k(),U=c("button"),ze(W.$$.fragment),Z=k(),oe=c("section"),ue=c("h3"),ue.textContent=E,V=k(),T=c("p"),J=P(O),ge=k(),ee=c("section"),fe=c("h3"),ze(ve.$$.fragment),ye=P(" Entry Rules"),z=k(),ae=c("ol");for(let D=0;D<Ee.length;D+=1)Ee[D].c();ce=k(),we=c("section"),Ie=c("h3"),ze(_e.$$.fragment),ot=P(" Exit Rules"),H=k(),be=c("ol");for(let D=0;D<Oe.length;D+=1)Oe[D].c();ke=k(),Ne=c("section"),Qe=c("h3"),Qe.textContent=me,re=k(),he=c("div"),$e=c("div"),Me=c("h4"),Me.textContent=Ke,Pe=k(),Ve=c("p"),wt=P(yt),It=k(),Ae=c("div"),Fe=c("h4"),Fe.textContent=rt,Dt=k(),Re=c("p"),Gt=P(Je),Kt=k(),Ue&&Ue.c(),it=k(),Ce&&Ce.c(),ut=k(),je&&je.c(),Qt=k(),Te&&Te.c(),Ht=k(),We=c("div"),vt=c("div"),lt=c("span"),ht=P("Created: "),Mt=P(qt),Ye=k(),St=c("span"),st=P("Updated: "),Jt=P(ct),this.h()},l(D){e=u(D,"DIV",{class:!0});var X=p(e);n=u(X,"DIV",{class:!0});var G=p(n);s=u(G,"DIV",{});var Xe=p(s);o=u(Xe,"H2",{class:!0});var Pt=p(o);i=N(Pt,t),Pt.forEach(d),f=b(Xe),_=u(Xe,"DIV",{class:!0});var zt=p(_);v=u(zt,"SPAN",{class:!0});var rl=p(v);g=N(rl,h),rl.forEach(d),m=b(zt),C=u(zt,"SPAN",{});var Rt=p(C);A=N(Rt,j),Rt.forEach(d),se=b(zt),y=u(zt,"SPAN",{class:!0});var dt=p(y);w=N(dt,I),dt.forEach(d),zt.forEach(d),Xe.forEach(d),L=b(G),S=u(G,"DIV",{class:!0});var At=p(S);Y=u(At,"BUTTON",{class:!0,title:!0});var at=p(Y);Be(B.$$.fragment,at),at.forEach(d),R=b(At),ne=u(At,"BUTTON",{class:!0,title:!0});var Vt=p(ne);Be(M.$$.fragment,Vt),Vt.forEach(d),F=b(At),U=u(At,"BUTTON",{class:!0,title:!0});var wl=p(U);Be(W.$$.fragment,wl),wl.forEach(d),At.forEach(d),G.forEach(d),Z=b(X),oe=u(X,"SECTION",{class:!0});var Ft=p(oe);ue=u(Ft,"H3",{class:!0,"data-svelte-h":!0}),x(ue)!=="svelte-1ht5w2s"&&(ue.textContent=E),V=b(Ft),T=u(Ft,"P",{class:!0});var $t=p(T);J=N($t,O),$t.forEach(d),Ft.forEach(d),ge=b(X),ee=u(X,"SECTION",{class:!0});var nt=p(ee);fe=u(nt,"H3",{class:!0});var Yt=p(fe);Be(ve.$$.fragment,Yt),ye=N(Yt," Entry Rules"),Yt.forEach(d),z=b(nt),ae=u(nt,"OL",{class:!0});var mt=p(ae);for(let _t=0;_t<Ee.length;_t+=1)Ee[_t].l(mt);mt.forEach(d),nt.forEach(d),ce=b(X),we=u(X,"SECTION",{class:!0});var Zt=p(we);Ie=u(Zt,"H3",{class:!0});var el=p(Ie);Be(_e.$$.fragment,el),ot=N(el," Exit Rules"),el.forEach(d),H=b(Zt),be=u(Zt,"OL",{class:!0});var il=p(be);for(let _t=0;_t<Oe.length;_t+=1)Oe[_t].l(il);il.forEach(d),Zt.forEach(d),ke=b(X),Ne=u(X,"SECTION",{class:!0});var jt=p(Ne);Qe=u(jt,"H3",{class:!0,"data-svelte-h":!0}),x(Qe)!=="svelte-w1gcdw"&&(Qe.textContent=me),re=b(jt),he=u(jt,"DIV",{class:!0});var gt=p(he);$e=u(gt,"DIV",{class:!0});var bt=p($e);Me=u(bt,"H4",{class:!0,"data-svelte-h":!0}),x(Me)!=="svelte-zc8vxa"&&(Me.textContent=Ke),Pe=b(bt),Ve=u(bt,"P",{class:!0});var ul=p(Ve);wt=N(ul,yt),ul.forEach(d),bt.forEach(d),It=b(gt),Ae=u(gt,"DIV",{class:!0});var Wt=p(Ae);Fe=u(Wt,"H4",{class:!0,"data-svelte-h":!0}),x(Fe)!=="svelte-qvu9t3"&&(Fe.textContent=rt),Dt=b(Wt),Re=u(Wt,"P",{class:!0});var Tt=p(Re);Gt=N(Tt,Je),Tt.forEach(d),Wt.forEach(d),gt.forEach(d),jt.forEach(d),Kt=b(X),Ue&&Ue.l(X),it=b(X),Ce&&Ce.l(X),ut=b(X),je&&je.l(X),Qt=b(X),Te&&Te.l(X),Ht=b(X),We=u(X,"DIV",{class:!0});var kt=p(We);vt=u(kt,"DIV",{class:!0});var tl=p(vt);lt=u(tl,"SPAN",{});var ll=p(lt);ht=N(ll,"Created: "),Mt=N(ll,qt),ll.forEach(d),Ye=b(tl),St=u(tl,"SPAN",{});var Et=p(St);st=N(Et,"Updated: "),Jt=N(Et,ct),Et.forEach(d),tl.forEach(d),kt.forEach(d),X.forEach(d),this.h()},h(){r(o,"class","svelte-nnom24"),r(v,"class","strategy-type svelte-nnom24"),r(y,"class","status svelte-nnom24"),Ct(y,"active",a[0].is_active),r(_,"class","detail-meta svelte-nnom24"),r(Y,"class","icon-button svelte-nnom24"),r(Y,"title","Edit"),r(ne,"class","icon-button svelte-nnom24"),r(ne,"title","Clone"),r(U,"class","icon-button danger svelte-nnom24"),r(U,"title","Delete"),r(S,"class","detail-actions svelte-nnom24"),r(n,"class","detail-header svelte-nnom24"),r(ue,"class","svelte-nnom24"),r(T,"class","svelte-nnom24"),r(oe,"class","detail-section svelte-nnom24"),r(fe,"class","svelte-nnom24"),r(ae,"class","rules-list svelte-nnom24"),r(ee,"class","detail-section svelte-nnom24"),r(Ie,"class","svelte-nnom24"),r(be,"class","rules-list svelte-nnom24"),r(we,"class","detail-section svelte-nnom24"),r(Qe,"class","svelte-nnom24"),r(Me,"class","svelte-nnom24"),r(Ve,"class","svelte-nnom24"),r($e,"class","risk-item svelte-nnom24"),r(Fe,"class","svelte-nnom24"),r(Re,"class","svelte-nnom24"),r(Ae,"class","risk-item svelte-nnom24"),r(he,"class","risk-grid svelte-nnom24"),r(Ne,"class","detail-section svelte-nnom24"),r(vt,"class","footer-meta svelte-nnom24"),r(We,"class","detail-footer svelte-nnom24"),r(e,"class","playbook-detail card svelte-nnom24")},m(D,X){pe(D,e,X),l(e,n),l(n,s),l(s,o),l(o,i),l(s,f),l(s,_),l(_,v),l(v,g),l(_,m),l(_,C),l(C,A),l(_,se),l(_,y),l(y,w),l(n,L),l(n,S),l(S,Y),Le(B,Y,null),l(S,R),l(S,ne),Le(M,ne,null),l(S,F),l(S,U),Le(W,U,null),l(e,Z),l(e,oe),l(oe,ue),l(oe,V),l(oe,T),l(T,J),l(e,ge),l(e,ee),l(ee,fe),Le(ve,fe,null),l(fe,ye),l(ee,z),l(ee,ae);for(let G=0;G<Ee.length;G+=1)Ee[G]&&Ee[G].m(ae,null);l(e,ce),l(e,we),l(we,Ie),Le(_e,Ie,null),l(Ie,ot),l(we,H),l(we,be);for(let G=0;G<Oe.length;G+=1)Oe[G]&&Oe[G].m(be,null);l(e,ke),l(e,Ne),l(Ne,Qe),l(Ne,re),l(Ne,he),l(he,$e),l($e,Me),l($e,Pe),l($e,Ve),l(Ve,wt),l(he,It),l(he,Ae),l(Ae,Fe),l(Ae,Dt),l(Ae,Re),l(Re,Gt),l(e,Kt),Ue&&Ue.m(e,null),l(e,it),Ce&&Ce.m(e,null),l(e,ut),je&&je.m(e,null),l(e,Qt),Te&&Te.m(e,null),l(e,Ht),l(e,We),l(We,vt),l(vt,lt),l(lt,ht),l(lt,Mt),l(vt,Ye),l(vt,St),l(St,st),l(St,Jt),Ge=!0,pt||(ft=[K(Y,"click",a[1]),K(ne,"click",a[2]),K(U,"click",a[3])],pt=!0)},p(D,[X]){if((!Ge||X&1)&&t!==(t=D[0].title+"")&&de(i,t),(!Ge||X&1)&&h!==(h=D[0].strategy_type+"")&&de(g,h),(!Ge||X&1)&&j!==(j=D[0].timeframe+"")&&de(A,j),(!Ge||X&1)&&I!==(I=D[0].is_active?"Active":"Inactive")&&de(w,I),(!Ge||X&1)&&Ct(y,"active",D[0].is_active),(!Ge||X&1)&&O!==(O=D[0].market_conditions+"")&&de(J,O),X&1){Nt=qe(D[0].entry_rules);let G;for(G=0;G<Nt.length;G+=1){const Xe=Cs(D,Nt,G);Ee[G]?Ee[G].p(Xe,X):(Ee[G]=ys(Xe),Ee[G].c(),Ee[G].m(ae,null))}for(;G<Ee.length;G+=1)Ee[G].d(1);Ee.length=Nt.length}if(X&1){Bt=qe(D[0].exit_rules);let G;for(G=0;G<Bt.length;G+=1){const Xe=Es(D,Bt,G);Oe[G]?Oe[G].p(Xe,X):(Oe[G]=ws(Xe),Oe[G].c(),Oe[G].m(be,null))}for(;G<Oe.length;G+=1)Oe[G].d(1);Oe.length=Bt.length}(!Ge||X&1)&&yt!==(yt=D[0].risk_management+"")&&de(wt,yt),(!Ge||X&1)&&Je!==(Je=D[0].position_sizing+"")&&de(Gt,Je),D[0].indicators.length>0?Ue?Ue.p(D,X):(Ue=Is(D),Ue.c(),Ue.m(e,it)):Ue&&(Ue.d(1),Ue=null),D[0].backtest_results?Ce?Ce.p(D,X):(Ce=js(D),Ce.c(),Ce.m(e,ut)):Ce&&(Ce.d(1),Ce=null),D[0].notes?je?je.p(D,X):(je=Ts(D),je.c(),je.m(e,Qt)):je&&(je.d(1),je=null),D[0].tags.length>0?Te?Te.p(D,X):(Te=Ds(D),Te.c(),Te.m(e,Ht)):Te&&(Te.d(1),Te=null),(!Ge||X&1)&&qt!==(qt=zl(D[0].created_at)+"")&&de(Mt,qt),(!Ge||X&1)&&ct!==(ct=zl(D[0].updated_at)+"")&&de(Jt,ct)},i(D){Ge||(le(B.$$.fragment,D),le(M.$$.fragment,D),le(W.$$.fragment,D),le(ve.$$.fragment,D),le(_e.$$.fragment,D),Ge=!0)},o(D){ie(B.$$.fragment,D),ie(M.$$.fragment,D),ie(W.$$.fragment,D),ie(ve.$$.fragment,D),ie(_e.$$.fragment,D),Ge=!1},d(D){D&&d(e),xe(B),xe(M),xe(W),xe(ve),Lt(Ee,D),xe(_e),Lt(Oe,D),Ue&&Ue.d(),Ce&&Ce.d(),je&&je.d(),Te&&Te.d(),pt=!1,ol(ft)}}}function zl(a){return new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function En(a,e,n){let{playbook:s}=e;const o=Hs();function t(){o("edit")}function i(){o("clone")}function f(){o("delete")}return a.$$set=_=>{"playbook"in _&&n(0,s=_.playbook)},[s,t,i,f]}class Cn extends El{constructor(e){super(),Cl(this,e,En,kn,yl,{playbook:0})}}function Ns(a,e,n){const s=a.slice();return s[30]=e[n],s}function Ps(a,e,n){const s=a.slice();return s[33]=e[n],s}function yn(a){let e,n,s,o,t,i,f,_,v,h="All Strategies",g,m="Scalping",C,j="Day Trading",A,se="Swing Trading",y,I="Position Trading",w,L="Other",S,Y,B,R,ne,M,F,U,W,Z,oe;s=new sn({props:{size:20,class:"search-icon"}});const ue=[Tn,jn],E=[];function V(T,O){return T[5].length===0?0:1}return M=V(a),F=E[M]=ue[M](a),{c(){e=c("div"),n=c("div"),ze(s.$$.fragment),o=k(),t=c("input"),i=k(),f=c("div"),_=c("select"),v=c("option"),v.textContent=h,g=c("option"),g.textContent=m,C=c("option"),C.textContent=j,A=c("option"),A.textContent=se,y=c("option"),y.textContent=I,w=c("option"),w.textContent=L,S=k(),Y=c("label"),B=c("input"),R=P(`
					Active Only`),ne=k(),F.c(),U=rs(),this.h()},l(T){e=u(T,"DIV",{class:!0});var O=p(e);n=u(O,"DIV",{class:!0});var J=p(n);Be(s.$$.fragment,J),o=b(J),t=u(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(d),i=b(O),f=u(O,"DIV",{class:!0});var ge=p(f);_=u(ge,"SELECT",{class:!0});var ee=p(_);v=u(ee,"OPTION",{"data-svelte-h":!0}),x(v)!=="svelte-9jvqpy"&&(v.textContent=h),g=u(ee,"OPTION",{"data-svelte-h":!0}),x(g)!=="svelte-7lc21u"&&(g.textContent=m),C=u(ee,"OPTION",{"data-svelte-h":!0}),x(C)!=="svelte-alar7q"&&(C.textContent=j),A=u(ee,"OPTION",{"data-svelte-h":!0}),x(A)!=="svelte-14er361"&&(A.textContent=se),y=u(ee,"OPTION",{"data-svelte-h":!0}),x(y)!=="svelte-2p3u2t"&&(y.textContent=I),w=u(ee,"OPTION",{"data-svelte-h":!0}),x(w)!=="svelte-902jce"&&(w.textContent=L),ee.forEach(d),S=b(ge),Y=u(ge,"LABEL",{class:!0});var fe=p(Y);B=u(fe,"INPUT",{type:!0}),R=N(fe,`
					Active Only`),fe.forEach(d),ge.forEach(d),O.forEach(d),ne=b(T),F.l(T),U=rs(),this.h()},h(){r(t,"type","text"),r(t,"placeholder","Search strategies..."),r(t,"class","search-input svelte-1ukjohb"),r(n,"class","search-container svelte-1ukjohb"),v.__value="",Q(v,v.__value),g.__value="scalping",Q(g,g.__value),C.__value="daytrading",Q(C,C.__value),A.__value="swing",Q(A,A.__value),y.__value="position",Q(y,y.__value),w.__value="other",Q(w,w.__value),r(_,"class","filter-select svelte-1ukjohb"),a[1]===void 0&&Us(()=>a[17].call(_)),r(B,"type","checkbox"),r(Y,"class","checkbox-label svelte-1ukjohb"),r(f,"class","filter-buttons svelte-1ukjohb"),r(e,"class","filters-section svelte-1ukjohb")},m(T,O){pe(T,e,O),l(e,n),Le(s,n,null),l(n,o),l(n,t),Q(t,a[0]),l(e,i),l(e,f),l(f,_),l(_,v),l(_,g),l(_,C),l(_,A),l(_,y),l(_,w),Rl(_,a[1],!0),l(f,S),l(f,Y),l(Y,B),B.checked=a[2],l(Y,R),pe(T,ne,O),E[M].m(T,O),pe(T,U,O),W=!0,Z||(oe=[K(t,"input",a[16]),K(_,"change",a[17]),K(B,"change",a[18])],Z=!0)},p(T,O){O[0]&1&&t.value!==T[0]&&Q(t,T[0]),O[0]&2&&Rl(_,T[1]),O[0]&4&&(B.checked=T[2]);let J=M;M=V(T),M===J?E[M].p(T,O):(bl(),ie(E[J],1,1,()=>{E[J]=null}),kl(),F=E[M],F?F.p(T,O):(F=E[M]=ue[M](T),F.c()),le(F,1),F.m(U.parentNode,U))},i(T){W||(le(s.$$.fragment,T),le(F),W=!0)},o(T){ie(s.$$.fragment,T),ie(F),W=!1},d(T){T&&(d(e),d(ne),d(U)),xe(s),E[M].d(T),Z=!1,ol(oe)}}}function wn(a){let e,n;return e=new bn({props:{playbook:a[8]}}),e.$on("save",a[13]),e.$on("cancel",a[15]),{c(){ze(e.$$.fragment)},l(s){Be(e.$$.fragment,s)},m(s,o){Le(e,s,o),n=!0},p(s,o){const t={};o[0]&256&&(t.playbook=s[8]),e.$set(t)},i(s){n||(le(e.$$.fragment,s),n=!0)},o(s){ie(e.$$.fragment,s),n=!1},d(s){xe(e,s)}}}function In(a){let e,n;return{c(){e=c("div"),n=P(a[4]),this.h()},l(s){e=u(s,"DIV",{class:!0});var o=p(e);n=N(o,a[4]),o.forEach(d),this.h()},h(){r(e,"class","error svelte-1ukjohb")},m(s,o){pe(s,e,o),l(e,n)},p(s,o){o[0]&16&&de(n,s[4])},i:ml,o:ml,d(s){s&&d(e)}}}function $n(a){let e,n="Loading playbook...";return{c(){e=c("div"),e.textContent=n,this.h()},l(s){e=u(s,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-1ycb61c"&&(e.textContent=n),this.h()},h(){r(e,"class","loading svelte-1ukjohb")},m(s,o){pe(s,e,o)},p:ml,i:ml,o:ml,d(s){s&&d(e)}}}function jn(a){let e,n,s,o,t=qe(a[5]),i=[];for(let v=0;v<t.length;v+=1)i[v]=xs(Ns(a,t,v));const f=v=>ie(i[v],1,1,()=>{i[v]=null});let _=a[6]&&Ls(a);return{c(){e=c("div"),n=c("div");for(let v=0;v<i.length;v+=1)i[v].c();s=k(),_&&_.c(),this.h()},l(v){e=u(v,"DIV",{class:!0});var h=p(e);n=u(h,"DIV",{class:!0});var g=p(n);for(let m=0;m<i.length;m+=1)i[m].l(g);g.forEach(d),s=b(h),_&&_.l(h),h.forEach(d),this.h()},h(){r(n,"class","playbook-list svelte-1ukjohb"),r(e,"class","playbook-layout svelte-1ukjohb")},m(v,h){pe(v,e,h),l(e,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(n,null);l(e,s),_&&_.m(e,null),o=!0},p(v,h){if(h[0]&23648){t=qe(v[5]);let g;for(g=0;g<t.length;g+=1){const m=Ns(v,t,g);i[g]?(i[g].p(m,h),le(i[g],1)):(i[g]=xs(m),i[g].c(),le(i[g],1),i[g].m(n,null))}for(bl(),g=t.length;g<i.length;g+=1)f(g);kl()}v[6]?_?(_.p(v,h),h[0]&64&&le(_,1)):(_=Ls(v),_.c(),le(_,1),_.m(e,null)):_&&(bl(),ie(_,1,1,()=>{_=null}),kl())},i(v){if(!o){for(let h=0;h<t.length;h+=1)le(i[h]);le(_),o=!0}},o(v){i=i.filter(Boolean);for(let h=0;h<i.length;h+=1)ie(i[h]);ie(_),o=!1},d(v){v&&d(e),Lt(i,v),_&&_.d()}}}function Tn(a){let e,n,s,o,t="No strategies found",i,f,_=a[0]||a[1]||a[2]?"Try adjusting your filters":"Create your first trading strategy",v,h,g;n=new on({props:{size:48}});let m=!a[0]&&!a[1]&&!a[2]&&Bs(a);return{c(){e=c("div"),ze(n.$$.fragment),s=k(),o=c("h2"),o.textContent=t,i=k(),f=c("p"),v=P(_),h=k(),m&&m.c(),this.h()},l(C){e=u(C,"DIV",{class:!0});var j=p(e);Be(n.$$.fragment,j),s=b(j),o=u(j,"H2",{class:!0,"data-svelte-h":!0}),x(o)!=="svelte-15envre"&&(o.textContent=t),i=b(j),f=u(j,"P",{class:!0});var A=p(f);v=N(A,_),A.forEach(d),h=b(j),m&&m.l(j),j.forEach(d),this.h()},h(){r(o,"class","svelte-1ukjohb"),r(f,"class","svelte-1ukjohb"),r(e,"class","empty-state svelte-1ukjohb")},m(C,j){pe(C,e,j),Le(n,e,null),l(e,s),l(e,o),l(e,i),l(e,f),l(f,v),l(e,h),m&&m.m(e,null),g=!0},p(C,j){(!g||j[0]&7)&&_!==(_=C[0]||C[1]||C[2]?"Try adjusting your filters":"Create your first trading strategy")&&de(v,_),!C[0]&&!C[1]&&!C[2]?m?m.p(C,j):(m=Bs(C),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i(C){g||(le(n.$$.fragment,C),g=!0)},o(C){ie(n.$$.fragment,C),g=!1},d(C){C&&d(e),xe(n),m&&m.d()}}}function As(a){let e,n,s=a[30].backtest_results.win_rate+"",o,t;return{c(){e=c("span"),n=P("WR: "),o=P(s),t=P("%"),this.h()},l(i){e=u(i,"SPAN",{class:!0});var f=p(e);n=N(f,"WR: "),o=N(f,s),t=N(f,"%"),f.forEach(d),this.h()},h(){r(e,"class","win-rate svelte-1ukjohb")},m(i,f){pe(i,e,f),l(e,n),l(e,o),l(e,t)},p(i,f){f[0]&32&&s!==(s=i[30].backtest_results.win_rate+"")&&de(o,s)},d(i){i&&d(e)}}}function Vs(a){let e,n=qe(a[30].tags),s=[];for(let o=0;o<n.length;o+=1)s[o]=Os(Ps(a,n,o));return{c(){e=c("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=u(o,"DIV",{class:!0});var t=p(e);for(let i=0;i<s.length;i+=1)s[i].l(t);t.forEach(d),this.h()},h(){r(e,"class","tags svelte-1ukjohb")},m(o,t){pe(o,e,t);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(o,t){if(t[0]&32){n=qe(o[30].tags);let i;for(i=0;i<n.length;i+=1){const f=Ps(o,n,i);s[i]?s[i].p(f,t):(s[i]=Os(f),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(o){o&&d(e),Lt(s,o)}}}function Os(a){let e,n=a[33]+"",s;return{c(){e=c("span"),s=P(n),this.h()},l(o){e=u(o,"SPAN",{class:!0});var t=p(e);s=N(t,n),t.forEach(d),this.h()},h(){r(e,"class","tag svelte-1ukjohb")},m(o,t){pe(o,e,t),l(e,s)},p(o,t){t[0]&32&&n!==(n=o[33]+"")&&de(s,n)},d(o){o&&d(e)}}}function xs(a){let e,n,s,o,t=a[30].title+"",i,f,_,v,h=a[30].strategy_type+"",g,m,C,j=a[30].timeframe+"",A,se,y,I,w,L=a[30].is_active?"✓":"○",S,Y,B,R,ne=a[30].market_conditions+"",M,F,U,W,Z,oe,ue=Rs(a[30].updated_at)+"",E,V,T,O,J,ge,ee,fe,ve,ye,z,ae,ce,we,Ie,_e=a[30].backtest_results&&As(a);function ot(){return a[19](a[30])}let H=a[30].tags.length>0&&Vs(a);J=new Ms({props:{size:16}});function be(){return a[20](a[30])}fe=new Ws({props:{size:16}});function ke(){return a[21](a[30])}z=new Fs({props:{size:16}});function Ne(){return a[22](a[30])}function Qe(){return a[23](a[30])}return{c(){e=c("div"),n=c("div"),s=c("div"),o=c("h3"),i=P(t),f=k(),_=c("div"),v=c("span"),g=P(h),m=k(),C=c("span"),A=P(j),se=k(),_e&&_e.c(),y=k(),I=c("div"),w=c("button"),S=P(L),B=k(),R=c("p"),M=P(ne),F=k(),H&&H.c(),U=k(),W=c("div"),Z=c("span"),oe=P("Updated "),E=P(ue),V=k(),T=c("div"),O=c("button"),ze(J.$$.fragment),ge=k(),ee=c("button"),ze(fe.$$.fragment),ve=k(),ye=c("button"),ze(z.$$.fragment),ae=k(),this.h()},l(me){e=u(me,"DIV",{class:!0});var re=p(e);n=u(re,"DIV",{class:!0});var he=p(n);s=u(he,"DIV",{});var $e=p(s);o=u($e,"H3",{class:!0});var Me=p(o);i=N(Me,t),Me.forEach(d),f=b($e),_=u($e,"DIV",{class:!0});var Ke=p(_);v=u(Ke,"SPAN",{class:!0});var Pe=p(v);g=N(Pe,h),Pe.forEach(d),m=b(Ke),C=u(Ke,"SPAN",{class:!0});var Ve=p(C);A=N(Ve,j),Ve.forEach(d),se=b(Ke),_e&&_e.l(Ke),Ke.forEach(d),$e.forEach(d),y=b(he),I=u(he,"DIV",{class:!0});var yt=p(I);w=u(yt,"BUTTON",{class:!0,title:!0});var wt=p(w);S=N(wt,L),wt.forEach(d),yt.forEach(d),he.forEach(d),B=b(re),R=u(re,"P",{class:!0});var It=p(R);M=N(It,ne),It.forEach(d),F=b(re),H&&H.l(re),U=b(re),W=u(re,"DIV",{class:!0});var Ae=p(W);Z=u(Ae,"SPAN",{class:!0});var Fe=p(Z);oe=N(Fe,"Updated "),E=N(Fe,ue),Fe.forEach(d),V=b(Ae),T=u(Ae,"DIV",{class:!0});var rt=p(T);O=u(rt,"BUTTON",{class:!0,title:!0});var Dt=p(O);Be(J.$$.fragment,Dt),Dt.forEach(d),ge=b(rt),ee=u(rt,"BUTTON",{class:!0,title:!0});var Re=p(ee);Be(fe.$$.fragment,Re),Re.forEach(d),ve=b(rt),ye=u(rt,"BUTTON",{class:!0,title:!0});var Je=p(ye);Be(z.$$.fragment,Je),Je.forEach(d),rt.forEach(d),Ae.forEach(d),ae=b(re),re.forEach(d),this.h()},h(){var me;r(o,"class","svelte-1ukjohb"),r(v,"class","strategy-type svelte-1ukjohb"),r(C,"class","timeframe svelte-1ukjohb"),r(_,"class","playbook-meta svelte-1ukjohb"),r(w,"class","status-toggle svelte-1ukjohb"),r(w,"title",Y=a[30].is_active?"Active":"Inactive"),Ct(w,"active",a[30].is_active),r(I,"class","playbook-status svelte-1ukjohb"),r(n,"class","playbook-header svelte-1ukjohb"),r(R,"class","playbook-conditions svelte-1ukjohb"),r(Z,"class","date svelte-1ukjohb"),r(O,"class","icon-button svelte-1ukjohb"),r(O,"title","Edit"),r(ee,"class","icon-button svelte-1ukjohb"),r(ee,"title","Clone"),r(ye,"class","icon-button danger svelte-1ukjohb"),r(ye,"title","Delete"),r(T,"class","playbook-actions svelte-1ukjohb"),r(W,"class","playbook-footer svelte-1ukjohb"),r(e,"class","playbook-card card svelte-1ukjohb"),Ct(e,"selected",((me=a[6])==null?void 0:me.id)===a[30].id),Ct(e,"inactive",!a[30].is_active)},m(me,re){pe(me,e,re),l(e,n),l(n,s),l(s,o),l(o,i),l(s,f),l(s,_),l(_,v),l(v,g),l(_,m),l(_,C),l(C,A),l(_,se),_e&&_e.m(_,null),l(n,y),l(n,I),l(I,w),l(w,S),l(e,B),l(e,R),l(R,M),l(e,F),H&&H.m(e,null),l(e,U),l(e,W),l(W,Z),l(Z,oe),l(Z,E),l(W,V),l(W,T),l(T,O),Le(J,O,null),l(T,ge),l(T,ee),Le(fe,ee,null),l(T,ve),l(T,ye),Le(z,ye,null),l(e,ae),ce=!0,we||(Ie=[K(w,"click",Bl(ot)),K(O,"click",Bl(be)),K(ee,"click",Bl(ke)),K(ye,"click",Bl(Ne)),K(e,"click",Qe)],we=!0)},p(me,re){var he;a=me,(!ce||re[0]&32)&&t!==(t=a[30].title+"")&&de(i,t),(!ce||re[0]&32)&&h!==(h=a[30].strategy_type+"")&&de(g,h),(!ce||re[0]&32)&&j!==(j=a[30].timeframe+"")&&de(A,j),a[30].backtest_results?_e?_e.p(a,re):(_e=As(a),_e.c(),_e.m(_,null)):_e&&(_e.d(1),_e=null),(!ce||re[0]&32)&&L!==(L=a[30].is_active?"✓":"○")&&de(S,L),(!ce||re[0]&32&&Y!==(Y=a[30].is_active?"Active":"Inactive"))&&r(w,"title",Y),(!ce||re[0]&32)&&Ct(w,"active",a[30].is_active),(!ce||re[0]&32)&&ne!==(ne=a[30].market_conditions+"")&&de(M,ne),a[30].tags.length>0?H?H.p(a,re):(H=Vs(a),H.c(),H.m(e,U)):H&&(H.d(1),H=null),(!ce||re[0]&32)&&ue!==(ue=Rs(a[30].updated_at)+"")&&de(E,ue),(!ce||re[0]&96)&&Ct(e,"selected",((he=a[6])==null?void 0:he.id)===a[30].id),(!ce||re[0]&32)&&Ct(e,"inactive",!a[30].is_active)},i(me){ce||(le(J.$$.fragment,me),le(fe.$$.fragment,me),le(z.$$.fragment,me),ce=!0)},o(me){ie(J.$$.fragment,me),ie(fe.$$.fragment,me),ie(z.$$.fragment,me),ce=!1},d(me){me&&d(e),_e&&_e.d(),H&&H.d(),xe(J),xe(fe),xe(z),we=!1,ol(Ie)}}}function Ls(a){let e,n;return e=new Cn({props:{playbook:a[6]}}),e.$on("edit",a[24]),e.$on("clone",a[25]),e.$on("delete",a[26]),{c(){ze(e.$$.fragment)},l(s){Be(e.$$.fragment,s)},m(s,o){Le(e,s,o),n=!0},p(s,o){const t={};o[0]&64&&(t.playbook=s[6]),e.$set(t)},i(s){n||(le(e.$$.fragment,s),n=!0)},o(s){ie(e.$$.fragment,s),n=!1},d(s){xe(e,s)}}}function Bs(a){let e,n="Create Strategy",s,o;return{c(){e=c("button"),e.textContent=n,this.h()},l(t){e=u(t,"BUTTON",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-1ga5gpz"&&(e.textContent=n),this.h()},h(){r(e,"class","primary-button svelte-1ukjohb")},m(t,i){pe(t,e,i),s||(o=K(e,"click",a[9]),s=!0)},p:ml,d(t){t&&d(e),s=!1,o()}}}function Dn(a){let e,n,s,o,t='<h1 class="svelte-1ukjohb">Trading Playbook</h1> <p class="svelte-1ukjohb">Document and refine your trading strategies</p>',i,f,_,v,h,g,m,C,j,A;_=new Kl({props:{size:18}});const se=[$n,In,wn,yn],y=[];function I(w,L){return w[3]?0:w[4]?1:w[7]?2:3}return g=I(a),m=y[g]=se[g](a),{c(){e=k(),n=c("div"),s=c("header"),o=c("div"),o.innerHTML=t,i=k(),f=c("button"),ze(_.$$.fragment),v=P(`
			New Strategy`),h=k(),m.c(),this.h()},l(w){Js("svelte-14el7c8",document.head).forEach(d),e=b(w),n=u(w,"DIV",{class:!0});var S=p(n);s=u(S,"HEADER",{class:!0});var Y=p(s);o=u(Y,"DIV",{"data-svelte-h":!0}),x(o)!=="svelte-6raluc"&&(o.innerHTML=t),i=b(Y),f=u(Y,"BUTTON",{class:!0});var B=p(f);Be(_.$$.fragment,B),v=N(B,`
			New Strategy`),B.forEach(d),Y.forEach(d),h=b(S),m.l(S),S.forEach(d),this.h()},h(){document.title="Playbook - TradeSense",r(f,"class","new-button svelte-1ukjohb"),r(s,"class","page-header svelte-1ukjohb"),r(n,"class","playbook-page svelte-1ukjohb")},m(w,L){pe(w,e,L),pe(w,n,L),l(n,s),l(s,o),l(s,i),l(s,f),Le(_,f,null),l(f,v),l(n,h),y[g].m(n,null),C=!0,j||(A=K(f,"click",a[9]),j=!0)},p(w,L){let S=g;g=I(w),g===S?y[g].p(w,L):(bl(),ie(y[S],1,1,()=>{y[S]=null}),kl(),m=y[g],m?m.p(w,L):(m=y[g]=se[g](w),m.c()),le(m,1),m.m(n,null))},i(w){C||(le(_.$$.fragment,w),le(m),C=!0)},o(w){ie(_.$$.fragment,w),ie(m),C=!1},d(w){w&&(d(e),d(n)),xe(_),y[g].d(),j=!1,A()}}}function zs(){return[{id:1,title:"Morning Gap Strategy",strategy_type:"daytrading",timeframe:"5min, 15min",market_conditions:"High volatility, strong pre-market activity, gap > 2%",entry_rules:["Wait for first 15 minutes to establish range","Enter on break of opening range with volume","Confirm with VWAP direction","RSI should be > 60 for longs, < 40 for shorts"],exit_rules:["Initial stop: Previous candle low/high","Target 1: 1.5x risk at 50% position","Target 2: 2.5x risk at 30% position","Trail stop on remaining 20%"],risk_management:"1% account risk per trade, max 3 concurrent positions",position_sizing:"Risk / (Entry - Stop Loss) = Share size",indicators:["VWAP","RSI","Volume","ATR"],notes:"Best performance on large-cap stocks with news catalysts. Avoid on Fed days.",backtest_results:{win_rate:68.5,profit_factor:2.3,avg_win:285,avg_loss:124,max_drawdown:8.5},tags:["gaps","momentum","morning"],created_at:new Date(Date.now()-30*24*60*60*1e3).toISOString(),updated_at:new Date(Date.now()-2*24*60*60*1e3).toISOString(),is_active:!0},{id:2,title:"Mean Reversion Swing Trade",strategy_type:"swing",timeframe:"Daily, 4H",market_conditions:"Ranging market, low volatility, established support/resistance",entry_rules:["Price at key support/resistance level","RSI oversold (<30) or overbought (>70)","Bullish/bearish divergence on indicators","Volume spike on reversal candle"],exit_rules:["Stop loss: Beyond support/resistance level","Target: Previous swing high/low","Time stop: Exit after 5 days if no movement","Exit on momentum exhaustion"],risk_management:"2% account risk per trade, max 5 swing positions",position_sizing:"Kelly Criterion with 25% reduction for safety",indicators:["RSI","MACD","Bollinger Bands","Support/Resistance"],notes:"Works best in established ranges. Avoid in trending markets.",backtest_results:{win_rate:72.3,profit_factor:1.8,avg_win:425,avg_loss:236,max_drawdown:12.3},tags:["mean-reversion","swing","range-bound"],created_at:new Date(Date.now()-60*24*60*60*1e3).toISOString(),updated_at:new Date(Date.now()-7*24*60*60*1e3).toISOString(),is_active:!0},{id:3,title:"Scalping the Open",strategy_type:"scalping",timeframe:"1min, 3min",market_conditions:"First 30 minutes of market open, high liquidity stocks",entry_rules:["Trade only liquid stocks (>5M volume)","Enter on momentum with tape reading","Use Level 2 for entry timing","Quick in and out, no holding"],exit_rules:["Fixed stop: $0.10 or 10 cents","Target: $0.15-0.20 or 15-20 cents","Time stop: Exit after 5 minutes","Exit on momentum shift"],risk_management:"0.5% account risk per trade, max 2 positions at once",position_sizing:"Fixed 1000 shares for consistency",indicators:["Level 2","Time & Sales","VWAP"],notes:"Requires fast execution and low commissions. Mental discipline crucial.",tags:["scalping","open","high-frequency"],created_at:new Date(Date.now()-90*24*60*60*1e3).toISOString(),updated_at:new Date(Date.now()-45*24*60*60*1e3).toISOString(),is_active:!1}]}function Rs(a){return new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Sn(a,e,n){let s=!0,o="",t=[],i=[],f=null,_=!1,v=null,h="",g="",m=!1;async function C(){try{if(n(3,s=!0),n(4,o=""),!Zs(tn)){en("/login");return}t=zs(),j()}catch(E){console.error("Failed to fetch playbooks:",E),n(4,o="Failed to load playbooks."),t=zs(),j()}finally{n(3,s=!1)}}function j(){n(5,i=t.filter(E=>{if(h){const V=h.toLowerCase();if(!(E.title.toLowerCase().includes(V)||E.notes.toLowerCase().includes(V)||E.tags.some(O=>O.toLowerCase().includes(V))||E.indicators.some(O=>O.toLowerCase().includes(V))))return!1}return!(g&&E.strategy_type!==g||m&&!E.is_active)})),i.sort((E,V)=>new Date(V.updated_at).getTime()-new Date(E.updated_at).getTime())}function A(){n(7,_=!0),n(8,v=null)}function se(E){n(8,v=E),n(7,_=!0)}function y(E){t=[{...E,id:Date.now(),title:`${E.title} (Copy)`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},...t],j()}function I(E){confirm("Are you sure you want to delete this playbook?")&&(t=t.filter(V=>V.id!==E),j(),(f==null?void 0:f.id)===E&&n(6,f=null))}function w(E){const{playbook:V}=E.detail;v?t=t.map(T=>T.id===v.id?{...V,id:v.id}:T):t=[{...V,id:Date.now(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()},...t],j(),n(7,_=!1),n(8,v=null)}function L(E){t=t.map(V=>V.id===E.id?{...V,is_active:!V.is_active}:V),j()}Ys(()=>{C()});const S=()=>{n(7,_=!1),n(8,v=null)};function Y(){h=this.value,n(0,h)}function B(){g=qs(this),n(1,g)}function R(){m=this.checked,n(2,m)}const ne=E=>L(E),M=E=>se(E),F=E=>y(E),U=E=>I(E.id),W=E=>n(6,f=E),Z=()=>se(f),oe=()=>y(f),ue=()=>I(f.id);return a.$$.update=()=>{a.$$.dirty[0]&7&&(h!==void 0||g!==void 0||m!==void 0)&&j()},[h,g,m,s,o,i,f,_,v,A,se,y,I,w,L,S,Y,B,R,ne,M,F,U,W,Z,oe,ue]}class Hn extends El{constructor(e){super(),Cl(this,e,Sn,Dn,yl,{},null,[-1,-1])}}export{Hn as component};
