import{S as xe,i as et,s as tt,x as je,y as pe,t as M,a as U,z as he,A as me,B as ge,C as Ye,c as pt,u as ht,g as mt,b as gt,d as c,R as ze,f as T,h as i,E as v,F as Ct,o as C,k as d,l as b,m as K,r as E,q as _,w as Et,n as _e,e as G,p as S,v as N,T as Le,O as ot,J as Dt,L as ve,D as wt,H as Ze,j as Ue}from"../chunks/M0oPezYK.js";import"../chunks/IHki7fMi.js";import{g as Vt}from"../chunks/D2lGS4wI.js";import{b as Be}from"../chunks/CxPJwWjt.js";import{i as It}from"../chunks/UAPnr0-D.js";import{C as bt}from"../chunks/RLz4a98-.js";import{C as Pt}from"../chunks/D46NJDET.js";import{T as St}from"../chunks/k_TuXpN0.js";import{I as kt,g as qt,a as $t}from"../chunks/Ck4FRYpq.js";function Nt(n){let e;const t=n[2].default,l=pt(t,n,n[3],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,a){l&&l.m(s,a),e=!0},p(s,a){l&&l.p&&(!e||a&8)&&ht(l,t,s,s[3],e?gt(t,s[3],a,null):mt(s[3]),null)},i(s){e||(U(l,s),e=!0)},o(s){M(l,s),e=!1},d(s){l&&l.d(s)}}}function yt(n){let e,t;const l=[{name:"credit-card"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[Nt]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)s=je(s,l[a]);return e=new kt({props:s}),{c(){ge(e.$$.fragment)},l(a){me(e.$$.fragment,a)},m(a,r){he(e,a,r),t=!0},p(a,[r]){const o=r&3?qt(l,[l[0],r&2&&$t(a[1]),r&1&&{iconNode:a[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:a}),e.$set(o)},i(a){t||(U(e.$$.fragment,a),t=!0)},o(a){M(e.$$.fragment,a),t=!1},d(a){pe(e,a)}}}function At(n,e,t){let{$$slots:l={},$$scope:s}=e;const a=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10"}]];return n.$$set=r=>{t(1,e=je(je({},e),Ye(r))),"$$scope"in r&&t(3,s=r.$$scope)},e=Ye(e),[a,e,l,s]}class jt extends xe{constructor(e){super(),et(this,e,At,yt,tt,{})}}function Ut(n){let e;const t=n[2].default,l=pt(t,n,n[3],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,a){l&&l.m(s,a),e=!0},p(s,a){l&&l.p&&(!e||a&8)&&ht(l,t,s,s[3],e?gt(t,s[3],a,null):mt(s[3]),null)},i(s){e||(U(l,s),e=!0)},o(s){M(l,s),e=!1},d(s){l&&l.d(s)}}}function Tt(n){let e,t;const l=[{name:"external-link"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[Ut]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)s=je(s,l[a]);return e=new kt({props:s}),{c(){ge(e.$$.fragment)},l(a){me(e.$$.fragment,a)},m(a,r){he(e,a,r),t=!0},p(a,[r]){const o=r&3?qt(l,[l[0],r&2&&$t(a[1]),r&1&&{iconNode:a[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:a}),e.$set(o)},i(a){t||(U(e.$$.fragment,a),t=!0)},o(a){M(e.$$.fragment,a),t=!1},d(a){pe(e,a)}}}function Ht(n,e,t){let{$$slots:l={},$$scope:s}=e;const a=[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]];return n.$$set=r=>{t(1,e=je(je({},e),Ye(r))),"$$scope"in r&&t(3,s=r.$$scope)},e=Ye(e),[a,e,l,s]}class Mt extends xe{constructor(e){super(),et(this,e,Ht,Tt,tt,{})}}function Ft(n){const e=n.slice(),t=Kt(e[2].plan_id);e[9]=t;const l=e[4][e[9]]||e[4].free;return e[10]=l,e}function Bt(n){let e,t,l="Current Plan",s,a,r,o,p,g,u=!n[2]||n[2].plan_id.includes("free"),h,f;const $=[Rt,Ot],D=[];function F(m,k){return m[2]?0:1}function Q(m,k){return k===0?Ft(m):m}r=F(n),o=D[r]=$[r](Q(n,r));let y=n[3]&&ct(n),w=u&&vt();return{c(){e=_("div"),t=_("h2"),t.textContent=l,s=E(),a=_("div"),o.c(),p=E(),y&&y.c(),g=E(),w&&w.c(),h=ot(),this.h()},l(m){e=d(m,"DIV",{class:!0});var k=b(e);t=d(k,"H2",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-u440f6"&&(t.textContent=l),s=C(k),a=d(k,"DIV",{class:!0});var I=b(a);o.l(I),I.forEach(c),k.forEach(c),p=C(m),y&&y.l(m),g=C(m),w&&w.l(m),h=ot(),this.h()},h(){v(t,"class","svelte-rd5lqf"),v(a,"class","plan-card card svelte-rd5lqf"),v(e,"class","billing-section svelte-rd5lqf")},m(m,k){T(m,e,k),i(e,t),i(e,s),i(e,a),D[r].m(a,null),T(m,p,k),y&&y.m(m,k),T(m,g,k),w&&w.m(m,k),T(m,h,k),f=!0},p(m,k){let I=r;r=F(m),r===I?D[r].p(Q(m,r),k):(Le(),M(D[I],1,1,()=>{D[I]=null}),ze(),o=D[r],o?o.p(Q(m,r),k):(o=D[r]=$[r](Q(m,r)),o.c()),U(o,1),o.m(a,null)),m[3]?y?y.p(m,k):(y=ct(m),y.c(),y.m(g.parentNode,g)):y&&(y.d(1),y=null),k&4&&(u=!m[2]||m[2].plan_id.includes("free")),u?w?k&4&&U(w,1):(w=vt(),w.c(),U(w,1),w.m(h.parentNode,h)):w&&(Le(),M(w,1,1,()=>{w=null}),ze())},i(m){f||(U(o),U(w),f=!0)},o(m){M(o),M(w),f=!1},d(m){m&&(c(e),c(p),c(g),c(h)),D[r].d(),y&&y.d(m),w&&w.d(m)}}}function zt(n){let e,t,l,s,a;return t=new bt({props:{size:20}}),{c(){e=_("div"),ge(t.$$.fragment),l=E(),s=N(n[1]),this.h()},l(r){e=d(r,"DIV",{class:!0});var o=b(e);me(t.$$.fragment,o),l=C(o),s=S(o,n[1]),o.forEach(c),this.h()},h(){v(e,"class","error-message svelte-rd5lqf")},m(r,o){T(r,e,o),he(t,e,null),i(e,l),i(e,s),a=!0},p(r,o){(!a||o&2)&&G(s,r[1])},i(r){a||(U(t.$$.fragment,r),a=!0)},o(r){M(t.$$.fragment,r),a=!1},d(r){r&&c(e),pe(t)}}}function Lt(n){let e,t="Loading billing information...";return{c(){e=_("div"),e.textContent=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-7dc546"&&(e.textContent=t),this.h()},h(){v(e,"class","loading svelte-rd5lqf")},m(l,s){T(l,e,s)},p:_e,i:_e,o:_e,d(l){l&&c(e)}}}function Ot(n){let e,t,l='<h3 class="svelte-rd5lqf">Free Plan</h3> <p class="plan-price svelte-rd5lqf">$0/month</p> <p class="plan-description svelte-rd5lqf">Limited features with usage caps</p>',s,a,r,o,p,g;return o=new St({props:{size:18}}),{c(){e=_("div"),t=_("div"),t.innerHTML=l,s=E(),a=_("div"),r=_("a"),ge(o.$$.fragment),p=N(`
								Upgrade Plan`),this.h()},l(u){e=d(u,"DIV",{class:!0});var h=b(e);t=d(h,"DIV",{"data-svelte-h":!0}),K(t)!=="svelte-jk8kry"&&(t.innerHTML=l),s=C(h),a=d(h,"DIV",{class:!0});var f=b(a);r=d(f,"A",{href:!0,class:!0});var $=b(r);me(o.$$.fragment,$),p=S($,`
								Upgrade Plan`),$.forEach(c),f.forEach(c),h.forEach(c),this.h()},h(){v(r,"href","/pricing"),v(r,"class","upgrade-button svelte-rd5lqf"),v(a,"class","plan-actions svelte-rd5lqf"),v(e,"class","plan-info svelte-rd5lqf")},m(u,h){T(u,e,h),i(e,t),i(e,s),i(e,a),i(a,r),he(o,r,null),i(r,p),g=!0},p:_e,i(u){g||(U(o.$$.fragment,u),g=!0)},o(u){M(o.$$.fragment,u),g=!1},d(u){u&&c(e),pe(o)}}}function Rt(n){let e,t,l,s=n[10].name+"",a,r,o,p,g,u=n[10].price+"",h,f,$,D,F,Q=n[2].status+"",y,w,m,k,I,oe,j,L,le,be,B,se,te=ae(n[2].current_period_start)+"",re,ke,W=ae(n[2].current_period_end)+"",qe,$e,z;const ue=[Yt,Jt],X=[];function De(q,V){return q[2].status==="active"?0:q[2].status==="canceled"?1:-1}~(k=De(n))&&(I=X[k]=ue[k](n)),le=new Pt({props:{size:16}});let A=n[2].status==="canceled"&&ut(n);return{c(){e=_("div"),t=_("div"),l=_("h3"),a=N(s),r=N(" Plan"),o=E(),p=_("p"),g=N("$"),h=N(u),f=N("/month"),$=E(),D=_("div"),F=_("span"),y=N(Q),w=E(),m=_("div"),I&&I.c(),oe=E(),j=_("div"),L=_("div"),ge(le.$$.fragment),be=E(),B=_("span"),se=N("Current period: "),re=N(te),ke=N(" - "),qe=N(W),$e=E(),A&&A.c(),this.h()},l(q){e=d(q,"DIV",{class:!0});var V=b(e);t=d(V,"DIV",{});var Z=b(t);l=d(Z,"H3",{class:!0});var Ce=b(l);a=S(Ce,s),r=S(Ce," Plan"),Ce.forEach(c),o=C(Z),p=d(Z,"P",{class:!0});var Y=b(p);g=S(Y,"$"),h=S(Y,u),f=S(Y,"/month"),Y.forEach(c),$=C(Z),D=d(Z,"DIV",{class:!0});var ne=b(D);F=d(ne,"SPAN",{class:!0});var ce=b(F);y=S(ce,Q),ce.forEach(c),ne.forEach(c),Z.forEach(c),w=C(V),m=d(V,"DIV",{class:!0});var Ee=b(m);I&&I.l(Ee),Ee.forEach(c),V.forEach(c),oe=C(q),j=d(q,"DIV",{class:!0});var fe=b(j);L=d(fe,"DIV",{class:!0});var x=b(L);me(le.$$.fragment,x),be=C(x),B=d(x,"SPAN",{});var de=b(B);se=S(de,"Current period: "),re=S(de,te),ke=S(de," - "),qe=S(de,W),de.forEach(c),x.forEach(c),$e=C(fe),A&&A.l(fe),fe.forEach(c),this.h()},h(){v(l,"class","svelte-rd5lqf"),v(p,"class","plan-price svelte-rd5lqf"),v(F,"class","status-badge svelte-rd5lqf"),ve(F,"active",n[2].status==="active"),v(D,"class","plan-status svelte-rd5lqf"),v(m,"class","plan-actions svelte-rd5lqf"),v(e,"class","plan-info svelte-rd5lqf"),v(L,"class","date-item svelte-rd5lqf"),v(j,"class","billing-dates svelte-rd5lqf")},m(q,V){T(q,e,V),i(e,t),i(t,l),i(l,a),i(l,r),i(t,o),i(t,p),i(p,g),i(p,h),i(p,f),i(t,$),i(t,D),i(D,F),i(F,y),i(e,w),i(e,m),~k&&X[k].m(m,null),T(q,oe,V),T(q,j,V),i(j,L),he(le,L,null),i(L,be),i(L,B),i(B,se),i(B,re),i(B,ke),i(B,qe),i(j,$e),A&&A.m(j,null),z=!0},p(q,V){(!z||V&4)&&s!==(s=q[10].name+"")&&G(a,s),(!z||V&4)&&u!==(u=q[10].price+"")&&G(h,u),(!z||V&4)&&Q!==(Q=q[2].status+"")&&G(y,Q),(!z||V&4)&&ve(F,"active",q[2].status==="active");let Z=k;k=De(q),k===Z?~k&&X[k].p(q,V):(I&&(Le(),M(X[Z],1,1,()=>{X[Z]=null}),ze()),~k?(I=X[k],I?I.p(q,V):(I=X[k]=ue[k](q),I.c()),U(I,1),I.m(m,null)):I=null),(!z||V&4)&&te!==(te=ae(q[2].current_period_start)+"")&&G(re,te),(!z||V&4)&&W!==(W=ae(q[2].current_period_end)+"")&&G(qe,W),q[2].status==="canceled"?A?(A.p(q,V),V&4&&U(A,1)):(A=ut(q),A.c(),U(A,1),A.m(j,null)):A&&(Le(),M(A,1,1,()=>{A=null}),ze())},i(q){z||(U(I),U(le.$$.fragment,q),U(A),z=!0)},o(q){M(I),M(le.$$.fragment,q),M(A),z=!1},d(q){q&&(c(e),c(oe),c(j)),~k&&X[k].d(),pe(le),A&&A.d()}}}function Jt(n){let e,t="Resume Subscription",l,s;return{c(){e=_("button"),e.textContent=t,this.h()},l(a){e=d(a,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-13zgitu"&&(e.textContent=t),this.h()},h(){v(e,"class","resume-button svelte-rd5lqf")},m(a,r){T(a,e,r),l||(s=Ze(e,"click",n[7]),l=!0)},p:_e,i:_e,o:_e,d(a){a&&c(e),l=!1,s()}}}function Yt(n){let e,t,l,s,a,r="Cancel Subscription",o,p,g;return t=new jt({props:{size:18}}),{c(){e=_("button"),ge(t.$$.fragment),l=N(`
									Manage Billing`),s=E(),a=_("button"),a.textContent=r,this.h()},l(u){e=d(u,"BUTTON",{class:!0});var h=b(e);me(t.$$.fragment,h),l=S(h,`
									Manage Billing`),h.forEach(c),s=C(u),a=d(u,"BUTTON",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-1xv4rnx"&&(a.textContent=r),this.h()},h(){v(e,"class","manage-button svelte-rd5lqf"),v(a,"class","cancel-button svelte-rd5lqf")},m(u,h){T(u,e,h),he(t,e,null),i(e,l),T(u,s,h),T(u,a,h),o=!0,p||(g=[Ze(e,"click",n[5]),Ze(a,"click",n[6])],p=!0)},p:_e,i(u){o||(U(t.$$.fragment,u),o=!0)},o(u){M(t.$$.fragment,u),o=!1},d(u){u&&(c(e),c(s),c(a)),pe(t),p=!1,wt(g)}}}function ut(n){let e,t,l,s,a,r=ae(n[2].current_period_end)+"",o,p;return t=new bt({props:{size:16}}),{c(){e=_("div"),ge(t.$$.fragment),l=E(),s=_("span"),a=N("Access ends on "),o=N(r),this.h()},l(g){e=d(g,"DIV",{class:!0});var u=b(e);me(t.$$.fragment,u),l=C(u),s=d(u,"SPAN",{});var h=b(s);a=S(h,"Access ends on "),o=S(h,r),h.forEach(c),u.forEach(c),this.h()},h(){v(e,"class","date-item warning svelte-rd5lqf")},m(g,u){T(g,e,u),he(t,e,null),i(e,l),i(e,s),i(s,a),i(s,o),p=!0},p(g,u){(!p||u&4)&&r!==(r=ae(g[2].current_period_end)+"")&&G(o,r)},i(g){p||(U(t.$$.fragment,g),p=!0)},o(g){M(t.$$.fragment,g),p=!1},d(g){g&&c(e),pe(t)}}}function ct(n){let e,t,l="Usage This Period",s,a,r,o,p="Trades",g,u,h,f=n[3].trades_count+"",$,D,F,Q="/",y,w,m=(n[3].trades_limit===-1?"Unlimited":n[3].trades_limit)+"",k,I,oe,j,L,le="Journal Entries",be,B,se,te=n[3].journal_entries_count+"",re,ke,W,qe="/",$e,z,ue=(n[3].journal_entries_limit===-1?"Unlimited":n[3].journal_entries_limit)+"",X,De,A,q,V,Z="Playbooks",Ce,Y,ne,ce=n[3].playbooks_count+"",Ee,fe,x,de="/",Ge,we,Te=(n[3].playbooks_limit===-1?"Unlimited":n[3].playbooks_limit)+"",Oe,Ke,Qe,ie,We,He=ae(n[3].period_start)+"",Re,Xe,Me=ae(n[3].period_end)+"",Je,O=n[3].trades_limit!==-1&&ft(n),R=n[3].journal_entries_limit!==-1&&dt(n),J=n[3].playbooks_limit!==-1&&_t(n);return{c(){e=_("div"),t=_("h2"),t.textContent=l,s=E(),a=_("div"),r=_("div"),o=_("h3"),o.textContent=p,g=E(),u=_("div"),h=_("span"),$=N(f),D=E(),F=_("span"),F.textContent=Q,y=E(),w=_("span"),k=N(m),I=E(),O&&O.c(),oe=E(),j=_("div"),L=_("h3"),L.textContent=le,be=E(),B=_("div"),se=_("span"),re=N(te),ke=E(),W=_("span"),W.textContent=qe,$e=E(),z=_("span"),X=N(ue),De=E(),R&&R.c(),A=E(),q=_("div"),V=_("h3"),V.textContent=Z,Ce=E(),Y=_("div"),ne=_("span"),Ee=N(ce),fe=E(),x=_("span"),x.textContent=de,Ge=E(),we=_("span"),Oe=N(Te),Ke=E(),J&&J.c(),Qe=E(),ie=_("div"),We=N("Usage period: "),Re=N(He),Xe=N(" - "),Je=N(Me),this.h()},l(P){e=d(P,"DIV",{class:!0});var H=b(e);t=d(H,"H2",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1032m08"&&(t.textContent=l),s=C(H),a=d(H,"DIV",{class:!0});var Ve=b(a);r=d(Ve,"DIV",{class:!0});var Ie=b(r);o=d(Ie,"H3",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-agkse7"&&(o.textContent=p),g=C(Ie),u=d(Ie,"DIV",{class:!0});var Pe=b(u);h=d(Pe,"SPAN",{class:!0});var lt=b(h);$=S(lt,f),lt.forEach(c),D=C(Pe),F=d(Pe,"SPAN",{class:!0,"data-svelte-h":!0}),K(F)!=="svelte-1nor02f"&&(F.textContent=Q),y=C(Pe),w=d(Pe,"SPAN",{class:!0});var st=b(w);k=S(st,m),st.forEach(c),Pe.forEach(c),I=C(Ie),O&&O.l(Ie),Ie.forEach(c),oe=C(Ve),j=d(Ve,"DIV",{class:!0});var Se=b(j);L=d(Se,"H3",{class:!0,"data-svelte-h":!0}),K(L)!=="svelte-fp3em7"&&(L.textContent=le),be=C(Se),B=d(Se,"DIV",{class:!0});var Ne=b(B);se=d(Ne,"SPAN",{class:!0});var at=b(se);re=S(at,te),at.forEach(c),ke=C(Ne),W=d(Ne,"SPAN",{class:!0,"data-svelte-h":!0}),K(W)!=="svelte-1nor02f"&&(W.textContent=qe),$e=C(Ne),z=d(Ne,"SPAN",{class:!0});var rt=b(z);X=S(rt,ue),rt.forEach(c),Ne.forEach(c),De=C(Se),R&&R.l(Se),Se.forEach(c),A=C(Ve),q=d(Ve,"DIV",{class:!0});var ye=b(q);V=d(ye,"H3",{class:!0,"data-svelte-h":!0}),K(V)!=="svelte-1u2mly2"&&(V.textContent=Z),Ce=C(ye),Y=d(ye,"DIV",{class:!0});var Ae=b(Y);ne=d(Ae,"SPAN",{class:!0});var nt=b(ne);Ee=S(nt,ce),nt.forEach(c),fe=C(Ae),x=d(Ae,"SPAN",{class:!0,"data-svelte-h":!0}),K(x)!=="svelte-1nor02f"&&(x.textContent=de),Ge=C(Ae),we=d(Ae,"SPAN",{class:!0});var it=b(we);Oe=S(it,Te),it.forEach(c),Ae.forEach(c),Ke=C(ye),J&&J.l(ye),ye.forEach(c),Ve.forEach(c),Qe=C(H),ie=d(H,"DIV",{class:!0});var Fe=b(ie);We=S(Fe,"Usage period: "),Re=S(Fe,He),Xe=S(Fe," - "),Je=S(Fe,Me),Fe.forEach(c),H.forEach(c),this.h()},h(){v(t,"class","svelte-rd5lqf"),v(o,"class","svelte-rd5lqf"),v(h,"class","usage-current svelte-rd5lqf"),v(F,"class","usage-separator svelte-rd5lqf"),v(w,"class","usage-limit svelte-rd5lqf"),v(u,"class","usage-stats svelte-rd5lqf"),v(r,"class","usage-card card svelte-rd5lqf"),v(L,"class","svelte-rd5lqf"),v(se,"class","usage-current svelte-rd5lqf"),v(W,"class","usage-separator svelte-rd5lqf"),v(z,"class","usage-limit svelte-rd5lqf"),v(B,"class","usage-stats svelte-rd5lqf"),v(j,"class","usage-card card svelte-rd5lqf"),v(V,"class","svelte-rd5lqf"),v(ne,"class","usage-current svelte-rd5lqf"),v(x,"class","usage-separator svelte-rd5lqf"),v(we,"class","usage-limit svelte-rd5lqf"),v(Y,"class","usage-stats svelte-rd5lqf"),v(q,"class","usage-card card svelte-rd5lqf"),v(a,"class","usage-grid svelte-rd5lqf"),v(ie,"class","usage-period svelte-rd5lqf"),v(e,"class","billing-section svelte-rd5lqf")},m(P,H){T(P,e,H),i(e,t),i(e,s),i(e,a),i(a,r),i(r,o),i(r,g),i(r,u),i(u,h),i(h,$),i(u,D),i(u,F),i(u,y),i(u,w),i(w,k),i(r,I),O&&O.m(r,null),i(a,oe),i(a,j),i(j,L),i(j,be),i(j,B),i(B,se),i(se,re),i(B,ke),i(B,W),i(B,$e),i(B,z),i(z,X),i(j,De),R&&R.m(j,null),i(a,A),i(a,q),i(q,V),i(q,Ce),i(q,Y),i(Y,ne),i(ne,Ee),i(Y,fe),i(Y,x),i(Y,Ge),i(Y,we),i(we,Oe),i(q,Ke),J&&J.m(q,null),i(e,Qe),i(e,ie),i(ie,We),i(ie,Re),i(ie,Xe),i(ie,Je)},p(P,H){H&8&&f!==(f=P[3].trades_count+"")&&G($,f),H&8&&m!==(m=(P[3].trades_limit===-1?"Unlimited":P[3].trades_limit)+"")&&G(k,m),P[3].trades_limit!==-1?O?O.p(P,H):(O=ft(P),O.c(),O.m(r,null)):O&&(O.d(1),O=null),H&8&&te!==(te=P[3].journal_entries_count+"")&&G(re,te),H&8&&ue!==(ue=(P[3].journal_entries_limit===-1?"Unlimited":P[3].journal_entries_limit)+"")&&G(X,ue),P[3].journal_entries_limit!==-1?R?R.p(P,H):(R=dt(P),R.c(),R.m(j,null)):R&&(R.d(1),R=null),H&8&&ce!==(ce=P[3].playbooks_count+"")&&G(Ee,ce),H&8&&Te!==(Te=(P[3].playbooks_limit===-1?"Unlimited":P[3].playbooks_limit)+"")&&G(Oe,Te),P[3].playbooks_limit!==-1?J?J.p(P,H):(J=_t(P),J.c(),J.m(q,null)):J&&(J.d(1),J=null),H&8&&He!==(He=ae(P[3].period_start)+"")&&G(Re,He),H&8&&Me!==(Me=ae(P[3].period_end)+"")&&G(Je,Me)},d(P){P&&c(e),O&&O.d(),R&&R.d(),J&&J.d()}}}function ft(n){let e,t;return{c(){e=_("div"),t=_("div"),this.h()},l(l){e=d(l,"DIV",{class:!0});var s=b(e);t=d(s,"DIV",{class:!0,style:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){v(t,"class","usage-bar-fill svelte-rd5lqf"),Ue(t,"width",ee(n[3].trades_count,n[3].trades_limit)+"%"),ve(t,"warning",ee(n[3].trades_count,n[3].trades_limit)>80),v(e,"class","usage-bar svelte-rd5lqf")},m(l,s){T(l,e,s),i(e,t)},p(l,s){s&8&&Ue(t,"width",ee(l[3].trades_count,l[3].trades_limit)+"%"),s&8&&ve(t,"warning",ee(l[3].trades_count,l[3].trades_limit)>80)},d(l){l&&c(e)}}}function dt(n){let e,t;return{c(){e=_("div"),t=_("div"),this.h()},l(l){e=d(l,"DIV",{class:!0});var s=b(e);t=d(s,"DIV",{class:!0,style:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){v(t,"class","usage-bar-fill svelte-rd5lqf"),Ue(t,"width",ee(n[3].journal_entries_count,n[3].journal_entries_limit)+"%"),ve(t,"warning",ee(n[3].journal_entries_count,n[3].journal_entries_limit)>80),v(e,"class","usage-bar svelte-rd5lqf")},m(l,s){T(l,e,s),i(e,t)},p(l,s){s&8&&Ue(t,"width",ee(l[3].journal_entries_count,l[3].journal_entries_limit)+"%"),s&8&&ve(t,"warning",ee(l[3].journal_entries_count,l[3].journal_entries_limit)>80)},d(l){l&&c(e)}}}function _t(n){let e,t;return{c(){e=_("div"),t=_("div"),this.h()},l(l){e=d(l,"DIV",{class:!0});var s=b(e);t=d(s,"DIV",{class:!0,style:!0}),b(t).forEach(c),s.forEach(c),this.h()},h(){v(t,"class","usage-bar-fill svelte-rd5lqf"),Ue(t,"width",ee(n[3].playbooks_count,n[3].playbooks_limit)+"%"),ve(t,"warning",ee(n[3].playbooks_count,n[3].playbooks_limit)>80),v(e,"class","usage-bar svelte-rd5lqf")},m(l,s){T(l,e,s),i(e,t)},p(l,s){s&8&&Ue(t,"width",ee(l[3].playbooks_count,l[3].playbooks_limit)+"%"),s&8&&ve(t,"warning",ee(l[3].playbooks_count,l[3].playbooks_limit)>80)},d(l){l&&c(e)}}}function vt(n){let e,t,l="Need more features?",s,a,r="Upgrade to Pro for unlimited trades, advanced analytics, and real-time data.",o,p,g,u,h;return u=new Mt({props:{size:16}}),{c(){e=_("div"),t=_("h3"),t.textContent=l,s=E(),a=_("p"),a.textContent=r,o=E(),p=_("a"),g=N(`View Plans
					`),ge(u.$$.fragment),this.h()},l(f){e=d(f,"DIV",{class:!0});var $=b(e);t=d($,"H3",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-sgubxl"&&(t.textContent=l),s=C($),a=d($,"P",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-3ttan4"&&(a.textContent=r),o=C($),p=d($,"A",{href:!0,class:!0});var D=b(p);g=S(D,`View Plans
					`),me(u.$$.fragment,D),D.forEach(c),$.forEach(c),this.h()},h(){v(t,"class","svelte-rd5lqf"),v(a,"class","svelte-rd5lqf"),v(p,"href","/pricing"),v(p,"class","upgrade-button svelte-rd5lqf"),v(e,"class","upgrade-prompt card svelte-rd5lqf")},m(f,$){T(f,e,$),i(e,t),i(e,s),i(e,a),i(e,o),i(e,p),i(p,g),he(u,p,null),h=!0},i(f){h||(U(u.$$.fragment,f),h=!0)},o(f){M(u.$$.fragment,f),h=!1},d(f){f&&c(e),pe(u)}}}function Gt(n){let e,t,l,s='<h1 class="svelte-rd5lqf">Billing &amp; Subscription</h1> <p class="svelte-rd5lqf">Manage your subscription and view usage</p>',a,r,o,p;const g=[Lt,zt,Bt],u=[];function h(f,$){return f[0]?0:f[1]?1:2}return r=h(n),o=u[r]=g[r](n),{c(){e=E(),t=_("div"),l=_("header"),l.innerHTML=s,a=E(),o.c(),this.h()},l(f){Ct("svelte-omtoq8",document.head).forEach(c),e=C(f),t=d(f,"DIV",{class:!0});var D=b(t);l=d(D,"HEADER",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-gh86h1"&&(l.innerHTML=s),a=C(D),o.l(D),D.forEach(c),this.h()},h(){document.title="Billing - TradeSense",v(l,"class","page-header svelte-rd5lqf"),v(t,"class","billing-page svelte-rd5lqf")},m(f,$){T(f,e,$),T(f,t,$),i(t,l),i(t,a),u[r].m(t,null),p=!0},p(f,[$]){let D=r;r=h(f),r===D?u[r].p(f,$):(Le(),M(u[D],1,1,()=>{u[D]=null}),ze(),o=u[r],o?o.p(f,$):(o=u[r]=g[r](f),o.c()),U(o,1),o.m(t,null))},i(f){p||(U(o),p=!0)},o(f){M(o),p=!1},d(f){f&&(c(e),c(t)),u[r].d()}}}function ae(n){return new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function ee(n,e){return e===-1?0:Math.min(n/e*100,100)}function Kt(n){return n.includes("enterprise")?"enterprise":n.includes("pro")?"pro":"free"}function Qt(n,e,t){let l=!0,s="",a=null,r=null;const o={free:{name:"Free",color:"gray",price:0},pro:{name:"Pro",color:"blue",price:29},enterprise:{name:"Enterprise",color:"purple",price:99}};async function p(){try{if(t(0,l=!0),t(1,s=""),!Dt(It)){Vt("/login");return}const[f,$]=await Promise.all([Be.getSubscription(),Be.getUsage()]);t(2,a=f),t(3,r=$)}catch(f){console.error("Failed to fetch billing data:",f),t(1,s=f.message||"Failed to load billing information")}finally{t(0,l=!1)}}async function g(){try{const{url:f}=await Be.createPortalSession(window.location.href);window.location.href=f}catch(f){console.error("Failed to create portal session:",f),t(1,s=f.message||"Failed to open billing portal")}}async function u(){if(confirm("Are you sure you want to cancel your subscription? You will lose access to premium features at the end of your billing period."))try{await Be.cancelSubscription(),await p()}catch(f){console.error("Failed to cancel subscription:",f),t(1,s=f.message||"Failed to cancel subscription")}}async function h(){try{await Be.resumeSubscription(),await p()}catch(f){console.error("Failed to resume subscription:",f),t(1,s=f.message||"Failed to resume subscription")}}return Et(()=>{p()}),[l,s,a,r,o,g,u,h]}class rl extends xe{constructor(e){super(),et(this,e,Qt,Gt,tt,{})}}export{rl as component};
