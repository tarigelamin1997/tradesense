import{S as le,i as ne,s as re,n as $,d as h,D as oe,I as A,e as te,f as J,h as t,H as G,E as s,F as ie,o as g,k as f,l as L,m as B,p as se,r as C,q as c,v as ae}from"../chunks/M0oPezYK.js";import"../chunks/IHki7fMi.js";import{g as ue}from"../chunks/D2lGS4wI.js";import{a as de}from"../chunks/UAPnr0-D.js";function ee(r){let i,a;return{c(){i=c("div"),a=ae(r[3]),this.h()},l(e){i=f(e,"DIV",{class:!0});var l=L(i);a=se(l,r[3]),l.forEach(h),this.h()},h(){s(i,"class","error-message svelte-6a9s5b")},m(e,l){J(e,i,l),t(i,a)},p(e,l){l&8&&te(a,e[3])},d(e){e&&h(i)}}}function fe(r){let i,a,e,l,T="Welcome Back",w,_,H="Sign in to your TradeSense account",q,P,p,E,y,K="Username",F,u,O,I,S,Q="Password",z,d,R,b,k=r[2]?"Signing in...":"Sign In",U,W,D,X='<p>Don&#39;t have an account? <a href="/register" class="svelte-6a9s5b">Sign up</a></p>',j,Y,o=r[3]&&ee(r);return{c(){i=C(),a=c("div"),e=c("div"),l=c("h1"),l.textContent=T,w=C(),_=c("p"),_.textContent=H,q=C(),o&&o.c(),P=C(),p=c("form"),E=c("div"),y=c("label"),y.textContent=K,F=C(),u=c("input"),O=C(),I=c("div"),S=c("label"),S.textContent=Q,z=C(),d=c("input"),R=C(),b=c("button"),U=ae(k),W=C(),D=c("div"),D.innerHTML=X,this.h()},l(n){ie("svelte-2q4l8i",document.head).forEach(h),i=g(n),a=f(n,"DIV",{class:!0});var Z=L(a);e=f(Z,"DIV",{class:!0});var m=L(e);l=f(m,"H1",{class:!0,"data-svelte-h":!0}),B(l)!=="svelte-198xrez"&&(l.textContent=T),w=g(m),_=f(m,"P",{class:!0,"data-svelte-h":!0}),B(_)!=="svelte-v8w87e"&&(_.textContent=H),q=g(m),o&&o.l(m),P=g(m),p=f(m,"FORM",{});var V=L(p);E=f(V,"DIV",{class:!0});var M=L(E);y=f(M,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(y)!=="svelte-1wr0xay"&&(y.textContent=K),F=g(M),u=f(M,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),M.forEach(h),O=g(V),I=f(V,"DIV",{class:!0});var N=L(I);S=f(N,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(S)!=="svelte-pepa0a"&&(S.textContent=Q),z=g(N),d=f(N,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),N.forEach(h),R=g(V),b=f(V,"BUTTON",{type:!0,class:!0});var x=L(b);U=se(x,k),x.forEach(h),V.forEach(h),W=g(m),D=f(m,"DIV",{class:!0,"data-svelte-h":!0}),B(D)!=="svelte-1yog929"&&(D.innerHTML=X),m.forEach(h),Z.forEach(h),this.h()},h(){document.title="Login - TradeSense",s(l,"class","svelte-6a9s5b"),s(_,"class","subtitle svelte-6a9s5b"),s(y,"for","username"),s(y,"class","svelte-6a9s5b"),s(u,"id","username"),s(u,"type","text"),u.required=!0,s(u,"placeholder","Enter your username"),u.disabled=r[2],s(u,"class","svelte-6a9s5b"),s(E,"class","form-group svelte-6a9s5b"),s(S,"for","password"),s(S,"class","svelte-6a9s5b"),s(d,"id","password"),s(d,"type","password"),d.required=!0,s(d,"placeholder","Enter your password"),d.disabled=r[2],s(d,"class","svelte-6a9s5b"),s(I,"class","form-group svelte-6a9s5b"),s(b,"type","submit"),s(b,"class","submit-button svelte-6a9s5b"),b.disabled=r[2],s(D,"class","auth-footer svelte-6a9s5b"),s(e,"class","auth-card svelte-6a9s5b"),s(a,"class","auth-container svelte-6a9s5b")},m(n,v){J(n,i,v),J(n,a,v),t(a,e),t(e,l),t(e,w),t(e,_),t(e,q),o&&o.m(e,null),t(e,P),t(e,p),t(p,E),t(E,y),t(E,F),t(E,u),A(u,r[0]),t(p,O),t(p,I),t(I,S),t(I,z),t(I,d),A(d,r[1]),t(p,R),t(p,b),t(b,U),t(e,W),t(e,D),j||(Y=[G(u,"input",r[5]),G(d,"input",r[6]),G(p,"submit",r[4])],j=!0)},p(n,[v]){n[3]?o?o.p(n,v):(o=ee(n),o.c(),o.m(e,P)):o&&(o.d(1),o=null),v&4&&(u.disabled=n[2]),v&1&&u.value!==n[0]&&A(u,n[0]),v&4&&(d.disabled=n[2]),v&2&&d.value!==n[1]&&A(d,n[1]),v&4&&k!==(k=n[2]?"Signing in...":"Sign In")&&te(U,k),v&4&&(b.disabled=n[2])},i:$,o:$,d(n){n&&(h(i),h(a)),o&&o.d(),j=!1,oe(Y)}}}function ce(r,i,a){let e="",l="",T=!1,w="";async function _(P){P.preventDefault(),a(3,w=""),a(2,T=!0);try{await de.login({username:e,password:l}),ue("/")}catch(p){a(3,w=p.message||"Login failed. Please try again.")}finally{a(2,T=!1)}}function H(){e=this.value,a(0,e)}function q(){l=this.value,a(1,l)}return[e,l,T,w,_,H,q]}class _e extends le{constructor(i){super(),ne(this,i,ce,fe,re,{})}}export{_e as component};
