import{S as rl,i as il,s as ol,d as _,l as Ae,r as at,t as le,a as K,B as pe,a0 as re,n as Me,c as qe,b as ue,e as s,o as Le,p as fe,a6 as Et,f as c,g as f,h as p,w as ie,u as y,q as ze,v as Z,j as d,z as oe,y as C,x as Pe,m as Ke,L as he,M as Ze,N as ft,K as dt,J as ut,A as st,I as cl,D as rt,P as ul}from"../chunks/BizRtQrO.js";import{e as Ve}from"../chunks/BUPBrTgu.js";import"../chunks/IHki7fMi.js";import{a as Qe}from"../chunks/CMW7pmGn.js";import{I as Oe}from"../chunks/D31-qMbW.js";function xt(t,e,l){const a=t.slice();return a[44]=e[l],a[45]=e,a[46]=l,a}function Dt(t,e,l){const a=t.slice();return a[47]=e[l],a}function It(t,e,l){const a=t.slice();return a[50]=e[l],a}function Tt(t,e,l){const a=t.slice();return a[53]=e[l],a}function Vt(t){let e,l;return{c(){e=d("div"),l=oe(t[16]),this.h()},l(a){e=f(a,"DIV",{class:!0});var r=p(e);l=ie(r,t[16]),r.forEach(_),this.h()},h(){c(e,"class","mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm")},m(a,r){ue(a,e,r),s(e,l)},p(a,r){r[0]&65536&&pe(l,a[16])},d(a){a&&_(e)}}}function Nt(t){let e,l,a,r='Alert Name <span class="text-red-500">*</span>',o,n,u,i,h,E="Description",g,k,v,A,V,T="Alert Category",L,B,$,P,j,M="Alert Type",N,R,I,O,x=Ve(Object.keys(t[18])),S=[];for(let w=0;w<x.length;w+=1)S[w]=At(Tt(t,x,w));let q=Ve(t[18][t[6]]),D=[];for(let w=0;w<q.length;w+=1)D[w]=Lt(It(t,q,w));return{c(){e=d("div"),l=d("div"),a=d("label"),a.innerHTML=r,o=C(),n=d("input"),u=C(),i=d("div"),h=d("label"),h.textContent=E,g=C(),k=d("textarea"),v=C(),A=d("div"),V=d("label"),V.textContent=T,L=C(),B=d("div");for(let w=0;w<S.length;w+=1)S[w].c();$=C(),P=d("div"),j=d("label"),j.textContent=M,N=C(),R=d("select");for(let w=0;w<D.length;w+=1)D[w].c();this.h()},l(w){e=f(w,"DIV",{class:!0});var b=p(e);l=f(b,"DIV",{});var m=p(l);a=f(m,"LABEL",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-1gj1ps0"&&(a.innerHTML=r),o=y(m),n=f(m,"INPUT",{type:!0,placeholder:!0,class:!0,maxlength:!0}),m.forEach(_),u=y(b),i=f(b,"DIV",{});var z=p(i);h=f(z,"LABEL",{class:!0,"data-svelte-h":!0}),Z(h)!=="svelte-1eio0yg"&&(h.textContent=E),g=y(z),k=f(z,"TEXTAREA",{placeholder:!0,class:!0,rows:!0,maxlength:!0}),p(k).forEach(_),z.forEach(_),v=y(b),A=f(b,"DIV",{});var G=p(A);V=f(G,"LABEL",{class:!0,"data-svelte-h":!0}),Z(V)!=="svelte-1gplvxk"&&(V.textContent=T),L=y(G),B=f(G,"DIV",{class:!0});var J=p(B);for(let F=0;F<S.length;F+=1)S[F].l(J);J.forEach(_),G.forEach(_),$=y(b),P=f(b,"DIV",{});var Q=p(P);j=f(Q,"LABEL",{class:!0,"data-svelte-h":!0}),Z(j)!=="svelte-1i3xmhs"&&(j.textContent=M),N=y(Q),R=f(Q,"SELECT",{class:!0});var Y=p(R);for(let F=0;F<D.length;F+=1)D[F].l(Y);Y.forEach(_),Q.forEach(_),b.forEach(_),this.h()},h(){c(a,"class","block text-sm font-medium text-gray-700 mb-2"),c(n,"type","text"),c(n,"placeholder","e.g., SPY Price Alert"),c(n,"class","form-input svelte-1szs7fz"),c(n,"maxlength","100"),c(h,"class","block text-sm font-medium text-gray-700 mb-2"),c(k,"placeholder","Optional description of what this alert does"),c(k,"class","form-input svelte-1szs7fz"),c(k,"rows","2"),c(k,"maxlength","500"),c(V,"class","block text-sm font-medium text-gray-700 mb-2"),c(B,"class","grid grid-cols-2 sm:grid-cols-3 gap-2"),c(j,"class","block text-sm font-medium text-gray-700 mb-2"),c(R,"class","form-input svelte-1szs7fz"),t[2]===void 0&&ft(()=>t[28].call(R)),c(e,"class","space-y-4")},m(w,b){ue(w,e,b),s(e,l),s(l,a),s(l,o),s(l,n),he(n,t[4]),s(e,u),s(e,i),s(i,h),s(i,g),s(i,k),he(k,t[5]),s(e,v),s(e,A),s(A,V),s(A,L),s(A,B);for(let m=0;m<S.length;m+=1)S[m]&&S[m].m(B,null);s(e,$),s(e,P),s(P,j),s(P,N),s(P,R);for(let m=0;m<D.length;m+=1)D[m]&&D[m].m(R,null);Ze(R,t[2],!0),I||(O=[fe(n,"input",t[25]),fe(k,"input",t[26]),fe(R,"change",t[28])],I=!0)},p(w,b){if(b[0]&16&&n.value!==w[4]&&he(n,w[4]),b[0]&32&&he(k,w[5]),b[0]&262212){x=Ve(Object.keys(w[18]));let m;for(m=0;m<x.length;m+=1){const z=Tt(w,x,m);S[m]?S[m].p(z,b):(S[m]=At(z),S[m].c(),S[m].m(B,null))}for(;m<S.length;m+=1)S[m].d(1);S.length=x.length}if(b[0]&262208){q=Ve(w[18][w[6]]);let m;for(m=0;m<q.length;m+=1){const z=It(w,q,m);D[m]?D[m].p(z,b):(D[m]=Lt(z),D[m].c(),D[m].m(R,null))}for(;m<D.length;m+=1)D[m].d(1);D.length=q.length}b[0]&262212&&Ze(R,w[2])},d(w){w&&_(e),Ke(S,w),Ke(D,w),I=!1,at(O)}}}function At(t){let e,l=t[53]+"",a,r,o,n;function u(){return t[27](t[53])}return{c(){e=d("button"),a=oe(l),r=C(),this.h()},l(i){e=f(i,"BUTTON",{class:!0});var h=p(e);a=ie(h,l),r=y(h),h.forEach(_),this.h()},h(){c(e,"class","p-3 border rounded-lg text-center capitalize transition-colors"),re(e,"border-indigo-500",t[6]===t[53]),re(e,"bg-indigo-50",t[6]===t[53]),re(e,"border-gray-200",t[6]!==t[53])},m(i,h){ue(i,e,h),s(e,a),s(e,r),o||(n=fe(e,"click",u),o=!0)},p(i,h){t=i,h[0]&262208&&re(e,"border-indigo-500",t[6]===t[53]),h[0]&262208&&re(e,"bg-indigo-50",t[6]===t[53]),h[0]&262208&&re(e,"border-gray-200",t[6]!==t[53])},d(i){i&&_(e),o=!1,n()}}}function Lt(t){let e,l=t[50].label+"",a,r;return{c(){e=d("option"),a=oe(l),this.h()},l(o){e=f(o,"OPTION",{});var n=p(e);a=ie(n,l),n.forEach(_),this.h()},h(){e.__value=r=t[50].value,he(e,e.__value)},m(o,n){ue(o,e,n),s(e,a)},p(o,n){n[0]&64&&l!==(l=o[50].label+"")&&pe(a,l),n[0]&64&&r!==(r=o[50].value)&&(e.__value=r,he(e,e.__value))},d(o){o&&_(e)}}}function zt(t){let e,l,a,r,o='Alert Conditions <span class="text-red-500">*</span>',n,u,i="+ Add Condition",h,E,g,k,v,A="Symbols (optional)",V,T,L,B,$="Leave empty to monitor all symbols",P,j,M,N="Strategies (optional)",R,I,O,x,S,q=Ve(t[3]),D=[];for(let b=0;b<q.length;b+=1)D[b]=St(xt(t,q,b));const w=b=>le(D[b],1,1,()=>{D[b]=null});return{c(){e=d("div"),l=d("div"),a=d("div"),r=d("label"),r.innerHTML=o,n=C(),u=d("button"),u.textContent=i,h=C(),E=d("div");for(let b=0;b<D.length;b+=1)D[b].c();g=C(),k=d("div"),v=d("label"),v.textContent=A,V=C(),T=d("input"),L=C(),B=d("p"),B.textContent=$,P=C(),j=d("div"),M=d("label"),M.textContent=N,R=C(),I=d("input"),this.h()},l(b){e=f(b,"DIV",{class:!0});var m=p(e);l=f(m,"DIV",{});var z=p(l);a=f(z,"DIV",{class:!0});var G=p(a);r=f(G,"LABEL",{class:!0,"data-svelte-h":!0}),Z(r)!=="svelte-bqo8q6"&&(r.innerHTML=o),n=y(G),u=f(G,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(u)!=="svelte-1vdn639"&&(u.textContent=i),G.forEach(_),h=y(z),E=f(z,"DIV",{class:!0});var J=p(E);for(let F=0;F<D.length;F+=1)D[F].l(J);J.forEach(_),z.forEach(_),g=y(m),k=f(m,"DIV",{});var Q=p(k);v=f(Q,"LABEL",{class:!0,"data-svelte-h":!0}),Z(v)!=="svelte-b6uc1e"&&(v.textContent=A),V=y(Q),T=f(Q,"INPUT",{type:!0,placeholder:!0,class:!0}),L=y(Q),B=f(Q,"P",{class:!0,"data-svelte-h":!0}),Z(B)!=="svelte-17o5whn"&&(B.textContent=$),Q.forEach(_),P=y(m),j=f(m,"DIV",{});var Y=p(j);M=f(Y,"LABEL",{class:!0,"data-svelte-h":!0}),Z(M)!=="svelte-1who67e"&&(M.textContent=N),R=y(Y),I=f(Y,"INPUT",{type:!0,placeholder:!0,class:!0}),Y.forEach(_),m.forEach(_),this.h()},h(){c(r,"class","text-sm font-medium text-gray-700"),c(u,"class","text-sm text-indigo-600 hover:text-indigo-700"),c(a,"class","flex items-center justify-between mb-2"),c(E,"class","space-y-3"),c(v,"class","block text-sm font-medium text-gray-700 mb-2"),c(T,"type","text"),c(T,"placeholder","e.g., AAPL, GOOGL, SPY (comma-separated)"),c(T,"class","form-input svelte-1szs7fz"),c(B,"class","text-xs text-gray-500 mt-1"),c(M,"class","block text-sm font-medium text-gray-700 mb-2"),c(I,"type","text"),c(I,"placeholder","e.g., momentum, mean-reversion (comma-separated)"),c(I,"class","form-input svelte-1szs7fz"),c(e,"class","space-y-4")},m(b,m){ue(b,e,m),s(e,l),s(l,a),s(a,r),s(a,n),s(a,u),s(l,h),s(l,E);for(let z=0;z<D.length;z+=1)D[z]&&D[z].m(E,null);s(e,g),s(e,k),s(k,v),s(k,V),s(k,T),he(T,t[9]),s(k,L),s(k,B),s(e,P),s(e,j),s(j,M),s(j,R),s(j,I),he(I,t[10]),O=!0,x||(S=[fe(u,"click",t[19]),fe(T,"input",t[33]),fe(I,"input",t[34])],x=!0)},p(b,m){if(m[0]&1048588){q=Ve(b[3]);let z;for(z=0;z<q.length;z+=1){const G=xt(b,q,z);D[z]?(D[z].p(G,m),K(D[z],1)):(D[z]=St(G),D[z].c(),K(D[z],1),D[z].m(E,null))}for(Me(),z=q.length;z<D.length;z+=1)w(z);qe()}m[0]&512&&T.value!==b[9]&&he(T,b[9]),m[0]&1024&&I.value!==b[10]&&he(I,b[10])},i(b){if(!O){for(let m=0;m<q.length;m+=1)K(D[m]);O=!0}},o(b){D=D.filter(Boolean);for(let m=0;m<D.length;m+=1)le(D[m]);O=!1},d(b){b&&_(e),Ke(D,b),x=!1,at(S)}}}function Pt(t){let e,l=t[47].replace(/_/g," ").replace(/\b\w/g,$t)+"",a,r,o;return{c(){e=d("option"),a=oe(l),r=C(),this.h()},l(n){e=f(n,"OPTION",{});var u=p(e);a=ie(u,l),r=y(u),u.forEach(_),this.h()},h(){e.__value=o=t[47],he(e,e.__value)},m(n,u){ue(n,e,u),s(e,a),s(e,r)},p(n,u){u[0]&4&&l!==(l=n[47].replace(/_/g," ").replace(/\b\w/g,$t)+"")&&pe(a,l),u[0]&262212&&o!==(o=n[47])&&(e.__value=o,he(e,e.__value))},d(n){n&&_(e)}}}function Ot(t){let e,l,a,r,o;l=new Oe({props:{name:"trash-2",class:"w-4 h-4"}});function n(){return t[32](t[46])}return{c(){e=d("button"),Pe(l.$$.fragment),this.h()},l(u){e=f(u,"BUTTON",{class:!0});var i=p(e);ze(l.$$.fragment,i),i.forEach(_),this.h()},h(){c(e,"class","text-red-600 hover:text-red-700")},m(u,i){ue(u,e,i),Le(l,e,null),a=!0,r||(o=fe(e,"click",n),r=!0)},p(u,i){t=u},i(u){a||(K(l.$$.fragment,u),a=!0)},o(u){le(l.$$.fragment,u),a=!1},d(u){u&&_(e),Ae(l),r=!1,o()}}}function St(t){let e,l,a,r="Select field",o,n,u,i="Greater than",h,E="Greater or equal",g,k="Less than",v,A="Less or equal",V,T="Equals",L,B,$,P,j,M,N,R=Ve(pt(t[2])),I=[];for(let D=0;D<R.length;D+=1)I[D]=Pt(Dt(t,R,D));function O(){t[29].call(l,t[45],t[46])}function x(){t[30].call(n,t[45],t[46])}function S(){t[31].call(B,t[45],t[46])}let q=t[3].length>1&&Ot(t);return{c(){e=d("div"),l=d("select"),a=d("option"),a.textContent=r;for(let D=0;D<I.length;D+=1)I[D].c();o=C(),n=d("select"),u=d("option"),u.textContent=i,h=d("option"),h.textContent=E,g=d("option"),g.textContent=k,v=d("option"),v.textContent=A,V=d("option"),V.textContent=T,L=C(),B=d("input"),$=C(),q&&q.c(),P=C(),this.h()},l(D){e=f(D,"DIV",{class:!0});var w=p(e);l=f(w,"SELECT",{class:!0});var b=p(l);a=f(b,"OPTION",{"data-svelte-h":!0}),Z(a)!=="svelte-wai8ja"&&(a.textContent=r);for(let z=0;z<I.length;z+=1)I[z].l(b);b.forEach(_),o=y(w),n=f(w,"SELECT",{class:!0});var m=p(n);u=f(m,"OPTION",{"data-svelte-h":!0}),Z(u)!=="svelte-3eqpgc"&&(u.textContent=i),h=f(m,"OPTION",{"data-svelte-h":!0}),Z(h)!=="svelte-ggh8jl"&&(h.textContent=E),g=f(m,"OPTION",{"data-svelte-h":!0}),Z(g)!=="svelte-4jmhdk"&&(g.textContent=k),v=f(m,"OPTION",{"data-svelte-h":!0}),Z(v)!=="svelte-fi4fdn"&&(v.textContent=A),V=f(m,"OPTION",{"data-svelte-h":!0}),Z(V)!=="svelte-o02a5v"&&(V.textContent=T),m.forEach(_),L=y(w),B=f(w,"INPUT",{type:!0,placeholder:!0,class:!0}),$=y(w),q&&q.l(w),P=y(w),w.forEach(_),this.h()},h(){a.__value="",he(a,a.__value),c(l,"class","form-input flex-1 svelte-1szs7fz"),t[44].field===void 0&&ft(O),u.__value="gt",he(u,u.__value),h.__value="gte",he(h,h.__value),g.__value="lt",he(g,g.__value),v.__value="lte",he(v,v.__value),V.__value="eq",he(V,V.__value),c(n,"class","form-input w-32 svelte-1szs7fz"),t[44].operator===void 0&&ft(x),c(B,"type","text"),c(B,"placeholder","Value"),c(B,"class","form-input w-32 svelte-1szs7fz"),c(e,"class","flex items-center space-x-2")},m(D,w){ue(D,e,w),s(e,l),s(l,a);for(let b=0;b<I.length;b+=1)I[b]&&I[b].m(l,null);Ze(l,t[44].field,!0),s(e,o),s(e,n),s(n,u),s(n,h),s(n,g),s(n,v),s(n,V),Ze(n,t[44].operator,!0),s(e,L),s(e,B),he(B,t[44].value),s(e,$),q&&q.m(e,null),s(e,P),j=!0,M||(N=[fe(l,"change",O),fe(n,"change",x),fe(B,"input",S)],M=!0)},p(D,w){if(t=D,w[0]&4){R=Ve(pt(t[2]));let b;for(b=0;b<R.length;b+=1){const m=Dt(t,R,b);I[b]?I[b].p(m,w):(I[b]=Pt(m),I[b].c(),I[b].m(l,null))}for(;b<I.length;b+=1)I[b].d(1);I.length=R.length}w[0]&12&&Ze(l,t[44].field),w[0]&12&&Ze(n,t[44].operator),w[0]&12&&B.value!==t[44].value&&he(B,t[44].value),t[3].length>1?q?(q.p(t,w),w[0]&8&&K(q,1)):(q=Ot(t),q.c(),K(q,1),q.m(e,P)):q&&(Me(),le(q,1,1,()=>{q=null}),qe())},i(D){j||(K(q),j=!0)},o(D){le(q),j=!1},d(D){D&&_(e),Ke(I,D),q&&q.d(),M=!1,at(N)}}}function Bt(t){let e,l,a,r='Notification Channels <span class="text-red-500">*</span>',o,n,u,i,h,E,g,k,v,A,V,T,L,B,$,P,j,M,N,R,I,O,x,S,q,D,w,b,m,z="Priority",G,J,Q,Y="Low",F,U="Medium",H,ae="High",ee,se="Critical",me,ge,W,X,te="Cooldown (minutes)",Ie,Ee,Ne,Te,je,Ue="Max Triggers/Day",we,be,Se,xe,$e,Be="Expires On (optional)",et,We,Ce,De,Re;E=new Oe({props:{name:"mail",class:"w-4 h-4 mr-2 text-gray-600"}}),T=new Oe({props:{name:"bell",class:"w-4 h-4 mr-2 text-gray-600"}}),M=new Oe({props:{name:"message-square",class:"w-4 h-4 mr-2 text-gray-600"}}),S=new Oe({props:{name:"link",class:"w-4 h-4 mr-2 text-gray-600"}});let ne=t[7].webhook&&jt(t);return{c(){e=d("div"),l=d("div"),a=d("label"),a.innerHTML=r,o=C(),n=d("div"),u=d("label"),i=d("input"),h=C(),Pe(E.$$.fragment),g=oe(`
                                Email`),k=C(),v=d("label"),A=d("input"),V=C(),Pe(T.$$.fragment),L=oe(`
                                In-App Notifications`),B=C(),$=d("label"),P=d("input"),j=C(),Pe(M.$$.fragment),N=oe(`
                                SMS (requires phone number)`),R=C(),I=d("label"),O=d("input"),x=C(),Pe(S.$$.fragment),q=oe(`
                                Webhook`),D=C(),ne&&ne.c(),w=C(),b=d("div"),m=d("label"),m.textContent=z,G=C(),J=d("select"),Q=d("option"),Q.textContent=Y,F=d("option"),F.textContent=U,H=d("option"),H.textContent=ae,ee=d("option"),ee.textContent=se,me=C(),ge=d("div"),W=d("div"),X=d("label"),X.textContent=te,Ie=C(),Ee=d("input"),Ne=C(),Te=d("div"),je=d("label"),je.textContent=Ue,we=C(),be=d("input"),Se=C(),xe=d("div"),$e=d("label"),$e.textContent=Be,et=C(),We=d("input"),this.h()},l(_e){e=f(_e,"DIV",{class:!0});var ke=p(e);l=f(ke,"DIV",{});var nt=p(l);a=f(nt,"LABEL",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-1gku8gc"&&(a.innerHTML=r),o=y(nt),n=f(nt,"DIV",{class:!0});var Ge=p(n);u=f(Ge,"LABEL",{class:!0});var tt=p(u);i=f(tt,"INPUT",{type:!0,class:!0}),h=y(tt),ze(E.$$.fragment,tt),g=ie(tt,`
                                Email`),tt.forEach(_),k=y(Ge),v=f(Ge,"LABEL",{class:!0});var ce=p(v);A=f(ce,"INPUT",{type:!0,class:!0}),V=y(ce),ze(T.$$.fragment,ce),L=ie(ce,`
                                In-App Notifications`),ce.forEach(_),B=y(Ge),$=f(Ge,"LABEL",{class:!0});var de=p($);P=f(de,"INPUT",{type:!0,class:!0}),j=y(de),ze(M.$$.fragment,de),N=ie(de,`
                                SMS (requires phone number)`),de.forEach(_),R=y(Ge),I=f(Ge,"LABEL",{class:!0});var ye=p(I);O=f(ye,"INPUT",{type:!0,class:!0}),x=y(ye),ze(S.$$.fragment,ye),q=ie(ye,`
                                Webhook`),ye.forEach(_),Ge.forEach(_),nt.forEach(_),D=y(ke),ne&&ne.l(ke),w=y(ke),b=f(ke,"DIV",{});var Fe=p(b);m=f(Fe,"LABEL",{class:!0,"data-svelte-h":!0}),Z(m)!=="svelte-x5qere"&&(m.textContent=z),G=y(Fe),J=f(Fe,"SELECT",{class:!0});var ve=p(J);Q=f(ve,"OPTION",{"data-svelte-h":!0}),Z(Q)!=="svelte-1f4z4ku"&&(Q.textContent=Y),F=f(ve,"OPTION",{"data-svelte-h":!0}),Z(F)!=="svelte-1u6j0ru"&&(F.textContent=U),H=f(ve,"OPTION",{"data-svelte-h":!0}),Z(H)!=="svelte-poeh2m"&&(H.textContent=ae),ee=f(ve,"OPTION",{"data-svelte-h":!0}),Z(ee)!=="svelte-tdy8g6"&&(ee.textContent=se),ve.forEach(_),Fe.forEach(_),me=y(ke),ge=f(ke,"DIV",{class:!0});var Je=p(ge);W=f(Je,"DIV",{});var lt=p(W);X=f(lt,"LABEL",{class:!0,"data-svelte-h":!0}),Z(X)!=="svelte-1i06aop"&&(X.textContent=te),Ie=y(lt),Ee=f(lt,"INPUT",{type:!0,min:!0,max:!0,class:!0}),lt.forEach(_),Ne=y(Je),Te=f(Je,"DIV",{});var He=p(Te);je=f(He,"LABEL",{class:!0,"data-svelte-h":!0}),Z(je)!=="svelte-1rmne74"&&(je.textContent=Ue),we=y(He),be=f(He,"INPUT",{type:!0,min:!0,max:!0,placeholder:!0,class:!0}),He.forEach(_),Je.forEach(_),Se=y(ke),xe=f(ke,"DIV",{});var Ye=p(xe);$e=f(Ye,"LABEL",{class:!0,"data-svelte-h":!0}),Z($e)!=="svelte-21ftce"&&($e.textContent=Be),et=y(Ye),We=f(Ye,"INPUT",{type:!0,class:!0}),Ye.forEach(_),ke.forEach(_),this.h()},h(){c(a,"class","block text-sm font-medium text-gray-700 mb-2"),c(i,"type","checkbox"),c(i,"class","rounded border-gray-300 text-indigo-600 mr-2"),c(u,"class","flex items-center"),c(A,"type","checkbox"),c(A,"class","rounded border-gray-300 text-indigo-600 mr-2"),c(v,"class","flex items-center"),c(P,"type","checkbox"),c(P,"class","rounded border-gray-300 text-indigo-600 mr-2"),c($,"class","flex items-center"),c(O,"type","checkbox"),c(O,"class","rounded border-gray-300 text-indigo-600 mr-2"),c(I,"class","flex items-center"),c(n,"class","space-y-2"),c(m,"class","block text-sm font-medium text-gray-700 mb-2"),Q.__value="low",he(Q,Q.__value),F.__value="medium",he(F,F.__value),H.__value="high",he(H,H.__value),ee.__value="critical",he(ee,ee.__value),c(J,"class","form-input svelte-1szs7fz"),t[8]===void 0&&ft(()=>t[40].call(J)),c(X,"class","block text-sm font-medium text-gray-700 mb-2"),c(Ee,"type","number"),c(Ee,"min","1"),c(Ee,"max","1440"),c(Ee,"class","form-input svelte-1szs7fz"),c(je,"class","block text-sm font-medium text-gray-700 mb-2"),c(be,"type","number"),c(be,"min","1"),c(be,"max","100"),c(be,"placeholder","Unlimited"),c(be,"class","form-input svelte-1szs7fz"),c(ge,"class","grid grid-cols-2 gap-4"),c($e,"class","block text-sm font-medium text-gray-700 mb-2"),c(We,"type","datetime-local"),c(We,"class","form-input svelte-1szs7fz"),c(e,"class","space-y-4")},m(_e,ke){ue(_e,e,ke),s(e,l),s(l,a),s(l,o),s(l,n),s(n,u),s(u,i),i.checked=t[7].email,s(u,h),Le(E,u,null),s(u,g),s(n,k),s(n,v),s(v,A),A.checked=t[7].in_app,s(v,V),Le(T,v,null),s(v,L),s(n,B),s(n,$),s($,P),P.checked=t[7].sms,s($,j),Le(M,$,null),s($,N),s(n,R),s(n,I),s(I,O),O.checked=t[7].webhook,s(I,x),Le(S,I,null),s(I,q),s(e,D),ne&&ne.m(e,null),s(e,w),s(e,b),s(b,m),s(b,G),s(b,J),s(J,Q),s(J,F),s(J,H),s(J,ee),Ze(J,t[8],!0),s(e,me),s(e,ge),s(ge,W),s(W,X),s(W,Ie),s(W,Ee),he(Ee,t[11]),s(ge,Ne),s(ge,Te),s(Te,je),s(Te,we),s(Te,be),he(be,t[12]),s(e,Se),s(e,xe),s(xe,$e),s(xe,et),s(xe,We),he(We,t[13]),Ce=!0,De||(Re=[fe(i,"change",t[35]),fe(A,"change",t[36]),fe(P,"change",t[37]),fe(O,"change",t[38]),fe(J,"change",t[40]),fe(Ee,"input",t[41]),fe(be,"input",t[42]),fe(We,"input",t[43])],De=!0)},p(_e,ke){ke[0]&128&&(i.checked=_e[7].email),ke[0]&128&&(A.checked=_e[7].in_app),ke[0]&128&&(P.checked=_e[7].sms),ke[0]&128&&(O.checked=_e[7].webhook),_e[7].webhook?ne?ne.p(_e,ke):(ne=jt(_e),ne.c(),ne.m(e,w)):ne&&(ne.d(1),ne=null),ke[0]&256&&Ze(J,_e[8]),ke[0]&2048&&dt(Ee.value)!==_e[11]&&he(Ee,_e[11]),ke[0]&4096&&dt(be.value)!==_e[12]&&he(be,_e[12]),ke[0]&8192&&he(We,_e[13])},i(_e){Ce||(K(E.$$.fragment,_e),K(T.$$.fragment,_e),K(M.$$.fragment,_e),K(S.$$.fragment,_e),Ce=!0)},o(_e){le(E.$$.fragment,_e),le(T.$$.fragment,_e),le(M.$$.fragment,_e),le(S.$$.fragment,_e),Ce=!1},d(_e){_e&&_(e),Ae(E),Ae(T),Ae(M),Ae(S),ne&&ne.d(),De=!1,at(Re)}}}function jt(t){let e,l,a="Webhook URL",r,o,n,u;return{c(){e=d("div"),l=d("label"),l.textContent=a,r=C(),o=d("input"),this.h()},l(i){e=f(i,"DIV",{});var h=p(e);l=f(h,"LABEL",{class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-j35daa"&&(l.textContent=a),r=y(h),o=f(h,"INPUT",{type:!0,placeholder:!0,class:!0}),h.forEach(_),this.h()},h(){c(l,"class","block text-sm font-medium text-gray-700 mb-2"),c(o,"type","url"),c(o,"placeholder","https://example.com/webhook"),c(o,"class","form-input svelte-1szs7fz")},m(i,h){ue(i,e,h),s(e,l),s(e,r),s(e,o),he(o,t[14]),n||(u=fe(o,"input",t[39]),n=!0)},p(i,h){h[0]&16384&&o.value!==i[14]&&he(o,i[14])},d(i){i&&_(e),n=!1,u()}}}function fl(t){let e,l,a,r,o=t[15]&&Ut();return{c(){e=d("button"),o&&o.c(),l=oe(`
                        Create Alert`),this.h()},l(n){e=f(n,"BUTTON",{class:!0});var u=p(e);o&&o.l(u),l=ie(u,`
                        Create Alert`),u.forEach(_),this.h()},h(){e.disabled=t[15],c(e,"class","btn btn-primary svelte-1szs7fz")},m(n,u){ue(n,e,u),o&&o.m(e,null),s(e,l),a||(r=fe(e,"click",t[21]),a=!0)},p(n,u){n[15]?o||(o=Ut(),o.c(),o.m(e,l)):o&&(o.d(1),o=null),u[0]&32768&&(e.disabled=n[15])},d(n){n&&_(e),o&&o.d(),a=!1,r()}}}function dl(t){let e,l="Next",a,r;return{c(){e=d("button"),e.textContent=l,this.h()},l(o){e=f(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1i8dr30"&&(e.textContent=l),this.h()},h(){c(e,"class","btn btn-primary svelte-1szs7fz")},m(o,n){ue(o,e,n),a||(r=fe(e,"click",t[22]),a=!0)},p:st,d(o){o&&_(e),a=!1,r()}}}function Ut(t){let e;return{c(){e=d("span"),this.h()},l(l){e=f(l,"SPAN",{class:!0}),p(e).forEach(_),this.h()},h(){c(e,"class","spinner mr-2 svelte-1szs7fz")},m(l,a){ue(l,e,a)},d(l){l&&_(e)}}}function hl(t){let e,l,a,r,o,n=t[1]?"Create Alert from Template":"Create New Alert",u,i,h,E,g,k,v,A,V="1",T,L,B,$,P="2",j,M,N,R,I="3",O,x,S,q,D,w,b,m,z,G=t[17]>1?"Back":"Cancel",J,Q,Y,F,U;E=new Oe({props:{name:"x",class:"w-6 h-6"}});let H=t[16]&&Vt(t),ae=t[17]===1&&Nt(t),ee=t[17]===2&&zt(t),se=t[17]===3&&Bt(t);function me(X,te){return X[17]<3?dl:fl}let ge=me(t),W=ge(t);return{c(){e=d("div"),l=d("div"),a=d("div"),r=d("div"),o=d("h2"),u=oe(n),i=C(),h=d("button"),Pe(E.$$.fragment),g=C(),k=d("div"),v=d("div"),A=d("div"),A.textContent=V,T=C(),L=d("div"),B=C(),$=d("div"),$.textContent=P,j=C(),M=d("div"),N=C(),R=d("div"),R.textContent=I,O=C(),x=d("div"),H&&H.c(),S=C(),ae&&ae.c(),q=C(),ee&&ee.c(),D=C(),se&&se.c(),w=C(),b=d("div"),m=d("div"),z=d("button"),J=oe(G),Q=C(),W.c(),this.h()},l(X){e=f(X,"DIV",{class:!0});var te=p(e);l=f(te,"DIV",{class:!0});var Ie=p(l);a=f(Ie,"DIV",{class:!0});var Ee=p(a);r=f(Ee,"DIV",{class:!0});var Ne=p(r);o=f(Ne,"H2",{class:!0});var Te=p(o);u=ie(Te,n),Te.forEach(_),i=y(Ne),h=f(Ne,"BUTTON",{class:!0});var je=p(h);ze(E.$$.fragment,je),je.forEach(_),Ne.forEach(_),g=y(Ee),k=f(Ee,"DIV",{class:!0});var Ue=p(k);v=f(Ue,"DIV",{class:!0});var we=p(v);A=f(we,"DIV",{class:!0,"data-svelte-h":!0}),Z(A)!=="svelte-mi93nr"&&(A.textContent=V),T=y(we),L=f(we,"DIV",{class:!0}),p(L).forEach(_),B=y(we),$=f(we,"DIV",{class:!0,"data-svelte-h":!0}),Z($)!=="svelte-q906nd"&&($.textContent=P),j=y(we),M=f(we,"DIV",{class:!0}),p(M).forEach(_),N=y(we),R=f(we,"DIV",{class:!0,"data-svelte-h":!0}),Z(R)!=="svelte-qmdzpj"&&(R.textContent=I),we.forEach(_),Ue.forEach(_),Ee.forEach(_),O=y(Ie),x=f(Ie,"DIV",{class:!0});var be=p(x);H&&H.l(be),S=y(be),ae&&ae.l(be),q=y(be),ee&&ee.l(be),D=y(be),se&&se.l(be),be.forEach(_),w=y(Ie),b=f(Ie,"DIV",{class:!0});var Se=p(b);m=f(Se,"DIV",{class:!0});var xe=p(m);z=f(xe,"BUTTON",{class:!0});var $e=p(z);J=ie($e,G),$e.forEach(_),Q=y(xe),W.l(xe),xe.forEach(_),Se.forEach(_),Ie.forEach(_),te.forEach(_),this.h()},h(){c(o,"class","text-2xl font-bold text-gray-900"),c(h,"class","text-gray-500 hover:text-gray-700"),c(r,"class","flex items-center justify-between"),c(A,"class","step svelte-1szs7fz"),re(A,"active",t[17]===1),c(L,"class","step-line svelte-1szs7fz"),re(L,"active",t[17]>1),c($,"class","step svelte-1szs7fz"),re($,"active",t[17]===2),c(M,"class","step-line svelte-1szs7fz"),re(M,"active",t[17]>2),c(R,"class","step svelte-1szs7fz"),re(R,"active",t[17]===3),c(v,"class","flex items-center space-x-2"),c(k,"class","mt-4 flex items-center justify-center"),c(a,"class","p-6 border-b border-gray-200 sticky top-0 bg-white z-10"),c(x,"class","p-6"),c(z,"class","btn btn-secondary svelte-1szs7fz"),c(m,"class","flex justify-between"),c(b,"class","p-6 border-t border-gray-200 bg-gray-50"),c(l,"class","bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"),c(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4")},m(X,te){ue(X,e,te),s(e,l),s(l,a),s(a,r),s(r,o),s(o,u),s(r,i),s(r,h),Le(E,h,null),s(a,g),s(a,k),s(k,v),s(v,A),s(v,T),s(v,L),s(v,B),s(v,$),s(v,j),s(v,M),s(v,N),s(v,R),s(l,O),s(l,x),H&&H.m(x,null),s(x,S),ae&&ae.m(x,null),s(x,q),ee&&ee.m(x,null),s(x,D),se&&se.m(x,null),s(l,w),s(l,b),s(b,m),s(m,z),s(z,J),s(m,Q),W.m(m,null),Y=!0,F||(U=[fe(h,"click",function(){Et(t[0])&&t[0].apply(this,arguments)}),fe(z,"click",function(){Et(t[17]>1?t[23]:t[0])&&(t[17]>1?t[23]:t[0]).apply(this,arguments)})],F=!0)},p(X,te){t=X,(!Y||te[0]&2)&&n!==(n=t[1]?"Create Alert from Template":"Create New Alert")&&pe(u,n),(!Y||te[0]&131072)&&re(A,"active",t[17]===1),(!Y||te[0]&131072)&&re(L,"active",t[17]>1),(!Y||te[0]&131072)&&re($,"active",t[17]===2),(!Y||te[0]&131072)&&re(M,"active",t[17]>2),(!Y||te[0]&131072)&&re(R,"active",t[17]===3),t[16]?H?H.p(t,te):(H=Vt(t),H.c(),H.m(x,S)):H&&(H.d(1),H=null),t[17]===1?ae?ae.p(t,te):(ae=Nt(t),ae.c(),ae.m(x,q)):ae&&(ae.d(1),ae=null),t[17]===2?ee?(ee.p(t,te),te[0]&131072&&K(ee,1)):(ee=zt(t),ee.c(),K(ee,1),ee.m(x,D)):ee&&(Me(),le(ee,1,1,()=>{ee=null}),qe()),t[17]===3?se?(se.p(t,te),te[0]&131072&&K(se,1)):(se=Bt(t),se.c(),K(se,1),se.m(x,null)):se&&(Me(),le(se,1,1,()=>{se=null}),qe()),(!Y||te[0]&131072)&&G!==(G=t[17]>1?"Back":"Cancel")&&pe(J,G),ge===(ge=me(t))&&W?W.p(t,te):(W.d(1),W=ge(t),W&&(W.c(),W.m(m,null)))},i(X){Y||(K(E.$$.fragment,X),K(ee),K(se),Y=!0)},o(X){le(E.$$.fragment,X),le(ee),le(se),Y=!1},d(X){X&&_(e),Ae(E),H&&H.d(),ae&&ae.d(),ee&&ee.d(),se&&se.d(),W.d(),F=!1,at(U)}}}function pt(t){return{price_above:["current_price","ask_price","bid_price"],price_below:["current_price","ask_price","bid_price"],price_change_percent:["price_change_percent","price_change_amount"],daily_pnl:["current_value","pnl_amount","pnl_percent"],weekly_pnl:["current_value","pnl_amount","pnl_percent"],win_rate:["current_value","win_count","total_trades"],loss_streak:["current_value","consecutive_losses"],win_streak:["current_value","consecutive_wins"],drawdown:["current_value","drawdown_percent","drawdown_amount"],position_size:["position_size_percent","position_value","shares"],pattern_detected:["pattern_name","pattern_confidence","pattern_type"],volume_spike:["volume_ratio","current_volume","average_volume"],account_balance:["account_balance","available_balance","margin_used"]}[t]||["current_value"]}const $t=t=>t.toUpperCase();function _l(t,e,l){let{onClose:a=()=>{}}=e,{onSuccess:r=()=>{}}=e,{template:o=null}=e;const n={price:[{value:"price_above",label:"Price Above"},{value:"price_below",label:"Price Below"},{value:"price_change_percent",label:"Price Change %"}],performance:[{value:"daily_pnl",label:"Daily P&L"},{value:"weekly_pnl",label:"Weekly P&L"},{value:"win_rate",label:"Win Rate"},{value:"loss_streak",label:"Loss Streak"},{value:"win_streak",label:"Win Streak"}],risk:[{value:"drawdown",label:"Drawdown"},{value:"position_size",label:"Position Size"},{value:"exposure_limit",label:"Exposure Limit"}],pattern:[{value:"pattern_detected",label:"Pattern Detected"},{value:"strategy_signal",label:"Strategy Signal"}],market:[{value:"volume_spike",label:"Volume Spike"},{value:"volatility",label:"Volatility"},{value:"news_sentiment",label:"News Sentiment"}],account:[{value:"margin_call",label:"Margin Call"},{value:"account_balance",label:"Account Balance"},{value:"trade_execution",label:"Trade Execution"}]};let u="",i="",h="price",E="price_above",g=[{field:"current_price",operator:"gt",value:""}],k={email:!0,in_app:!0,sms:!1,webhook:!1},v="medium",A="",V="",T=60,L=null,B=null,$="",P=!1,j=null,M=1;if(o){u=o.name,i=o.description||"",E=o.type,g=o.default_conditions,v=o.default_priority,k={email:o.default_channels.includes("email"),in_app:o.default_channels.includes("in_app"),sms:o.default_channels.includes("sms"),webhook:o.default_channels.includes("webhook")};for(const[W,X]of Object.entries(n))if(X.some(te=>te.value===E)){h=W;break}}function N(){l(3,g=[...g,{field:"",operator:"gt",value:""}])}function R(W){l(3,g=g.filter((X,te)=>te!==W))}async function I(){if(!u||g.length===0){l(16,j="Please fill in all required fields");return}l(15,P=!0),l(16,j=null);try{const W=Object.entries(k).filter(([te,Ie])=>Ie).map(([te,Ie])=>te);if(W.length===0)throw new Error("Select at least one notification channel");const X={name:u,description:i||null,type:E,conditions:g.filter(te=>te.field&&te.value!==""),channels:W,priority:v,symbols:A?A.split(",").map(te=>te.trim()):null,strategies:V?V.split(",").map(te=>te.trim()):null,cooldown_minutes:T,max_triggers_per_day:L||null,expires_at:B||null,webhook_url:k.webhook?$:null};await Qe.post("/alerts/create",X),r(),a()}catch(W){l(16,j=W.message||"Failed to create alert")}finally{l(15,P=!1)}}function O(){if(M===1&&!u){l(16,j="Please enter an alert name");return}l(16,j=null),l(17,M++,M)}function x(){l(16,j=null),l(17,M--,M)}function S(){u=this.value,l(4,u)}function q(){i=this.value,l(5,i)}const D=W=>{l(6,h=W),l(2,E=n[W][0].value)};function w(){E=ut(this),l(2,E),l(18,n),l(6,h)}function b(W,X){W[X].field=ut(this),l(3,g),l(2,E),l(2,E)}function m(W,X){W[X].operator=ut(this),l(3,g),l(2,E),l(2,E)}function z(W,X){W[X].value=this.value,l(3,g),l(2,E),l(2,E)}const G=W=>R(W);function J(){A=this.value,l(9,A)}function Q(){V=this.value,l(10,V)}function Y(){k.email=this.checked,l(7,k)}function F(){k.in_app=this.checked,l(7,k)}function U(){k.sms=this.checked,l(7,k)}function H(){k.webhook=this.checked,l(7,k)}function ae(){$=this.value,l(14,$)}function ee(){v=ut(this),l(8,v)}function se(){T=dt(this.value),l(11,T)}function me(){L=dt(this.value),l(12,L)}function ge(){B=this.value,l(13,B)}return t.$$set=W=>{"onClose"in W&&l(0,a=W.onClose),"onSuccess"in W&&l(24,r=W.onSuccess),"template"in W&&l(1,o=W.template)},t.$$.update=()=>{if(t.$$.dirty[0]&12&&g.length>0&&!g[0].field){const W=pt(E);l(3,g[0].field=W[0],g)}},[a,o,E,g,u,i,h,k,v,A,V,T,L,B,$,P,j,M,n,N,R,I,O,x,r,S,q,D,w,b,m,z,G,J,Q,Y,F,U,H,ae,ee,se,me,ge]}class pl extends rl{constructor(e){super(),il(this,e,_l,hl,ol,{onClose:0,onSuccess:24,template:1},null,[-1,-1])}}function Mt(t,e,l){const a=t.slice();return a[32]=e[l],a}function qt(t,e,l){const a=t.slice();return a[35]=e[l][0],a[36]=e[l][1],a}function Ht(t,e,l){const a=t.slice();return a[39]=e[l],a}function Ft(t,e,l){const a=t.slice();return a[42]=e[l],a}function Wt(t,e,l){const a=t.slice();return a[35]=e[l],a}function Rt(t){let e,l,a,r="Active Alerts",o,n,u=t[2].active_alerts+"",i,h,E,g,k=t[2].alert_limit+"",v,A,V,T,L="Total Triggers",B,$,P=t[2].total_triggers+"",j,M,N,R,I="Last 24h",O,x,S=t[2].triggers_24h+"",q,D,w,b,m="Last 7d",z,G,J=t[2].triggers_7d+"",Q;return{c(){e=d("div"),l=d("div"),a=d("div"),a.textContent=r,o=C(),n=d("div"),i=oe(u),h=C(),E=d("span"),g=oe("/ "),v=oe(k),A=C(),V=d("div"),T=d("div"),T.textContent=L,B=C(),$=d("div"),j=oe(P),M=C(),N=d("div"),R=d("div"),R.textContent=I,O=C(),x=d("div"),q=oe(S),D=C(),w=d("div"),b=d("div"),b.textContent=m,z=C(),G=d("div"),Q=oe(J),this.h()},l(Y){e=f(Y,"DIV",{class:!0});var F=p(e);l=f(F,"DIV",{class:!0});var U=p(l);a=f(U,"DIV",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-12axem"&&(a.textContent=r),o=y(U),n=f(U,"DIV",{class:!0});var H=p(n);i=ie(H,u),h=y(H),E=f(H,"SPAN",{class:!0});var ae=p(E);g=ie(ae,"/ "),v=ie(ae,k),ae.forEach(_),H.forEach(_),U.forEach(_),A=y(F),V=f(F,"DIV",{class:!0});var ee=p(V);T=f(ee,"DIV",{class:!0,"data-svelte-h":!0}),Z(T)!=="svelte-1d81aro"&&(T.textContent=L),B=y(ee),$=f(ee,"DIV",{class:!0});var se=p($);j=ie(se,P),se.forEach(_),ee.forEach(_),M=y(F),N=f(F,"DIV",{class:!0});var me=p(N);R=f(me,"DIV",{class:!0,"data-svelte-h":!0}),Z(R)!=="svelte-19d24qr"&&(R.textContent=I),O=y(me),x=f(me,"DIV",{class:!0});var ge=p(x);q=ie(ge,S),ge.forEach(_),me.forEach(_),D=y(F),w=f(F,"DIV",{class:!0});var W=p(w);b=f(W,"DIV",{class:!0,"data-svelte-h":!0}),Z(b)!=="svelte-mattk8"&&(b.textContent=m),z=y(W),G=f(W,"DIV",{class:!0});var X=p(G);Q=ie(X,J),X.forEach(_),W.forEach(_),F.forEach(_),this.h()},h(){c(a,"class","text-sm text-gray-600"),c(E,"class","text-sm text-gray-500"),c(n,"class","mt-1 text-2xl font-semibold text-gray-900"),c(l,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-4"),c(T,"class","text-sm text-gray-600"),c($,"class","mt-1 text-2xl font-semibold text-gray-900"),c(V,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-4"),c(R,"class","text-sm text-gray-600"),c(x,"class","mt-1 text-2xl font-semibold text-gray-900"),c(N,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-4"),c(b,"class","text-sm text-gray-600"),c(G,"class","mt-1 text-2xl font-semibold text-gray-900"),c(w,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-4"),c(e,"class","mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4")},m(Y,F){ue(Y,e,F),s(e,l),s(l,a),s(l,o),s(l,n),s(n,i),s(n,h),s(n,E),s(E,g),s(E,v),s(e,A),s(e,V),s(V,T),s(V,B),s(V,$),s($,j),s(e,M),s(e,N),s(N,R),s(N,O),s(N,x),s(x,q),s(e,D),s(e,w),s(w,b),s(w,z),s(w,G),s(G,Q)},p(Y,F){F[0]&4&&u!==(u=Y[2].active_alerts+"")&&pe(i,u),F[0]&4&&k!==(k=Y[2].alert_limit+"")&&pe(v,k),F[0]&4&&P!==(P=Y[2].total_triggers+"")&&pe(j,P),F[0]&4&&S!==(S=Y[2].triggers_24h+"")&&pe(q,S),F[0]&4&&J!==(J=Y[2].triggers_7d+"")&&pe(Q,J)},d(Y){Y&&_(e)}}}function vl(t){let e,l,a,r,o=t[6]==="alerts"&&Gt(t),n=t[6]==="templates"&&Qt(t),u=t[6]==="history"&&el(t);return{c(){o&&o.c(),e=C(),n&&n.c(),l=C(),u&&u.c(),a=rt()},l(i){o&&o.l(i),e=y(i),n&&n.l(i),l=y(i),u&&u.l(i),a=rt()},m(i,h){o&&o.m(i,h),ue(i,e,h),n&&n.m(i,h),ue(i,l,h),u&&u.m(i,h),ue(i,a,h),r=!0},p(i,h){i[6]==="alerts"?o?(o.p(i,h),h[0]&64&&K(o,1)):(o=Gt(i),o.c(),K(o,1),o.m(e.parentNode,e)):o&&(Me(),le(o,1,1,()=>{o=null}),qe()),i[6]==="templates"?n?n.p(i,h):(n=Qt(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null),i[6]==="history"?u?(u.p(i,h),h[0]&64&&K(u,1)):(u=el(i),u.c(),K(u,1),u.m(a.parentNode,a)):u&&(Me(),le(u,1,1,()=>{u=null}),qe())},i(i){r||(K(o),K(u),r=!0)},o(i){le(o),le(u),r=!1},d(i){i&&(_(e),_(l),_(a)),o&&o.d(i),n&&n.d(i),u&&u.d(i)}}}function ml(t){let e,l;return{c(){e=d("div"),l=oe(t[5]),this.h()},l(a){e=f(a,"DIV",{class:!0});var r=p(e);l=ie(r,t[5]),r.forEach(_),this.h()},h(){c(e,"class","alert alert-error svelte-1t7wpul")},m(a,r){ue(a,e,r),s(e,l)},p(a,r){r[0]&32&&pe(l,a[5])},i:st,o:st,d(a){a&&_(e)}}}function gl(t){let e,l='<div class="spinner svelte-1t7wpul"></div>';return{c(){e=d("div"),e.innerHTML=l,this.h()},l(a){e=f(a,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-em5o00"&&(e.innerHTML=l),this.h()},h(){c(e,"class","flex justify-center py-12")},m(a,r){ue(a,e,r)},p:st,i:st,o:st,d(a){a&&_(e)}}}function Gt(t){let e,l,a,r;const o=[kl,bl],n=[];function u(i,h){return i[0].length===0?0:1}return e=u(t),l=n[e]=o[e](t),{c(){l.c(),a=rt()},l(i){l.l(i),a=rt()},m(i,h){n[e].m(i,h),ue(i,a,h),r=!0},p(i,h){let E=e;e=u(i),e===E?n[e].p(i,h):(Me(),le(n[E],1,1,()=>{n[E]=null}),qe(),l=n[e],l?l.p(i,h):(l=n[e]=o[e](i),l.c()),K(l,1),l.m(a.parentNode,a))},i(i){r||(K(l),r=!0)},o(i){le(l),r=!1},d(i){i&&_(a),n[e].d(i)}}}function bl(t){let e,l,a=Ve(t[0]),r=[];for(let n=0;n<a.length;n+=1)r[n]=Xt(Ft(t,a,n));const o=n=>le(r[n],1,1,()=>{r[n]=null});return{c(){e=d("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=f(n,"DIV",{class:!0});var u=p(e);for(let i=0;i<r.length;i+=1)r[i].l(u);u.forEach(_),this.h()},h(){c(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(n,u){ue(n,e,u);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null);l=!0},p(n,u){if(u[0]&382977){a=Ve(n[0]);let i;for(i=0;i<a.length;i+=1){const h=Ft(n,a,i);r[i]?(r[i].p(h,u),K(r[i],1)):(r[i]=Xt(h),r[i].c(),K(r[i],1),r[i].m(e,null))}for(Me(),i=a.length;i<r.length;i+=1)o(i);qe()}},i(n){if(!l){for(let u=0;u<a.length;u+=1)K(r[u]);l=!0}},o(n){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)le(r[u]);l=!1},d(n){n&&_(e),Ke(r,n)}}}function kl(t){let e,l,a,r,o="No alerts yet",n,u,i="Create your first alert to get started",h,E,g="Browse Templates",k,v,A;return l=new Oe({props:{name:"bell-off",class:"w-16 h-16 text-gray-400 mx-auto mb-4"}}),{c(){e=d("div"),Pe(l.$$.fragment),a=C(),r=d("h3"),r.textContent=o,n=C(),u=d("p"),u.textContent=i,h=C(),E=d("button"),E.textContent=g,this.h()},l(V){e=f(V,"DIV",{class:!0});var T=p(e);ze(l.$$.fragment,T),a=y(T),r=f(T,"H3",{class:!0,"data-svelte-h":!0}),Z(r)!=="svelte-netaxc"&&(r.textContent=o),n=y(T),u=f(T,"P",{class:!0,"data-svelte-h":!0}),Z(u)!=="svelte-1f96cbo"&&(u.textContent=i),h=y(T),E=f(T,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(E)!=="svelte-dgpkst"&&(E.textContent=g),T.forEach(_),this.h()},h(){c(r,"class","text-lg font-medium text-gray-900 mb-2"),c(u,"class","text-gray-600 mb-4"),c(E,"class","btn btn-primary svelte-1t7wpul"),c(e,"class","text-center py-12")},m(V,T){ue(V,e,T),Le(l,e,null),s(e,a),s(e,r),s(e,n),s(e,u),s(e,h),s(e,E),k=!0,v||(A=fe(E,"click",t[23]),v=!0)},p:st,i(V){k||(K(l.$$.fragment,V),k=!0)},o(V){le(l.$$.fragment,V),k=!1},d(V){V&&_(e),Ae(l),v=!1,A()}}}function Jt(t){let e,l=t[42].description+"",a;return{c(){e=d("p"),a=oe(l),this.h()},l(r){e=f(r,"P",{class:!0});var o=p(e);a=ie(o,l),o.forEach(_),this.h()},h(){c(e,"class","text-sm text-gray-600 mb-3")},m(r,o){ue(r,e,o),s(e,a)},p(r,o){o[0]&1&&l!==(l=r[42].description+"")&&pe(a,l)},d(r){r&&_(e)}}}function Yt(t){let e,l,a="Last:",r,o,n=new Date(t[42].last_triggered_at).toLocaleDateString()+"",u;return{c(){e=d("div"),l=d("span"),l.textContent=a,r=C(),o=d("span"),u=oe(n),this.h()},l(i){e=f(i,"DIV",{class:!0});var h=p(e);l=f(h,"SPAN",{class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-ihuk7o"&&(l.textContent=a),r=y(h),o=f(h,"SPAN",{class:!0});var E=p(o);u=ie(E,n),E.forEach(_),h.forEach(_),this.h()},h(){c(l,"class","text-gray-500"),c(o,"class","text-xs"),c(e,"class","flex items-center justify-between")},m(i,h){ue(i,e,h),s(e,l),s(e,r),s(e,o),s(o,u)},p(i,h){h[0]&1&&n!==(n=new Date(i[42].last_triggered_at).toLocaleDateString()+"")&&pe(u,n)},d(i){i&&_(e)}}}function Kt(t){let e,l;return e=new Oe({props:{name:t[35]==="email"?"mail":t[35]==="sms"?"message-square":t[35]==="in_app"?"bell":"link",class:"w-4 h-4 text-gray-400",title:t[35]}}),{c(){Pe(e.$$.fragment)},l(a){ze(e.$$.fragment,a)},m(a,r){Le(e,a,r),l=!0},p(a,r){const o={};r[0]&1&&(o.name=a[35]==="email"?"mail":a[35]==="sms"?"message-square":a[35]==="in_app"?"bell":"link"),r[0]&1&&(o.title=a[35]),e.$set(o)},i(a){l||(K(e.$$.fragment,a),l=!0)},o(a){le(e.$$.fragment,a),l=!1},d(a){Ae(e,a)}}}function Xt(t){let e,l,a,r,o,n,u,i=t[42].name+"",h,E,g,k=t[42].priority+"",v,A,V,T,L,B,$,P="Status:",j,M,N=t[42].status+"",R,I,O,x,S,q="Triggers:",D,w,b=t[42].trigger_count+"",m,z,G,J,Q,Y="Conditions:",F,U,H=ht(t[42].conditions)+"",ae,ee,se,me,ge,W,X,te,Ie,Ee,Ne,Te,je,Ue,we,be,Se,xe,$e,Be,et,We;o=new Oe({props:{name:nl(t[42].type),class:"w-5 h-5 text-gray-600 mr-2"}});let Ce=t[42].description&&Jt(t),De=t[42].last_triggered_at&&Yt(t),Re=Ve(t[42].channels),ne=[];for(let ce=0;ce<Re.length;ce+=1)ne[ce]=Kt(Wt(t,Re,ce));const _e=ce=>le(ne[ce],1,1,()=>{ne[ce]=null});te=new Oe({props:{name:t[42].status==="active"?"pause":"play",class:"w-5 h-5"}});function ke(){return t[24](t[42])}Te=new Oe({props:{name:"zap",class:"w-5 h-5"}});function nt(){return t[25](t[42])}we=new Oe({props:{name:"eye",class:"w-5 h-5"}});function Ge(){return t[26](t[42])}xe=new Oe({props:{name:"trash-2",class:"w-5 h-5"}});function tt(){return t[27](t[42])}return{c(){e=d("div"),l=d("div"),a=d("div"),r=d("div"),Pe(o.$$.fragment),n=C(),u=d("h3"),h=oe(i),E=C(),g=d("span"),v=oe(k),V=C(),Ce&&Ce.c(),T=C(),L=d("div"),B=d("div"),$=d("span"),$.textContent=P,j=C(),M=d("span"),R=oe(N),O=C(),x=d("div"),S=d("span"),S.textContent=q,D=C(),w=d("span"),m=oe(b),z=C(),De&&De.c(),G=C(),J=d("div"),Q=d("div"),Q.textContent=Y,F=C(),U=d("div"),ae=oe(H),ee=C(),se=d("div"),me=d("div");for(let ce=0;ce<ne.length;ce+=1)ne[ce].c();ge=C(),W=d("div"),X=d("button"),Pe(te.$$.fragment),Ee=C(),Ne=d("button"),Pe(Te.$$.fragment),je=C(),Ue=d("button"),Pe(we.$$.fragment),be=C(),Se=d("button"),Pe(xe.$$.fragment),$e=C(),this.h()},l(ce){e=f(ce,"DIV",{class:!0});var de=p(e);l=f(de,"DIV",{class:!0});var ye=p(l);a=f(ye,"DIV",{class:!0});var Fe=p(a);r=f(Fe,"DIV",{class:!0});var ve=p(r);ze(o.$$.fragment,ve),n=y(ve),u=f(ve,"H3",{class:!0});var Je=p(u);h=ie(Je,i),Je.forEach(_),ve.forEach(_),E=y(Fe),g=f(Fe,"SPAN",{class:!0});var lt=p(g);v=ie(lt,k),lt.forEach(_),Fe.forEach(_),V=y(ye),Ce&&Ce.l(ye),T=y(ye),L=f(ye,"DIV",{class:!0});var He=p(L);B=f(He,"DIV",{class:!0});var Ye=p(B);$=f(Ye,"SPAN",{class:!0,"data-svelte-h":!0}),Z($)!=="svelte-1ri7jtq"&&($.textContent=P),j=y(Ye),M=f(Ye,"SPAN",{class:!0});var vt=p(M);R=ie(vt,N),vt.forEach(_),Ye.forEach(_),O=y(He),x=f(He,"DIV",{class:!0});var it=p(x);S=f(it,"SPAN",{class:!0,"data-svelte-h":!0}),Z(S)!=="svelte-j5bzwd"&&(S.textContent=q),D=y(it),w=f(it,"SPAN",{class:!0});var mt=p(w);m=ie(mt,b),mt.forEach(_),it.forEach(_),z=y(He),De&&De.l(He),G=y(He),J=f(He,"DIV",{class:!0});var ot=p(J);Q=f(ot,"DIV",{class:!0,"data-svelte-h":!0}),Z(Q)!=="svelte-1tdz4vs"&&(Q.textContent=Y),F=y(ot),U=f(ot,"DIV",{class:!0});var gt=p(U);ae=ie(gt,H),gt.forEach(_),ot.forEach(_),He.forEach(_),ee=y(ye),se=f(ye,"DIV",{class:!0});var ct=p(se);me=f(ct,"DIV",{class:!0});var bt=p(me);for(let _t=0;_t<ne.length;_t+=1)ne[_t].l(bt);bt.forEach(_),ge=y(ct),W=f(ct,"DIV",{class:!0});var Xe=p(W);X=f(Xe,"BUTTON",{class:!0,title:!0});var kt=p(X);ze(te.$$.fragment,kt),kt.forEach(_),Ee=y(Xe),Ne=f(Xe,"BUTTON",{class:!0,title:!0});var wt=p(Ne);ze(Te.$$.fragment,wt),wt.forEach(_),je=y(Xe),Ue=f(Xe,"BUTTON",{class:!0,title:!0});var yt=p(Ue);ze(we.$$.fragment,yt),yt.forEach(_),be=y(Xe),Se=f(Xe,"BUTTON",{class:!0,title:!0});var Ct=p(Se);ze(xe.$$.fragment,Ct),Ct.forEach(_),Xe.forEach(_),ct.forEach(_),ye.forEach(_),$e=y(de),de.forEach(_),this.h()},h(){c(u,"class","font-semibold text-gray-900"),c(r,"class","flex items-center"),c(g,"class",A="px-2 py-1 text-xs rounded-full bg-"+t[12][t[42].priority]+"-100 text-"+t[12][t[42].priority]+"-800 svelte-1t7wpul"),c(a,"class","flex items-start justify-between mb-3"),c($,"class","text-gray-500"),c(M,"class",I="px-2 py-1 text-xs rounded-full bg-"+t[11][t[42].status]+"-100 text-"+t[11][t[42].status]+"-800 svelte-1t7wpul"),c(B,"class","flex items-center justify-between"),c(S,"class","text-gray-500"),c(w,"class","font-medium"),c(x,"class","flex items-center justify-between"),c(Q,"class","text-xs text-gray-500 mb-1"),c(U,"class","text-xs font-mono bg-gray-50 p-2 rounded"),c(J,"class","pt-2"),c(L,"class","space-y-2 text-sm"),c(me,"class","flex space-x-1"),c(X,"class","text-indigo-600 hover:text-indigo-700"),c(X,"title",Ie=t[42].status==="active"?"Disable":"Enable"),c(Ne,"class","text-green-600 hover:text-green-700"),c(Ne,"title","Test alert"),c(Ue,"class","text-gray-600 hover:text-gray-700"),c(Ue,"title","View details"),c(Se,"class","text-red-600 hover:text-red-700"),c(Se,"title","Delete"),c(W,"class","flex space-x-2"),c(se,"class","mt-4 flex items-center justify-between"),c(l,"class","p-4"),c(e,"class","bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden")},m(ce,de){ue(ce,e,de),s(e,l),s(l,a),s(a,r),Le(o,r,null),s(r,n),s(r,u),s(u,h),s(a,E),s(a,g),s(g,v),s(l,V),Ce&&Ce.m(l,null),s(l,T),s(l,L),s(L,B),s(B,$),s(B,j),s(B,M),s(M,R),s(L,O),s(L,x),s(x,S),s(x,D),s(x,w),s(w,m),s(L,z),De&&De.m(L,null),s(L,G),s(L,J),s(J,Q),s(J,F),s(J,U),s(U,ae),s(l,ee),s(l,se),s(se,me);for(let ye=0;ye<ne.length;ye+=1)ne[ye]&&ne[ye].m(me,null);s(se,ge),s(se,W),s(W,X),Le(te,X,null),s(W,Ee),s(W,Ne),Le(Te,Ne,null),s(W,je),s(W,Ue),Le(we,Ue,null),s(W,be),s(W,Se),Le(xe,Se,null),s(e,$e),Be=!0,et||(We=[fe(X,"click",ke),fe(Ne,"click",nt),fe(Ue,"click",Ge),fe(Se,"click",tt)],et=!0)},p(ce,de){t=ce;const ye={};if(de[0]&1&&(ye.name=nl(t[42].type)),o.$set(ye),(!Be||de[0]&1)&&i!==(i=t[42].name+"")&&pe(h,i),(!Be||de[0]&1)&&k!==(k=t[42].priority+"")&&pe(v,k),(!Be||de[0]&1&&A!==(A="px-2 py-1 text-xs rounded-full bg-"+t[12][t[42].priority]+"-100 text-"+t[12][t[42].priority]+"-800 svelte-1t7wpul"))&&c(g,"class",A),t[42].description?Ce?Ce.p(t,de):(Ce=Jt(t),Ce.c(),Ce.m(l,T)):Ce&&(Ce.d(1),Ce=null),(!Be||de[0]&1)&&N!==(N=t[42].status+"")&&pe(R,N),(!Be||de[0]&1&&I!==(I="px-2 py-1 text-xs rounded-full bg-"+t[11][t[42].status]+"-100 text-"+t[11][t[42].status]+"-800 svelte-1t7wpul"))&&c(M,"class",I),(!Be||de[0]&1)&&b!==(b=t[42].trigger_count+"")&&pe(m,b),t[42].last_triggered_at?De?De.p(t,de):(De=Yt(t),De.c(),De.m(L,G)):De&&(De.d(1),De=null),(!Be||de[0]&1)&&H!==(H=ht(t[42].conditions)+"")&&pe(ae,H),de[0]&1){Re=Ve(t[42].channels);let ve;for(ve=0;ve<Re.length;ve+=1){const Je=Wt(t,Re,ve);ne[ve]?(ne[ve].p(Je,de),K(ne[ve],1)):(ne[ve]=Kt(Je),ne[ve].c(),K(ne[ve],1),ne[ve].m(me,null))}for(Me(),ve=Re.length;ve<ne.length;ve+=1)_e(ve);qe()}const Fe={};de[0]&1&&(Fe.name=t[42].status==="active"?"pause":"play"),te.$set(Fe),(!Be||de[0]&1&&Ie!==(Ie=t[42].status==="active"?"Disable":"Enable"))&&c(X,"title",Ie)},i(ce){if(!Be){K(o.$$.fragment,ce);for(let de=0;de<Re.length;de+=1)K(ne[de]);K(te.$$.fragment,ce),K(Te.$$.fragment,ce),K(we.$$.fragment,ce),K(xe.$$.fragment,ce),Be=!0}},o(ce){le(o.$$.fragment,ce),ne=ne.filter(Boolean);for(let de=0;de<ne.length;de+=1)le(ne[de]);le(te.$$.fragment,ce),le(Te.$$.fragment,ce),le(we.$$.fragment,ce),le(xe.$$.fragment,ce),Be=!1},d(ce){ce&&_(e),Ae(o),Ce&&Ce.d(),De&&De.d(),Ke(ne,ce),Ae(te),Ae(Te),Ae(we),Ae(xe),et=!1,at(We)}}}function Qt(t){let e,l=Ve(t[1]),a=[];for(let r=0;r<l.length;r+=1)a[r]=Zt(Ht(t,l,r));return{c(){e=d("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=f(r,"DIV",{class:!0});var o=p(e);for(let n=0;n<a.length;n+=1)a[n].l(o);o.forEach(_),this.h()},h(){c(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(r,o){ue(r,e,o);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(e,null)},p(r,o){if(o[0]&131074){l=Ve(r[1]);let n;for(n=0;n<l.length;n+=1){const u=Ht(r,l,n);a[n]?a[n].p(u,o):(a[n]=Zt(u),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=l.length}},d(r){r&&_(e),Ke(a,r)}}}function Zt(t){let e,l,a,r=t[39].name+"",o,n,u,i=t[39].category+"",h,E,g,k=t[39].description+"",v,A,V,T,L,B=ht(t[39].default_conditions)+"",$,P,j,M="Use Template",N,R,I;function O(){return t[28](t[39])}return{c(){e=d("div"),l=d("div"),a=d("h3"),o=oe(r),n=C(),u=d("span"),h=oe(i),E=C(),g=d("p"),v=oe(k),A=C(),V=d("div"),T=oe(`Default conditions:
                            `),L=d("div"),$=oe(B),P=C(),j=d("button"),j.textContent=M,N=C(),this.h()},l(x){e=f(x,"DIV",{class:!0});var S=p(e);l=f(S,"DIV",{class:!0});var q=p(l);a=f(q,"H3",{class:!0});var D=p(a);o=ie(D,r),D.forEach(_),n=y(q),u=f(q,"SPAN",{class:!0});var w=p(u);h=ie(w,i),w.forEach(_),q.forEach(_),E=y(S),g=f(S,"P",{class:!0});var b=p(g);v=ie(b,k),b.forEach(_),A=y(S),V=f(S,"DIV",{class:!0});var m=p(V);T=ie(m,`Default conditions:
                            `),L=f(m,"DIV",{class:!0});var z=p(L);$=ie(z,B),z.forEach(_),m.forEach(_),P=y(S),j=f(S,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(j)!=="svelte-ozgf5a"&&(j.textContent=M),N=y(S),S.forEach(_),this.h()},h(){c(a,"class","font-semibold text-gray-900"),c(u,"class","px-2 py-1 text-xs rounded-full bg-indigo-100 text-indigo-800"),c(l,"class","flex items-start justify-between mb-3"),c(g,"class","text-sm text-gray-600 mb-3"),c(L,"class","mt-1 font-mono bg-gray-50 p-2 rounded"),c(V,"class","text-xs text-gray-500 mb-3"),c(j,"class","btn btn-sm btn-primary w-full svelte-1t7wpul"),c(e,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-4")},m(x,S){ue(x,e,S),s(e,l),s(l,a),s(a,o),s(l,n),s(l,u),s(u,h),s(e,E),s(e,g),s(g,v),s(e,A),s(e,V),s(V,T),s(V,L),s(L,$),s(e,P),s(e,j),s(e,N),R||(I=fe(j,"click",O),R=!0)},p(x,S){t=x,S[0]&2&&r!==(r=t[39].name+"")&&pe(o,r),S[0]&2&&i!==(i=t[39].category+"")&&pe(h,i),S[0]&2&&k!==(k=t[39].description+"")&&pe(v,k),S[0]&2&&B!==(B=ht(t[39].default_conditions)+"")&&pe($,B)},d(x){x&&_(e),R=!1,I()}}}function el(t){let e,l,a,r='<tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Alert</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Triggered</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Channels</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th></tr>',o,n,u,i=Ve(t[3]),h=[];for(let g=0;g<i.length;g+=1)h[g]=ll(Mt(t,i,g));const E=g=>le(h[g],1,1,()=>{h[g]=null});return{c(){e=d("div"),l=d("table"),a=d("thead"),a.innerHTML=r,o=C(),n=d("tbody");for(let g=0;g<h.length;g+=1)h[g].c();this.h()},l(g){e=f(g,"DIV",{class:!0});var k=p(e);l=f(k,"TABLE",{class:!0});var v=p(l);a=f(v,"THEAD",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-gbu1j1"&&(a.innerHTML=r),o=y(v),n=f(v,"TBODY",{class:!0});var A=p(n);for(let V=0;V<h.length;V+=1)h[V].l(A);A.forEach(_),v.forEach(_),k.forEach(_),this.h()},h(){c(a,"class","bg-gray-50"),c(n,"class","bg-white divide-y divide-gray-200"),c(l,"class","min-w-full divide-y divide-gray-200"),c(e,"class","bg-white rounded-lg shadow-sm border border-gray-200")},m(g,k){ue(g,e,k),s(e,l),s(l,a),s(l,o),s(l,n);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(n,null);u=!0},p(g,k){if(k[0]&8){i=Ve(g[3]);let v;for(v=0;v<i.length;v+=1){const A=Mt(g,i,v);h[v]?(h[v].p(A,k),K(h[v],1)):(h[v]=ll(A),h[v].c(),K(h[v],1),h[v].m(n,null))}for(Me(),v=i.length;v<h.length;v+=1)E(v);qe()}},i(g){if(!u){for(let k=0;k<i.length;k+=1)K(h[k]);u=!0}},o(g){h=h.filter(Boolean);for(let k=0;k<h.length;k+=1)le(h[k]);u=!1},d(g){g&&_(e),Ke(h,g)}}}function tl(t){let e,l,a,r=t[35]+"",o,n,u;return l=new Oe({props:{name:t[36]==="success"?"check-circle":"x-circle",class:"w-4 h-4 mr-1 text-"+(t[36]==="success"?"green":"red")+"-500"}}),{c(){e=d("span"),Pe(l.$$.fragment),a=C(),o=oe(r),n=C(),this.h()},l(i){e=f(i,"SPAN",{class:!0});var h=p(e);ze(l.$$.fragment,h),a=y(h),o=ie(h,r),n=y(h),h.forEach(_),this.h()},h(){c(e,"class","inline-flex items-center text-xs")},m(i,h){ue(i,e,h),Le(l,e,null),s(e,a),s(e,o),s(e,n),u=!0},p(i,h){const E={};h[0]&8&&(E.name=i[36]==="success"?"check-circle":"x-circle"),h[0]&8&&(E.class="w-4 h-4 mr-1 text-"+(i[36]==="success"?"green":"red")+"-500"),l.$set(E),(!u||h[0]&8)&&r!==(r=i[35]+"")&&pe(o,r)},i(i){u||(K(l.$$.fragment,i),u=!0)},o(i){le(l.$$.fragment,i),u=!1},d(i){i&&_(e),Ae(l)}}}function ll(t){let e,l,a=t[32].alert_name+"",r,o,n,u=t[32].alert_type.replace(/_/g," ")+"",i,h,E,g=new Date(t[32].triggered_at).toLocaleString()+"",k,v,A,V=t[32].channels_notified.join(", ")+"",T,L,B,$,P,j,M=Ve(Object.entries(t[32].notification_status)),N=[];for(let I=0;I<M.length;I+=1)N[I]=tl(qt(t,M,I));const R=I=>le(N[I],1,1,()=>{N[I]=null});return{c(){e=d("tr"),l=d("td"),r=oe(a),o=C(),n=d("td"),i=oe(u),h=C(),E=d("td"),k=oe(g),v=C(),A=d("td"),T=oe(V),L=C(),B=d("td"),$=d("div");for(let I=0;I<N.length;I+=1)N[I].c();P=C(),this.h()},l(I){e=f(I,"TR",{});var O=p(e);l=f(O,"TD",{class:!0});var x=p(l);r=ie(x,a),x.forEach(_),o=y(O),n=f(O,"TD",{class:!0});var S=p(n);i=ie(S,u),S.forEach(_),h=y(O),E=f(O,"TD",{class:!0});var q=p(E);k=ie(q,g),q.forEach(_),v=y(O),A=f(O,"TD",{class:!0});var D=p(A);T=ie(D,V),D.forEach(_),L=y(O),B=f(O,"TD",{class:!0});var w=p(B);$=f(w,"DIV",{class:!0});var b=p($);for(let m=0;m<N.length;m+=1)N[m].l(b);b.forEach(_),w.forEach(_),P=y(O),O.forEach(_),this.h()},h(){c(l,"class","px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"),c(n,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-500"),c(E,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-500"),c(A,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-500"),c($,"class","flex space-x-2"),c(B,"class","px-6 py-4 whitespace-nowrap text-sm")},m(I,O){ue(I,e,O),s(e,l),s(l,r),s(e,o),s(e,n),s(n,i),s(e,h),s(e,E),s(E,k),s(e,v),s(e,A),s(A,T),s(e,L),s(e,B),s(B,$);for(let x=0;x<N.length;x+=1)N[x]&&N[x].m($,null);s(e,P),j=!0},p(I,O){if((!j||O[0]&8)&&a!==(a=I[32].alert_name+"")&&pe(r,a),(!j||O[0]&8)&&u!==(u=I[32].alert_type.replace(/_/g," ")+"")&&pe(i,u),(!j||O[0]&8)&&g!==(g=new Date(I[32].triggered_at).toLocaleString()+"")&&pe(k,g),(!j||O[0]&8)&&V!==(V=I[32].channels_notified.join(", ")+"")&&pe(T,V),O[0]&8){M=Ve(Object.entries(I[32].notification_status));let x;for(x=0;x<M.length;x+=1){const S=qt(I,M,x);N[x]?(N[x].p(S,O),K(N[x],1)):(N[x]=tl(S),N[x].c(),K(N[x],1),N[x].m($,null))}for(Me(),x=M.length;x<N.length;x+=1)R(x);qe()}},i(I){if(!j){for(let O=0;O<M.length;O+=1)K(N[O]);j=!0}},o(I){N=N.filter(Boolean);for(let O=0;O<N.length;O+=1)le(N[O]);j=!1},d(I){I&&_(e),Ke(N,I)}}}function sl(t){let e,l;return e=new pl({props:{template:t[8],onClose:t[29],onSuccess:t[30]}}),{c(){Pe(e.$$.fragment)},l(a){ze(e.$$.fragment,a)},m(a,r){Le(e,a,r),l=!0},p(a,r){const o={};r[0]&256&&(o.template=a[8]),r[0]&384&&(o.onClose=a[29]),r[0]&128&&(o.onSuccess=a[30]),e.$set(o)},i(a){l||(K(e.$$.fragment,a),l=!0)},o(a){le(e.$$.fragment,a),l=!1},d(a){Ae(e,a)}}}function al(t){let e,l,a,r,o,n="Alert Details",u,i,h,E,g,k,v,A=JSON.stringify(t[9],null,2)+"",V,T,L,B,$;return h=new Oe({props:{name:"x",class:"w-6 h-6"}}),{c(){e=d("div"),l=d("div"),a=d("div"),r=d("div"),o=d("h2"),o.textContent=n,u=C(),i=d("button"),Pe(h.$$.fragment),E=C(),g=d("div"),k=d("pre"),v=oe(""),V=oe(A),T=oe(`
                `),this.h()},l(P){e=f(P,"DIV",{class:!0});var j=p(e);l=f(j,"DIV",{class:!0});var M=p(l);a=f(M,"DIV",{class:!0});var N=p(a);r=f(N,"DIV",{class:!0});var R=p(r);o=f(R,"H2",{class:!0,"data-svelte-h":!0}),Z(o)!=="svelte-p3wqin"&&(o.textContent=n),u=y(R),i=f(R,"BUTTON",{class:!0});var I=p(i);ze(h.$$.fragment,I),I.forEach(_),R.forEach(_),N.forEach(_),E=y(M),g=f(M,"DIV",{class:!0});var O=p(g);k=f(O,"PRE",{class:!0});var x=p(k);v=ie(x,""),V=ie(x,A),T=ie(x,`
                `),x.forEach(_),O.forEach(_),M.forEach(_),j.forEach(_),this.h()},h(){c(o,"class","text-xl font-bold text-gray-900"),c(i,"class","text-gray-500 hover:text-gray-700"),c(r,"class","flex items-center justify-between"),c(a,"class","p-6 border-b border-gray-200"),c(k,"class","text-sm bg-gray-50 p-4 rounded overflow-x-auto"),c(g,"class","p-6"),c(l,"class","bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"),c(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4")},m(P,j){ue(P,e,j),s(e,l),s(l,a),s(a,r),s(r,o),s(r,u),s(r,i),Le(h,i,null),s(l,E),s(l,g),s(g,k),s(k,v),s(k,V),s(k,T),L=!0,B||($=fe(i,"click",t[31]),B=!0)},p(P,j){(!L||j[0]&512)&&A!==(A=JSON.stringify(P[9],null,2)+"")&&pe(V,A)},i(P){L||(K(h.$$.fragment,P),L=!0)},o(P){le(h.$$.fragment,P),L=!1},d(P){P&&_(e),Ae(h),B=!1,$()}}}function wl(t){let e,l,a,r,o,n='<h1 class="text-3xl font-bold text-gray-900">Trading Alerts</h1> <p class="mt-2 text-gray-600">Stay informed with automated trading notifications</p>',u,i,h,E,g,k,v,A,V,T,L,B="My Alerts",$,P,j="Templates",M,N,R="History",I,O,x,S,q,D,w,b,m;h=new Oe({props:{name:"plus",class:"w-5 h-5 mr-2"}});let z=t[2]&&Rt(t);const G=[gl,ml,vl],J=[];function Q(U,H){return U[4]?0:U[5]?1:2}O=Q(t),x=J[O]=G[O](t);let Y=t[7]&&sl(t),F=t[10]&&t[9]&&al(t);return{c(){e=C(),l=d("div"),a=d("div"),r=d("div"),o=d("div"),o.innerHTML=n,u=C(),i=d("button"),Pe(h.$$.fragment),E=oe(`
                Create Alert`),k=C(),z&&z.c(),v=C(),A=d("div"),V=d("div"),T=d("nav"),L=d("button"),L.textContent=B,$=C(),P=d("button"),P.textContent=j,M=C(),N=d("button"),N.textContent=R,I=C(),x.c(),S=C(),Y&&Y.c(),q=C(),F&&F.c(),D=rt(),this.h()},l(U){cl("svelte-1jobyqg",document.head).forEach(_),e=y(U),l=f(U,"DIV",{class:!0});var ae=p(l);a=f(ae,"DIV",{class:!0});var ee=p(a);r=f(ee,"DIV",{class:!0});var se=p(r);o=f(se,"DIV",{"data-svelte-h":!0}),Z(o)!=="svelte-scs41f"&&(o.innerHTML=n),u=y(se),i=f(se,"BUTTON",{class:!0});var me=p(i);ze(h.$$.fragment,me),E=ie(me,`
                Create Alert`),me.forEach(_),se.forEach(_),k=y(ee),z&&z.l(ee),ee.forEach(_),v=y(ae),A=f(ae,"DIV",{class:!0});var ge=p(A);V=f(ge,"DIV",{class:!0});var W=p(V);T=f(W,"NAV",{class:!0});var X=p(T);L=f(X,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(L)!=="svelte-1ihnxy3"&&(L.textContent=B),$=y(X),P=f(X,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(P)!=="svelte-amvntd"&&(P.textContent=j),M=y(X),N=f(X,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(N)!=="svelte-15j2zrf"&&(N.textContent=R),X.forEach(_),W.forEach(_),ge.forEach(_),I=y(ae),x.l(ae),ae.forEach(_),S=y(U),Y&&Y.l(U),q=y(U),F&&F.l(U),D=rt(),this.h()},h(){document.title="Trading Alerts - TradeSense",c(i,"class","btn btn-primary svelte-1t7wpul"),i.disabled=g=t[2]&&t[2].alerts_remaining===0,c(r,"class","flex justify-between items-center"),c(a,"class","mb-8"),c(L,"class","py-2 px-1 border-b-2 font-medium text-sm"),re(L,"border-indigo-500",t[6]==="alerts"),re(L,"text-indigo-600",t[6]==="alerts"),re(L,"border-transparent",t[6]!=="alerts"),re(L,"text-gray-500",t[6]!=="alerts"),c(P,"class","py-2 px-1 border-b-2 font-medium text-sm"),re(P,"border-indigo-500",t[6]==="templates"),re(P,"text-indigo-600",t[6]==="templates"),re(P,"border-transparent",t[6]!=="templates"),re(P,"text-gray-500",t[6]!=="templates"),c(N,"class","py-2 px-1 border-b-2 font-medium text-sm"),re(N,"border-indigo-500",t[6]==="history"),re(N,"text-indigo-600",t[6]==="history"),re(N,"border-transparent",t[6]!=="history"),re(N,"text-gray-500",t[6]!=="history"),c(T,"class","-mb-px flex space-x-8"),c(V,"class","border-b border-gray-200"),c(A,"class","mb-6"),c(l,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8")},m(U,H){ue(U,e,H),ue(U,l,H),s(l,a),s(a,r),s(r,o),s(r,u),s(r,i),Le(h,i,null),s(i,E),s(a,k),z&&z.m(a,null),s(l,v),s(l,A),s(A,V),s(V,T),s(T,L),s(T,$),s(T,P),s(T,M),s(T,N),s(l,I),J[O].m(l,null),ue(U,S,H),Y&&Y.m(U,H),ue(U,q,H),F&&F.m(U,H),ue(U,D,H),w=!0,b||(m=[fe(i,"click",t[19]),fe(L,"click",t[20]),fe(P,"click",t[21]),fe(N,"click",t[22])],b=!0)},p(U,H){(!w||H[0]&4&&g!==(g=U[2]&&U[2].alerts_remaining===0))&&(i.disabled=g),U[2]?z?z.p(U,H):(z=Rt(U),z.c(),z.m(a,null)):z&&(z.d(1),z=null),(!w||H[0]&64)&&re(L,"border-indigo-500",U[6]==="alerts"),(!w||H[0]&64)&&re(L,"text-indigo-600",U[6]==="alerts"),(!w||H[0]&64)&&re(L,"border-transparent",U[6]!=="alerts"),(!w||H[0]&64)&&re(L,"text-gray-500",U[6]!=="alerts"),(!w||H[0]&64)&&re(P,"border-indigo-500",U[6]==="templates"),(!w||H[0]&64)&&re(P,"text-indigo-600",U[6]==="templates"),(!w||H[0]&64)&&re(P,"border-transparent",U[6]!=="templates"),(!w||H[0]&64)&&re(P,"text-gray-500",U[6]!=="templates"),(!w||H[0]&64)&&re(N,"border-indigo-500",U[6]==="history"),(!w||H[0]&64)&&re(N,"text-indigo-600",U[6]==="history"),(!w||H[0]&64)&&re(N,"border-transparent",U[6]!=="history"),(!w||H[0]&64)&&re(N,"text-gray-500",U[6]!=="history");let ae=O;O=Q(U),O===ae?J[O].p(U,H):(Me(),le(J[ae],1,1,()=>{J[ae]=null}),qe(),x=J[O],x?x.p(U,H):(x=J[O]=G[O](U),x.c()),K(x,1),x.m(l,null)),U[7]?Y?(Y.p(U,H),H[0]&128&&K(Y,1)):(Y=sl(U),Y.c(),K(Y,1),Y.m(q.parentNode,q)):Y&&(Me(),le(Y,1,1,()=>{Y=null}),qe()),U[10]&&U[9]?F?(F.p(U,H),H[0]&1536&&K(F,1)):(F=al(U),F.c(),K(F,1),F.m(D.parentNode,D)):F&&(Me(),le(F,1,1,()=>{F=null}),qe())},i(U){w||(K(h.$$.fragment,U),K(x),K(Y),K(F),w=!0)},o(U){le(h.$$.fragment,U),le(x),le(Y),le(F),w=!1},d(U){U&&(_(e),_(l),_(S),_(q),_(D)),Ae(h),z&&z.d(),J[O].d(),Y&&Y.d(U),F&&F.d(U),b=!1,at(m)}}}function ht(t){return t.map(e=>{const l=e.field.replace(/_/g," "),a={gt:">",gte:"",lt:"<",lte:"",eq:"="}[e.operator]||e.operator;return`${l} ${a} ${e.value}`}).join(" AND ")}function nl(t){return{price_above:"trending-up",price_below:"trending-down",daily_pnl:"dollar-sign",win_rate:"award",loss_streak:"alert-triangle",drawdown:"activity",pattern_detected:"compass",account_balance:"credit-card"}[t]||"bell"}function yl(t){console.log("Alert triggered:",t)}function Cl(t,e,l){let a=[],r=[],o=null,n=[],u=!0,i=null,h="alerts",E=!1,g=null,k=null,v=!1;const A={active:"green",triggered:"blue",snoozed:"yellow",disabled:"gray",expired:"red"},V={low:"gray",medium:"yellow",high:"orange",critical:"red"};async function T(){try{if(l(4,u=!0),l(5,i=null),h==="alerts"){const[G,J]=await Promise.all([Qe.get("/alerts/list"),Qe.get("/alerts/stats/overview")]);l(0,a=G.alerts),l(2,o=J.stats)}else h==="templates"?l(1,r=(await Qe.get("/alerts/templates/list")).templates):h==="history"&&l(3,n=(await Qe.get("/alerts/history/list")).history)}catch(G){l(5,i=G.message||"Failed to load alerts data")}finally{l(4,u=!1)}}async function L(G,J){try{const Q=J!=="active";await Qe.post(`/alerts/${G}/toggle`,{enabled:Q}),await T()}catch(Q){alert(Q.message||"Failed to toggle alert")}}async function B(G){if(confirm("Delete this alert?"))try{await Qe.delete(`/alerts/${G}`),await T()}catch(J){alert(J.message||"Failed to delete alert")}}async function $(G){try{const J=await Qe.post(`/alerts/test/${G}`);alert(`Test alert sent to: ${J.channels.join(", ")}`)}catch(J){alert(J.message||"Failed to test alert")}}function P(G){l(8,g=G),l(7,E=!0)}function j(G){l(9,k=G),l(10,v=!0)}return ul(()=>{T();{const G=new WebSocket(`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`);return G.onmessage=J=>{const Q=JSON.parse(J.data);Q.type==="notification"&&Q.data.type==="alert"&&(yl(Q.data),h==="alerts"&&T())},()=>{G.close()}}}),[a,r,o,n,u,i,h,E,g,k,v,A,V,T,L,B,$,P,j,()=>{l(8,g=null),l(7,E=!0)},()=>{l(6,h="alerts"),T()},()=>{l(6,h="templates"),T()},()=>{l(6,h="history"),T()},()=>{l(6,h="templates"),T()},G=>L(G.id,G.status),G=>$(G.id),G=>j(G),G=>B(G.id),G=>P(G),()=>{l(7,E=!1),l(8,g=null)},()=>{l(7,E=!1),T()},()=>{l(10,v=!1),l(9,k=null)}]}class Vl extends rl{constructor(e){super(),il(this,e,Cl,wl,ol,{},null,[-1,-1])}}export{Vl as component};
