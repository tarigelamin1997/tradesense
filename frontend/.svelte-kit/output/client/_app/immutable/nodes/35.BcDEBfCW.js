import{S as lt,i as st,s as at,d,t as pe,a as de,I as De,f as W,D as h,k as c,l as b,o as E,M as Ue,q as u,r as D,w as nt,n as ye,m as R,e as ue,h as a,p as ee,v as te,H as Ne,J as Ie,N as rt,P as Le,O as he,G as me,U as it,V as ot,y as Xe,z as Qe,A as Ze,B as $e,j as Pe}from"../chunks/Lbc7qOuA.js";import{e as Ce}from"../chunks/BPb2qfkA.js";import"../chunks/IHki7fMi.js";import{b as xe}from"../chunks/Bt-Xh7oU.js";import"../chunks/BFH-i71J.js";import{a as _e}from"../chunks/BfkaMl9e.js";import{a as ct}from"../chunks/CkRdUkUX.js";import{I as et}from"../chunks/B3HFKiyR.js";import{a as we}from"../chunks/CIEvLa4f.js";function Me(l,e,t){const s=l.slice();return s[19]=e[t],s}function je(l,e,t){const s=l.slice();return s[22]=e[t],s}function Be(l,e,t){const s=l.slice();return s[22]=e[t],s}function ut(l){let e,t,s="Current Subscription",n,r,i,o,v="Plan",m,f,p=l[0].plan+"",k,A,T,Q="Status",Y,N,O,G,se,g,z=l[0].status+"",q,re,H,ie,j,V,X="Features",y,P,U,ae,x,w,L,M="Available Plans",J,ne,ce,Z=l[0].current_period_end&&Fe(l),B=l[0].cancel_at_period_end&&ze(l),oe=Ce(l[0].features),S=[];for(let _=0;_<oe.length;_+=1)S[_]=He(Be(l,oe,_));const ge=_=>pe(S[_],1,1,()=>{S[_]=null});let $=l[0].plan!=="free"&&qe(l),K=l[2]&&Re(l),fe=Ce(l[1]),F=[];for(let _=0;_<fe.length;_+=1)F[_]=Je(Me(l,fe,_));const tt=_=>pe(F[_],1,1,()=>{F[_]=null});return{c(){e=u("div"),t=u("h2"),t.textContent=s,n=D(),r=u("div"),i=u("div"),o=u("p"),o.textContent=v,m=D(),f=u("p"),k=te(p),A=D(),T=u("p"),T.textContent=Q,Y=D(),N=u("div"),O=u("span"),se=D(),g=u("span"),q=te(z),re=D(),Z&&Z.c(),H=D(),B&&B.c(),ie=D(),j=u("div"),V=u("p"),V.textContent=X,y=D(),P=u("ul");for(let _=0;_<S.length;_+=1)S[_].c();U=D(),$&&$.c(),ae=D(),K&&K.c(),x=D(),w=u("div"),L=u("h3"),L.textContent=M,J=D(),ne=u("div");for(let _=0;_<F.length;_+=1)F[_].c();this.h()},l(_){e=c(_,"DIV",{class:!0});var I=b(e);t=c(I,"H2",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-18x0181"&&(t.textContent=s),n=E(I),r=c(I,"DIV",{class:!0});var C=b(r);i=c(C,"DIV",{});var le=b(i);o=c(le,"P",{class:!0,"data-svelte-h":!0}),R(o)!=="svelte-10g49sk"&&(o.textContent=v),m=E(le),f=c(le,"P",{class:!0});var Se=b(f);k=ee(Se,p),Se.forEach(d),A=E(le),T=c(le,"P",{class:!0,"data-svelte-h":!0}),R(T)!=="svelte-muarh7"&&(T.textContent=Q),Y=E(le),N=c(le,"DIV",{class:!0});var ke=b(N);O=c(ke,"SPAN",{class:!0}),b(O).forEach(d),se=E(ke),g=c(ke,"SPAN",{class:!0});var Te=b(g);q=ee(Te,z),Te.forEach(d),ke.forEach(d),re=E(le),Z&&Z.l(le),H=E(le),B&&B.l(le),le.forEach(d),ie=E(C),j=c(C,"DIV",{});var be=b(j);V=c(be,"P",{class:!0,"data-svelte-h":!0}),R(V)!=="svelte-119h2gc"&&(V.textContent=X),y=E(be),P=c(be,"UL",{class:!0});var Ae=b(P);for(let ve=0;ve<S.length;ve+=1)S[ve].l(Ae);Ae.forEach(d),U=E(be),$&&$.l(be),be.forEach(d),C.forEach(d),I.forEach(d),ae=E(_),K&&K.l(_),x=E(_),w=c(_,"DIV",{});var Ee=b(w);L=c(Ee,"H3",{class:!0,"data-svelte-h":!0}),R(L)!=="svelte-1vgjvgu"&&(L.textContent=M),J=E(Ee),ne=c(Ee,"DIV",{class:!0});var Oe=b(ne);for(let ve=0;ve<F.length;ve+=1)F[ve].l(Oe);Oe.forEach(d),Ee.forEach(d),this.h()},h(){h(t,"class","text-2xl font-bold text-gray-900 mb-4"),h(o,"class","text-sm text-gray-600"),h(f,"class","text-xl font-semibold text-gray-900 capitalize"),h(T,"class","text-sm text-gray-600 mt-4"),h(O,"class",G="w-2 h-2 rounded-full mr-2 "+(l[0].status==="active"?"bg-green-400":l[0].status==="past_due"?"bg-yellow-400":"bg-gray-400")),h(g,"class","text-lg capitalize"),h(N,"class","flex items-center mt-1"),h(V,"class","text-sm text-gray-600"),h(P,"class","mt-2 space-y-2"),h(r,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),h(e,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8"),h(L,"class","text-xl font-bold text-gray-900 mb-6"),h(ne,"class","grid grid-cols-1 md:grid-cols-3 gap-6")},m(_,I){W(_,e,I),a(e,t),a(e,n),a(e,r),a(r,i),a(i,o),a(i,m),a(i,f),a(f,k),a(i,A),a(i,T),a(i,Y),a(i,N),a(N,O),a(N,se),a(N,g),a(g,q),a(i,re),Z&&Z.m(i,null),a(i,H),B&&B.m(i,null),a(r,ie),a(r,j),a(j,V),a(j,y),a(j,P);for(let C=0;C<S.length;C+=1)S[C]&&S[C].m(P,null);a(j,U),$&&$.m(j,null),W(_,ae,I),K&&K.m(_,I),W(_,x,I),W(_,w,I),a(w,L),a(w,J),a(w,ne);for(let C=0;C<F.length;C+=1)F[C]&&F[C].m(ne,null);ce=!0},p(_,I){if((!ce||I&1)&&p!==(p=_[0].plan+"")&&ue(k,p),(!ce||I&1&&G!==(G="w-2 h-2 rounded-full mr-2 "+(_[0].status==="active"?"bg-green-400":_[0].status==="past_due"?"bg-yellow-400":"bg-gray-400")))&&h(O,"class",G),(!ce||I&1)&&z!==(z=_[0].status+"")&&ue(q,z),_[0].current_period_end?Z?Z.p(_,I):(Z=Fe(_),Z.c(),Z.m(i,H)):Z&&(Z.d(1),Z=null),_[0].cancel_at_period_end?B?B.p(_,I):(B=ze(_),B.c(),B.m(i,null)):B&&(B.d(1),B=null),I&1){oe=Ce(_[0].features);let C;for(C=0;C<oe.length;C+=1){const le=Be(_,oe,C);S[C]?(S[C].p(le,I),de(S[C],1)):(S[C]=He(le),S[C].c(),de(S[C],1),S[C].m(P,null))}for(Ie(),C=oe.length;C<S.length;C+=1)ge(C);De()}if(_[0].plan!=="free"?$?$.p(_,I):($=qe(_),$.c(),$.m(j,null)):$&&($.d(1),$=null),_[2]?K?K.p(_,I):(K=Re(_),K.c(),K.m(x.parentNode,x)):K&&(K.d(1),K=null),I&259){fe=Ce(_[1]);let C;for(C=0;C<fe.length;C+=1){const le=Me(_,fe,C);F[C]?(F[C].p(le,I),de(F[C],1)):(F[C]=Je(le),F[C].c(),de(F[C],1),F[C].m(ne,null))}for(Ie(),C=fe.length;C<F.length;C+=1)tt(C);De()}},i(_){if(!ce){for(let I=0;I<oe.length;I+=1)de(S[I]);for(let I=0;I<fe.length;I+=1)de(F[I]);ce=!0}},o(_){S=S.filter(Boolean);for(let I=0;I<S.length;I+=1)pe(S[I]);F=F.filter(Boolean);for(let I=0;I<F.length;I+=1)pe(F[I]);ce=!1},d(_){_&&(d(e),d(ae),d(x),d(w)),Z&&Z.d(),B&&B.d(),Ne(S,_),$&&$.d(),K&&K.d(_),Ne(F,_)}}}function dt(l){let e,t;return{c(){e=u("div"),t=te(l[4]),this.h()},l(s){e=c(s,"DIV",{class:!0});var n=b(e);t=ee(n,l[4]),n.forEach(d),this.h()},h(){h(e,"class","alert alert-error mb-6")},m(s,n){W(s,e,n),a(e,t)},p(s,n){n&16&&ue(t,s[4])},i:ye,o:ye,d(s){s&&d(e)}}}function ft(l){let e,t='<div class="spinner svelte-13if8lh"></div>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(s){e=c(s,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-em5o00"&&(e.innerHTML=t),this.h()},h(){h(e,"class","flex justify-center py-12")},m(s,n){W(s,e,n)},p:ye,i:ye,o:ye,d(s){s&&d(e)}}}function Fe(l){let e,t="Next billing date",s,n,r=Ve(l[0].current_period_end)+"",i;return{c(){e=u("p"),e.textContent=t,s=D(),n=u("p"),i=te(r),this.h()},l(o){e=c(o,"P",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-9xr1kb"&&(e.textContent=t),s=E(o),n=c(o,"P",{class:!0});var v=b(n);i=ee(v,r),v.forEach(d),this.h()},h(){h(e,"class","text-sm text-gray-600 mt-4"),h(n,"class","text-lg")},m(o,v){W(o,e,v),W(o,s,v),W(o,n,v),a(n,i)},p(o,v){v&1&&r!==(r=Ve(o[0].current_period_end)+"")&&ue(i,r)},d(o){o&&(d(e),d(s),d(n))}}}function ze(l){let e,t,s,n=Ve(l[0].current_period_end)+"",r,i,o,v="Reactivate subscription",m,f;return{c(){e=u("div"),t=u("p"),s=te("Your subscription will end on "),r=te(n),i=D(),o=u("button"),o.textContent=v,this.h()},l(p){e=c(p,"DIV",{class:!0});var k=b(e);t=c(k,"P",{class:!0});var A=b(t);s=ee(A,"Your subscription will end on "),r=ee(A,n),A.forEach(d),i=E(k),o=c(k,"BUTTON",{class:!0,"data-svelte-h":!0}),R(o)!=="svelte-sjz0re"&&(o.textContent=v),k.forEach(d),this.h()},h(){h(t,"class","text-sm text-yellow-800"),h(o,"class","text-sm font-medium text-yellow-800 hover:text-yellow-900 mt-1"),h(e,"class","mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md")},m(p,k){W(p,e,k),a(e,t),a(t,s),a(t,r),a(e,i),a(e,o),m||(f=me(o,"click",l[10]),m=!0)},p(p,k){k&1&&n!==(n=Ve(p[0].current_period_end)+"")&&ue(r,n)},d(p){p&&d(e),m=!1,f()}}}function He(l){let e,t,s,n,r=l[22]+"",i,o,v;return t=new et({props:{name:"check",class:"w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0"}}),{c(){e=u("li"),$e(t.$$.fragment),s=D(),n=u("span"),i=te(r),o=D(),this.h()},l(m){e=c(m,"LI",{class:!0});var f=b(e);Ze(t.$$.fragment,f),s=E(f),n=c(f,"SPAN",{class:!0});var p=b(n);i=ee(p,r),p.forEach(d),o=E(f),f.forEach(d),this.h()},h(){h(n,"class","text-sm text-gray-700"),h(e,"class","flex items-start")},m(m,f){W(m,e,f),Qe(t,e,null),a(e,s),a(e,n),a(n,i),a(e,o),v=!0},p(m,f){(!v||f&1)&&r!==(r=m[22]+"")&&ue(i,r)},i(m){v||(de(t.$$.fragment,m),v=!0)},o(m){pe(t.$$.fragment,m),v=!1},d(m){m&&d(e),Xe(t)}}}function qe(l){let e,t="Manage billing & payment methods â†’",s,n;return{c(){e=u("button"),e.textContent=t,this.h()},l(r){e=c(r,"BUTTON",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1ex3xkd"&&(e.textContent=t),this.h()},h(){h(e,"class","mt-4 text-sm text-indigo-600 hover:text-indigo-700 font-medium")},m(r,i){W(r,e,i),s||(n=me(e,"click",l[11]),s=!0)},p:ye,d(r){r&&d(e),s=!1,n()}}}function Re(l){let e,t,s="Current Usage",n,r,i,o,v,m="Trades This Month",f,p,k=l[2].usage.trades.unlimited?"Unlimited":`${l[2].usage.trades.current} / ${l[2].usage.trades.limit}`,A,T,Q,Y,N,O,G="API Calls Today",se,g,z=l[2].usage.api_calls.unlimited?"Unlimited":`${l[2].usage.api_calls.current} / ${l[2].usage.api_calls.limit}`,q,re;function H(P,U){return P[2].usage.trades.unlimited?pt:ht}let ie=H(l),j=ie(l);function V(P,U){return P[2].usage.api_calls.unlimited?_t:vt}let X=V(l),y=X(l);return{c(){e=u("div"),t=u("h3"),t.textContent=s,n=D(),r=u("div"),i=u("div"),o=u("div"),v=u("span"),v.textContent=m,f=D(),p=u("span"),A=te(k),T=D(),j.c(),Q=D(),Y=u("div"),N=u("div"),O=u("span"),O.textContent=G,se=D(),g=u("span"),q=te(z),re=D(),y.c(),this.h()},l(P){e=c(P,"DIV",{class:!0});var U=b(e);t=c(U,"H3",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-4cpjyi"&&(t.textContent=s),n=E(U),r=c(U,"DIV",{class:!0});var ae=b(r);i=c(ae,"DIV",{});var x=b(i);o=c(x,"DIV",{class:!0});var w=b(o);v=c(w,"SPAN",{class:!0,"data-svelte-h":!0}),R(v)!=="svelte-1yqb1jc"&&(v.textContent=m),f=E(w),p=c(w,"SPAN",{class:!0});var L=b(p);A=ee(L,k),L.forEach(d),w.forEach(d),T=E(x),j.l(x),x.forEach(d),Q=E(ae),Y=c(ae,"DIV",{});var M=b(Y);N=c(M,"DIV",{class:!0});var J=b(N);O=c(J,"SPAN",{class:!0,"data-svelte-h":!0}),R(O)!=="svelte-1trsadt"&&(O.textContent=G),se=E(J),g=c(J,"SPAN",{class:!0});var ne=b(g);q=ee(ne,z),ne.forEach(d),J.forEach(d),re=E(M),y.l(M),M.forEach(d),ae.forEach(d),U.forEach(d),this.h()},h(){h(t,"class","text-lg font-semibold text-gray-900 mb-4"),h(v,"class","text-sm font-medium text-gray-700"),h(p,"class","text-sm text-gray-600"),h(o,"class","flex justify-between items-baseline mb-2"),h(O,"class","text-sm font-medium text-gray-700"),h(g,"class","text-sm text-gray-600"),h(N,"class","flex justify-between items-baseline mb-2"),h(r,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),h(e,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8")},m(P,U){W(P,e,U),a(e,t),a(e,n),a(e,r),a(r,i),a(i,o),a(o,v),a(o,f),a(o,p),a(p,A),a(i,T),j.m(i,null),a(r,Q),a(r,Y),a(Y,N),a(N,O),a(N,se),a(N,g),a(g,q),a(Y,re),y.m(Y,null)},p(P,U){U&4&&k!==(k=P[2].usage.trades.unlimited?"Unlimited":`${P[2].usage.trades.current} / ${P[2].usage.trades.limit}`)&&ue(A,k),ie===(ie=H(P))&&j?j.p(P,U):(j.d(1),j=ie(P),j&&(j.c(),j.m(i,null))),U&4&&z!==(z=P[2].usage.api_calls.unlimited?"Unlimited":`${P[2].usage.api_calls.current} / ${P[2].usage.api_calls.limit}`)&&ue(q,z),X===(X=V(P))&&y?y.p(P,U):(y.d(1),y=X(P),y&&(y.c(),y.m(Y,null)))},d(P){P&&d(e),j.d(),y.d()}}}function pt(l){let e,t,s=l[0].plan+"",n,r;return{c(){e=u("div"),t=te("No limits on "),n=te(s),r=te(" plan"),this.h()},l(i){e=c(i,"DIV",{class:!0});var o=b(e);t=ee(o,"No limits on "),n=ee(o,s),r=ee(o," plan"),o.forEach(d),this.h()},h(){h(e,"class","text-xs text-gray-500")},m(i,o){W(i,e,o),a(e,t),a(e,n),a(e,r)},p(i,o){o&1&&s!==(s=i[0].plan+"")&&ue(n,s)},d(i){i&&d(e)}}}function ht(l){let e,t,s;return{c(){e=u("div"),t=u("div"),this.h()},l(n){e=c(n,"DIV",{class:!0});var r=b(e);t=c(r,"DIV",{class:!0,style:!0}),b(t).forEach(d),r.forEach(d),this.h()},h(){h(t,"class",s="h-2 rounded-full transition-all duration-300 "+(l[2].usage.trades.percentage>=90?"bg-red-500":l[2].usage.trades.percentage>=75?"bg-yellow-500":"bg-green-500")),Pe(t,"width",Math.min(l[2].usage.trades.percentage,100)+"%"),h(e,"class","w-full bg-gray-200 rounded-full h-2")},m(n,r){W(n,e,r),a(e,t)},p(n,r){r&4&&s!==(s="h-2 rounded-full transition-all duration-300 "+(n[2].usage.trades.percentage>=90?"bg-red-500":n[2].usage.trades.percentage>=75?"bg-yellow-500":"bg-green-500"))&&h(t,"class",s),r&4&&Pe(t,"width",Math.min(n[2].usage.trades.percentage,100)+"%")},d(n){n&&d(e)}}}function _t(l){let e,t,s=l[0].plan+"",n,r;return{c(){e=u("div"),t=te("No limits on "),n=te(s),r=te(" plan"),this.h()},l(i){e=c(i,"DIV",{class:!0});var o=b(e);t=ee(o,"No limits on "),n=ee(o,s),r=ee(o," plan"),o.forEach(d),this.h()},h(){h(e,"class","text-xs text-gray-500")},m(i,o){W(i,e,o),a(e,t),a(e,n),a(e,r)},p(i,o){o&1&&s!==(s=i[0].plan+"")&&ue(n,s)},d(i){i&&d(e)}}}function vt(l){let e,t,s;return{c(){e=u("div"),t=u("div"),this.h()},l(n){e=c(n,"DIV",{class:!0});var r=b(e);t=c(r,"DIV",{class:!0,style:!0}),b(t).forEach(d),r.forEach(d),this.h()},h(){h(t,"class",s="h-2 rounded-full transition-all duration-300 "+(l[2].usage.api_calls.percentage>=90?"bg-red-500":l[2].usage.api_calls.percentage>=75?"bg-yellow-500":"bg-green-500")),Pe(t,"width",Math.min(l[2].usage.api_calls.percentage,100)+"%"),h(e,"class","w-full bg-gray-200 rounded-full h-2")},m(n,r){W(n,e,r),a(e,t)},p(n,r){r&4&&s!==(s="h-2 rounded-full transition-all duration-300 "+(n[2].usage.api_calls.percentage>=90?"bg-red-500":n[2].usage.api_calls.percentage>=75?"bg-yellow-500":"bg-green-500"))&&h(t,"class",s),r&4&&Pe(t,"width",Math.min(n[2].usage.api_calls.percentage,100)+"%")},d(n){n&&d(e)}}}function Ye(l){let e,t="Most Popular";return{c(){e=u("div"),e.textContent=t,this.h()},l(s){e=c(s,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1gd94e4"&&(e.textContent=t),this.h()},h(){h(e,"class","bg-indigo-500 text-white text-sm font-medium text-center py-2 rounded-t-md")},m(s,n){W(s,e,n)},d(s){s&&d(e)}}}function Ge(l){let e,t,s,n,r=l[22]+"",i,o,v;return t=new et({props:{name:"check",class:"w-5 h-5 text-green-500 mt-0.5 mr-3 flex-shrink-0"}}),{c(){e=u("li"),$e(t.$$.fragment),s=D(),n=u("span"),i=te(r),o=D(),this.h()},l(m){e=c(m,"LI",{class:!0});var f=b(e);Ze(t.$$.fragment,f),s=E(f),n=c(f,"SPAN",{class:!0});var p=b(n);i=ee(p,r),p.forEach(d),o=E(f),f.forEach(d),this.h()},h(){h(n,"class","text-sm text-gray-700"),h(e,"class","flex items-start")},m(m,f){W(m,e,f),Qe(t,e,null),a(e,s),a(e,n),a(n,i),a(e,o),v=!0},p(m,f){(!v||f&2)&&r!==(r=m[22]+"")&&ue(i,r)},i(m){v||(de(t.$$.fragment,m),v=!0)},o(m){pe(t.$$.fragment,m),v=!1},d(m){m&&d(e),Xe(t)}}}function Je(l){var ae;let e,t,s,n,r=l[19].name+"",i,o,v,m,f=We(l[19].price)+"",p,k,A,T="/month",Q,Y,N,O,G=l[19].id===l[0].plan?"Current Plan":l[19].price>(((ae=l[1].find(l[12]))==null?void 0:ae.price)||0)?"Upgrade":l[19].price===0?"Downgrade":"Switch Plan",se,g,z,q,re,H,ie,j,V=l[19].popular&&Ye(),X=Ce(l[19].features),y=[];for(let x=0;x<X.length;x+=1)y[x]=Ge(je(l,X,x));const P=x=>pe(y[x],1,1,()=>{y[x]=null});function U(){return l[13](l[19])}return{c(){e=u("div"),V&&V.c(),t=D(),s=u("div"),n=u("h4"),i=te(r),o=D(),v=u("div"),m=u("span"),p=te(f),k=D(),A=u("span"),A.textContent=T,Q=D(),Y=u("ul");for(let x=0;x<y.length;x+=1)y[x].c();N=D(),O=u("button"),se=te(G),q=D(),this.h()},l(x){e=c(x,"DIV",{class:!0});var w=b(e);V&&V.l(w),t=E(w),s=c(w,"DIV",{class:!0});var L=b(s);n=c(L,"H4",{class:!0});var M=b(n);i=ee(M,r),M.forEach(d),o=E(L),v=c(L,"DIV",{class:!0});var J=b(v);m=c(J,"SPAN",{class:!0});var ne=b(m);p=ee(ne,f),ne.forEach(d),k=E(J),A=c(J,"SPAN",{class:!0,"data-svelte-h":!0}),R(A)!=="svelte-nz9km6"&&(A.textContent=T),J.forEach(d),Q=E(L),Y=c(L,"UL",{class:!0});var ce=b(Y);for(let B=0;B<y.length;B+=1)y[B].l(ce);ce.forEach(d),N=E(L),O=c(L,"BUTTON",{class:!0});var Z=b(O);se=ee(Z,G),Z.forEach(d),L.forEach(d),q=E(w),w.forEach(d),this.h()},h(){h(n,"class","text-xl font-bold text-gray-900"),h(m,"class","text-4xl font-extrabold text-gray-900"),h(A,"class","ml-1 text-gray-500"),h(v,"class","mt-4 flex items-baseline"),h(Y,"class","mt-6 space-y-3"),O.disabled=g=l[19].id===l[0].plan,h(O,"class",z="mt-8 w-full py-2 px-4 rounded-md font-medium transition-colors "+(l[19].id===l[0].plan?"bg-gray-100 text-gray-400 cursor-not-allowed":l[19].popular?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-800 text-white hover:bg-gray-900")),h(s,"class","p-6"),h(e,"class",re="bg-white rounded-lg shadow-sm border-2 transition-all "+(l[19].id===l[0].plan?"border-indigo-500":"border-gray-200")+" "+(l[19].popular?"transform scale-105":""))},m(x,w){W(x,e,w),V&&V.m(e,null),a(e,t),a(e,s),a(s,n),a(n,i),a(s,o),a(s,v),a(v,m),a(m,p),a(v,k),a(v,A),a(s,Q),a(s,Y);for(let L=0;L<y.length;L+=1)y[L]&&y[L].m(Y,null);a(s,N),a(s,O),a(O,se),a(e,q),H=!0,ie||(j=me(O,"click",U),ie=!0)},p(x,w){var L;if(l=x,l[19].popular?V||(V=Ye(),V.c(),V.m(e,t)):V&&(V.d(1),V=null),(!H||w&2)&&r!==(r=l[19].name+"")&&ue(i,r),(!H||w&2)&&f!==(f=We(l[19].price)+"")&&ue(p,f),w&2){X=Ce(l[19].features);let M;for(M=0;M<X.length;M+=1){const J=je(l,X,M);y[M]?(y[M].p(J,w),de(y[M],1)):(y[M]=Ge(J),y[M].c(),de(y[M],1),y[M].m(Y,null))}for(Ie(),M=X.length;M<y.length;M+=1)P(M);De()}(!H||w&3)&&G!==(G=l[19].id===l[0].plan?"Current Plan":l[19].price>(((L=l[1].find(l[12]))==null?void 0:L.price)||0)?"Upgrade":l[19].price===0?"Downgrade":"Switch Plan")&&ue(se,G),(!H||w&3&&g!==(g=l[19].id===l[0].plan))&&(O.disabled=g),(!H||w&3&&z!==(z="mt-8 w-full py-2 px-4 rounded-md font-medium transition-colors "+(l[19].id===l[0].plan?"bg-gray-100 text-gray-400 cursor-not-allowed":l[19].popular?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-800 text-white hover:bg-gray-900")))&&h(O,"class",z),(!H||w&3&&re!==(re="bg-white rounded-lg shadow-sm border-2 transition-all "+(l[19].id===l[0].plan?"border-indigo-500":"border-gray-200")+" "+(l[19].popular?"transform scale-105":"")))&&h(e,"class",re)},i(x){if(!H){for(let w=0;w<X.length;w+=1)de(y[w]);H=!0}},o(x){y=y.filter(Boolean);for(let w=0;w<y.length;w+=1)pe(y[w]);H=!1},d(x){x&&d(e),V&&V.d(),Ne(y,x),ie=!1,j()}}}function Ke(l){let e,t,s,n="Cancel Subscription",r,i,o="We're sorry to see you go. Your subscription will remain active until the end of your current billing period.",v,m,f,p,k="Reason for cancelling (optional)",A,T,Q,Y="Select a reason",N,O="Too expensive",G,se="Not using enough",g,z="Missing features",q,re="Found alternative",H,ie="Other",j,V,X,y="Additional feedback (optional)",P,U,ae,x,w,L="Keep Subscription",M,J,ne="Cancel Subscription",ce,Z;return{c(){e=u("div"),t=u("div"),s=u("h3"),s.textContent=n,r=D(),i=u("p"),i.textContent=o,v=D(),m=u("div"),f=u("div"),p=u("label"),p.textContent=k,A=D(),T=u("select"),Q=u("option"),Q.textContent=Y,N=u("option"),N.textContent=O,G=u("option"),G.textContent=se,g=u("option"),g.textContent=z,q=u("option"),q.textContent=re,H=u("option"),H.textContent=ie,j=D(),V=u("div"),X=u("label"),X.textContent=y,P=D(),U=u("textarea"),ae=D(),x=u("div"),w=u("button"),w.textContent=L,M=D(),J=u("button"),J.textContent=ne,this.h()},l(B){e=c(B,"DIV",{class:!0});var oe=b(e);t=c(oe,"DIV",{class:!0});var S=b(t);s=c(S,"H3",{class:!0,"data-svelte-h":!0}),R(s)!=="svelte-lgk0z2"&&(s.textContent=n),r=E(S),i=c(S,"P",{class:!0,"data-svelte-h":!0}),R(i)!=="svelte-6yaak"&&(i.textContent=o),v=E(S),m=c(S,"DIV",{class:!0});var ge=b(m);f=c(ge,"DIV",{});var $=b(f);p=c($,"LABEL",{class:!0,"data-svelte-h":!0}),R(p)!=="svelte-bust11"&&(p.textContent=k),A=E($),T=c($,"SELECT",{class:!0});var K=b(T);Q=c(K,"OPTION",{"data-svelte-h":!0}),R(Q)!=="svelte-firbcx"&&(Q.textContent=Y),N=c(K,"OPTION",{"data-svelte-h":!0}),R(N)!=="svelte-sdtq0f"&&(N.textContent=O),G=c(K,"OPTION",{"data-svelte-h":!0}),R(G)!=="svelte-k95kmx"&&(G.textContent=se),g=c(K,"OPTION",{"data-svelte-h":!0}),R(g)!=="svelte-qz839"&&(g.textContent=z),q=c(K,"OPTION",{"data-svelte-h":!0}),R(q)!=="svelte-14sh7of"&&(q.textContent=re),H=c(K,"OPTION",{"data-svelte-h":!0}),R(H)!=="svelte-902jce"&&(H.textContent=ie),K.forEach(d),$.forEach(d),j=E(ge),V=c(ge,"DIV",{});var fe=b(V);X=c(fe,"LABEL",{class:!0,"data-svelte-h":!0}),R(X)!=="svelte-123wwpe"&&(X.textContent=y),P=E(fe),U=c(fe,"TEXTAREA",{rows:!0,class:!0,placeholder:!0}),b(U).forEach(d),fe.forEach(d),ge.forEach(d),ae=E(S),x=c(S,"DIV",{class:!0});var F=b(x);w=c(F,"BUTTON",{class:!0,"data-svelte-h":!0}),R(w)!=="svelte-11522y4"&&(w.textContent=L),M=E(F),J=c(F,"BUTTON",{class:!0,"data-svelte-h":!0}),R(J)!=="svelte-6fhkx9"&&(J.textContent=ne),F.forEach(d),S.forEach(d),oe.forEach(d),this.h()},h(){h(s,"class","text-xl font-semibold text-gray-900 mb-4"),h(i,"class","text-gray-600 mb-4"),h(p,"class","block text-sm font-medium text-gray-700 mb-1"),Q.__value="",he(Q,Q.__value),N.__value="too_expensive",he(N,N.__value),G.__value="not_using",he(G,G.__value),g.__value="missing_features",he(g,g.__value),q.__value="found_alternative",he(q,q.__value),H.__value="other",he(H,H.__value),h(T,"class","form-select svelte-13if8lh"),l[6]===void 0&&it(()=>l[14].call(T)),h(X,"class","block text-sm font-medium text-gray-700 mb-1"),h(U,"rows","3"),h(U,"class","form-textarea svelte-13if8lh"),h(U,"placeholder","Let us know how we can improve..."),h(m,"class","space-y-4"),h(w,"class","btn btn-secondary svelte-13if8lh"),h(J,"class","btn btn-danger svelte-13if8lh"),h(x,"class","mt-6 flex justify-end space-x-3"),h(t,"class","bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6"),h(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(B,oe){W(B,e,oe),a(e,t),a(t,s),a(t,r),a(t,i),a(t,v),a(t,m),a(m,f),a(f,p),a(f,A),a(f,T),a(T,Q),a(T,N),a(T,G),a(T,g),a(T,q),a(T,H),Le(T,l[6],!0),a(m,j),a(m,V),a(V,X),a(V,P),a(V,U),he(U,l[7]),a(t,ae),a(t,x),a(x,w),a(x,M),a(x,J),ce||(Z=[me(T,"change",l[14]),me(U,"input",l[15]),me(w,"click",l[16]),me(J,"click",l[9])],ce=!0)},p(B,oe){oe&64&&Le(T,B[6]),oe&128&&he(U,B[7])},d(B){B&&d(e),ce=!1,rt(Z)}}}function mt(l){let e,t,s,n,r,i;const o=[ft,dt,ut],v=[];function m(p,k){return p[3]?0:p[4]?1:2}t=m(l),s=v[t]=o[t](l);let f=l[5]&&Ke(l);return{c(){e=u("div"),s.c(),n=D(),f&&f.c(),r=Ue(),this.h()},l(p){e=c(p,"DIV",{class:!0});var k=b(e);s.l(k),k.forEach(d),n=E(p),f&&f.l(p),r=Ue(),this.h()},h(){h(e,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8")},m(p,k){W(p,e,k),v[t].m(e,null),W(p,n,k),f&&f.m(p,k),W(p,r,k),i=!0},p(p,[k]){let A=t;t=m(p),t===A?v[t].p(p,k):(Ie(),pe(v[A],1,1,()=>{v[A]=null}),De(),s=v[t],s?s.p(p,k):(s=v[t]=o[t](p),s.c()),de(s,1),s.m(e,null)),p[5]?f?f.p(p,k):(f=Ke(p),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},i(p){i||(de(s),i=!0)},o(p){pe(s),i=!1},d(p){p&&(d(e),d(n),d(r)),v[t].d(),f&&f.d(p)}}}function We(l){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l)}function Ve(l){return new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function gt(l,e,t){let s=null,n=[],r=null,i=!0,o=null,v=!1,m="",f="";ct.subscribe(g=>{g.user});async function p(){try{t(3,i=!0),t(4,o=null);const[g,z,q]=await Promise.all([_e.get("/subscription/plans"),_e.get("/subscription/current"),_e.get("/subscription/usage")]);t(1,n=g.plans),t(0,s=z),t(2,r=q),we.trackPageView("/subscription")}catch(g){t(4,o=g.message||"Failed to load subscription data")}finally{t(3,i=!1)}}async function k(g){if(g!==s.plan)try{if(g==="free")t(5,v=!0);else if(s.plan==="free"){const z=await _e.post("/subscription/checkout",{plan:g,success_url:xe?`${window.location.origin}/subscription/success`:"/subscription/success",cancel_url:xe?`${window.location.origin}/subscription`:"/subscription"});we.trackAction("start_checkout","subscription",{plan:g}),xe&&(window.location.href=z.checkout_url)}else{const z=await _e.post("/subscription/change-plan",{new_plan:g});z.success&&(we.trackSubscription(z.new_plan>s.plan?"upgraded":"downgraded",g,n.find(q=>q.id===g).price),await p())}}catch(z){t(4,o=z.message||"Failed to change plan")}}async function A(){try{await _e.post("/subscription/cancel",{reason:m,feedback:f}),we.trackSubscription("cancelled","free",0),t(5,v=!1),await p()}catch(g){t(4,o=g.message||"Failed to cancel subscription")}}async function T(){try{await _e.post("/subscription/reactivate"),we.trackAction("reactivate_subscription","subscription"),await p()}catch(g){t(4,o=g.message||"Failed to reactivate subscription")}}async function Q(){try{const g=await _e.post("/subscription/customer-portal",{return_url:xe?window.location.href:"/subscription"});we.trackAction("open_customer_portal","subscription"),xe&&(window.location.href=g.portal_url)}catch(g){t(4,o=g.message||"Failed to open customer portal")}}nt(()=>{p()});const Y=g=>g.id===s.plan,N=g=>k(g.id);function O(){m=ot(this),t(6,m)}function G(){f=this.value,t(7,f)}return[s,n,r,i,o,v,m,f,k,A,T,Q,Y,N,O,G,()=>t(5,v=!1)]}class Pt extends lt{constructor(e){super(),st(this,e,gt,mt,at,{})}}export{Pt as component};
