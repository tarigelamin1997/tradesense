import{S as Ye,i as We,s as Qe,A as Te,d as f,r as Le,b as te,e as t,p as ce,Y as Dt,f as i,g as c,h as k,v as le,u as V,j as u,y as B,a9 as Ct,M as tt,L as Ne,K as $t,N as It,J as Tt,D as Ae,B as ae,w as G,z as K,l as ve,t as Q,a as J,a0 as ie,c as xe,o as me,q as be,x as ge,P as Vt,n as we,m as Me}from"../chunks/BizRtQrO.js";import{e as Ie}from"../chunks/BUPBrTgu.js";import"../chunks/IHki7fMi.js";import{a as De}from"../chunks/CMW7pmGn.js";import{I as Ee}from"../chunks/D31-qMbW.js";function lt(a){let e,s,l="Frequency",n,r,v,_="Hourly",h,w="Daily",D,y="Weekly",$,T,C,O="Time",I,g,j,d,b,m="Retention (days)",E,p,x,o;return{c(){e=u("div"),s=u("label"),s.textContent=l,n=B(),r=u("select"),v=u("option"),v.textContent=_,h=u("option"),h.textContent=w,D=u("option"),D.textContent=y,$=B(),T=u("div"),C=u("label"),C.textContent=O,I=B(),g=u("input"),j=B(),d=u("div"),b=u("label"),b.textContent=m,E=B(),p=u("input"),this.h()},l(A){e=c(A,"DIV",{});var R=k(e);s=c(R,"LABEL",{class:!0,"data-svelte-h":!0}),le(s)!=="svelte-c6aq99"&&(s.textContent=l),n=V(R),r=c(R,"SELECT",{class:!0});var N=k(r);v=c(N,"OPTION",{"data-svelte-h":!0}),le(v)!=="svelte-p7b1ma"&&(v.textContent=_),h=c(N,"OPTION",{"data-svelte-h":!0}),le(h)!=="svelte-1pbo9ag"&&(h.textContent=w),D=c(N,"OPTION",{"data-svelte-h":!0}),le(D)!=="svelte-1n8te3y"&&(D.textContent=y),N.forEach(f),R.forEach(f),$=V(A),T=c(A,"DIV",{});var U=k(T);C=c(U,"LABEL",{class:!0,"data-svelte-h":!0}),le(C)!=="svelte-1i9ohs0"&&(C.textContent=O),I=V(U),g=c(U,"INPUT",{type:!0,class:!0}),U.forEach(f),j=V(A),d=c(A,"DIV",{});var H=k(d);b=c(H,"LABEL",{class:!0,"data-svelte-h":!0}),le(b)!=="svelte-f88537"&&(b.textContent=m),E=V(H),p=c(H,"INPUT",{type:!0,min:!0,max:!0,class:!0}),H.forEach(f),this.h()},h(){i(s,"class","block text-sm font-medium text-gray-700 mb-1"),v.__value="hourly",Ne(v,v.__value),h.__value="daily",Ne(h,h.__value),D.__value="weekly",Ne(D,D.__value),i(r,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm svelte-qpimoo"),a[0].frequency===void 0&&It(()=>a[4].call(r)),i(C,"class","block text-sm font-medium text-gray-700 mb-1"),i(g,"type","time"),i(g,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm svelte-qpimoo"),i(b,"class","block text-sm font-medium text-gray-700 mb-1"),i(p,"type","number"),i(p,"min","1"),i(p,"max","365"),i(p,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm svelte-qpimoo")},m(A,R){te(A,e,R),t(e,s),t(e,n),t(e,r),t(r,v),t(r,h),t(r,D),tt(r,a[0].frequency,!0),te(A,$,R),te(A,T,R),t(T,C),t(T,I),t(T,g),Ne(g,a[0].time),te(A,j,R),te(A,d,R),t(d,b),t(d,E),t(d,p),Ne(p,a[0].retention_days),x||(o=[ce(r,"change",a[4]),ce(g,"input",a[5]),ce(p,"input",a[6])],x=!0)},p(A,R){R&1&&tt(r,A[0].frequency),R&1&&Ne(g,A[0].time),R&1&&$t(p.value)!==A[0].retention_days&&Ne(p,A[0].retention_days)},d(A){A&&(f(e),f($),f(T),f(j),f(d)),x=!1,Le(o)}}}function Bt(a){let e,s,l,n,r,v="Backup Schedule",_,h,w='<svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',D,y,$,T,C,O,I,g="Enable automatic backups",j,d,b,m,E="Cancel",p,x,o="Save Schedule",A,R,N=a[0].enabled&&lt(a);return{c(){e=u("div"),s=u("div"),l=u("div"),n=u("div"),r=u("h2"),r.textContent=v,_=B(),h=u("button"),h.innerHTML=w,D=B(),y=u("form"),$=u("div"),T=u("label"),C=u("input"),O=B(),I=u("span"),I.textContent=g,j=B(),N&&N.c(),d=B(),b=u("div"),m=u("button"),m.textContent=E,p=B(),x=u("button"),x.textContent=o,this.h()},l(U){e=c(U,"DIV",{class:!0});var H=k(e);s=c(H,"DIV",{class:!0});var ee=k(s);l=c(ee,"DIV",{class:!0});var W=k(l);n=c(W,"DIV",{class:!0});var F=k(n);r=c(F,"H2",{class:!0,"data-svelte-h":!0}),le(r)!=="svelte-19av0q7"&&(r.textContent=v),_=V(F),h=c(F,"BUTTON",{class:!0,"data-svelte-h":!0}),le(h)!=="svelte-1ystvam"&&(h.innerHTML=w),F.forEach(f),D=V(W),y=c(W,"FORM",{class:!0});var X=k(y);$=c(X,"DIV",{});var S=k($);T=c(S,"LABEL",{class:!0});var L=k(T);C=c(L,"INPUT",{type:!0,class:!0}),O=V(L),I=c(L,"SPAN",{class:!0,"data-svelte-h":!0}),le(I)!=="svelte-1cka3hm"&&(I.textContent=g),L.forEach(f),S.forEach(f),j=V(X),N&&N.l(X),d=V(X),b=c(X,"DIV",{class:!0});var z=k(b);m=c(z,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),le(m)!=="svelte-tkuuk5"&&(m.textContent=E),p=V(z),x=c(z,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),le(x)!=="svelte-y5pm8h"&&(x.textContent=o),z.forEach(f),X.forEach(f),W.forEach(f),ee.forEach(f),H.forEach(f),this.h()},h(){i(r,"class","text-xl font-semibold"),i(h,"class","text-gray-400 hover:text-gray-500"),i(n,"class","flex justify-between items-center mb-4"),i(C,"type","checkbox"),i(C,"class","rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"),i(I,"class","ml-2 text-sm font-medium text-gray-700"),i(T,"class","flex items-center"),i(m,"type","button"),i(m,"class","px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),i(x,"type","submit"),i(x,"class","px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),i(b,"class","flex justify-end space-x-3 pt-4"),i(y,"class","space-y-4"),i(l,"class","p-6"),i(s,"class","bg-white rounded-lg shadow-xl max-w-md w-full"),i(e,"class","fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50")},m(U,H){te(U,e,H),t(e,s),t(s,l),t(l,n),t(n,r),t(n,_),t(n,h),t(l,D),t(l,y),t(y,$),t($,T),t(T,C),C.checked=a[0].enabled,t(T,O),t(T,I),t(y,j),N&&N.m(y,null),t(y,d),t(y,b),t(b,m),t(b,p),t(b,x),A||(R=[ce(h,"click",a[2]),ce(C,"change",a[3]),ce(m,"click",a[2]),ce(y,"submit",Dt(a[1]))],A=!0)},p(U,[H]){H&1&&(C.checked=U[0].enabled),U[0].enabled?N?N.p(U,H):(N=lt(U),N.c(),N.m(y,d)):N&&(N.d(1),N=null)},i:Te,o:Te,d(U){U&&f(e),N&&N.d(),A=!1,Le(R)}}}function St(a,e,s){const l=Ct();let n={enabled:!1,frequency:"daily",time:"03:00",retention_days:30};function r(){l("save",n)}function v(){l("close")}function _(){n.enabled=this.checked,s(0,n)}function h(){n.frequency=Tt(this),s(0,n)}function w(){n.time=this.value,s(0,n)}function D(){n.retention_days=$t(this.value),s(0,n)}return[n,r,v,_,h,w,D]}class Nt extends Ye{constructor(e){super(),We(this,e,St,Bt,Qe,{})}}function st(a){let e,s,l,n,r='<svg class="h-6 w-6 text-yellow-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <h2 class="text-xl font-semibold">Restore Backup</h2>',v,_,h="Are you sure you want to restore this backup? This will replace all current data with the backup data.",w,D,y,$="Backup Details:",T,C,O,I=a[0].id+"",g,j,d,b,m=new Date(a[0].created_at).toLocaleString()+"",E,p,x,o,A="Cancel",R,N,U="Restore Backup",H,ee;return{c(){e=u("div"),s=u("div"),l=u("div"),n=u("div"),n.innerHTML=r,v=B(),_=u("p"),_.textContent=h,w=B(),D=u("div"),y=u("p"),y.textContent=$,T=B(),C=u("p"),O=K("ID: "),g=K(I),j=B(),d=u("p"),b=K("Created: "),E=K(m),p=B(),x=u("div"),o=u("button"),o.textContent=A,R=B(),N=u("button"),N.textContent=U,this.h()},l(W){e=c(W,"DIV",{class:!0});var F=k(e);s=c(F,"DIV",{class:!0});var X=k(s);l=c(X,"DIV",{class:!0});var S=k(l);n=c(S,"DIV",{class:!0,"data-svelte-h":!0}),le(n)!=="svelte-19olop4"&&(n.innerHTML=r),v=V(S),_=c(S,"P",{class:!0,"data-svelte-h":!0}),le(_)!=="svelte-y7pzdb"&&(_.textContent=h),w=V(S),D=c(S,"DIV",{class:!0});var L=k(D);y=c(L,"P",{class:!0,"data-svelte-h":!0}),le(y)!=="svelte-vc8otg"&&(y.textContent=$),T=V(L),C=c(L,"P",{class:!0});var z=k(C);O=G(z,"ID: "),g=G(z,I),z.forEach(f),j=V(L),d=c(L,"P",{class:!0});var Y=k(d);b=G(Y,"Created: "),E=G(Y,m),Y.forEach(f),L.forEach(f),p=V(S),x=c(S,"DIV",{class:!0});var P=k(x);o=c(P,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),le(o)!=="svelte-135mkad"&&(o.textContent=A),R=V(P),N=c(P,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),le(N)!=="svelte-1ie9e54"&&(N.textContent=U),P.forEach(f),S.forEach(f),X.forEach(f),F.forEach(f),this.h()},h(){i(n,"class","flex items-center mb-4"),i(_,"class","text-gray-600 mb-4"),i(y,"class","text-sm font-medium"),i(C,"class","text-sm text-gray-600"),i(d,"class","text-sm text-gray-600"),i(D,"class","bg-gray-50 rounded p-3 mb-4"),i(o,"type","button"),i(o,"class","px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),i(N,"type","button"),i(N,"class","px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"),i(x,"class","flex justify-end space-x-3"),i(l,"class","p-6"),i(s,"class","bg-white rounded-lg shadow-xl max-w-md w-full"),i(e,"class","fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50")},m(W,F){te(W,e,F),t(e,s),t(s,l),t(l,n),t(l,v),t(l,_),t(l,w),t(l,D),t(D,y),t(D,T),t(D,C),t(C,O),t(C,g),t(D,j),t(D,d),t(d,b),t(d,E),t(l,p),t(l,x),t(x,o),t(x,R),t(x,N),H||(ee=[ce(o,"click",a[2]),ce(N,"click",a[1])],H=!0)},p(W,F){F&1&&I!==(I=W[0].id+"")&&ae(g,I),F&1&&m!==(m=new Date(W[0].created_at).toLocaleString()+"")&&ae(E,m)},d(W){W&&f(e),H=!1,Le(ee)}}}function Pt(a){let e,s=a[0]&&st(a);return{c(){s&&s.c(),e=Ae()},l(l){s&&s.l(l),e=Ae()},m(l,n){s&&s.m(l,n),te(l,e,n)},p(l,[n]){l[0]?s?s.p(l,n):(s=st(l),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:Te,o:Te,d(l){l&&f(e),s&&s.d(l)}}}function At(a,e,s){let{backup:l=null}=e;const n=Ct();function r(){n("restore",l)}function v(){n("close")}return a.$$set=_=>{"backup"in _&&s(0,l=_.backup)},[l,r,v]}class Lt extends Ye{constructor(e){super(),We(this,e,At,Pt,Qe,{backup:0})}}function at(a,e,s){const l=a.slice();return l[32]=e[s],l}function nt(a,e,s){const l=a.slice();return l[32]=e[s],l}function rt(a,e,s){const l=a.slice();return l[37]=e[s],l}function ot(a,e,s){const l=a.slice();return l[40]=e[s],l}function it(a,e,s){const l=a.slice();return l[32]=e[s],l}function Ot(a){let e,s,l,n,r=a[6]==="backups"&&ct(a),v=a[6]==="schedules"&&ht(a),_=a[6]==="stats"&&bt(a);return{c(){r&&r.c(),e=B(),v&&v.c(),s=B(),_&&_.c(),l=Ae()},l(h){r&&r.l(h),e=V(h),v&&v.l(h),s=V(h),_&&_.l(h),l=Ae()},m(h,w){r&&r.m(h,w),te(h,e,w),v&&v.m(h,w),te(h,s,w),_&&_.m(h,w),te(h,l,w),n=!0},p(h,w){h[6]==="backups"?r?(r.p(h,w),w[0]&64&&J(r,1)):(r=ct(h),r.c(),J(r,1),r.m(e.parentNode,e)):r&&(we(),Q(r,1,1,()=>{r=null}),xe()),h[6]==="schedules"?v?(v.p(h,w),w[0]&64&&J(v,1)):(v=ht(h),v.c(),J(v,1),v.m(s.parentNode,s)):v&&(we(),Q(v,1,1,()=>{v=null}),xe()),h[6]==="stats"?_?(_.p(h,w),w[0]&64&&J(_,1)):(_=bt(h),_.c(),J(_,1),_.m(l.parentNode,l)):_&&(we(),Q(_,1,1,()=>{_=null}),xe())},i(h){n||(J(r),J(v),J(_),n=!0)},o(h){Q(r),Q(v),Q(_),n=!1},d(h){h&&(f(e),f(s),f(l)),r&&r.d(h),v&&v.d(h),_&&_.d(h)}}}function Mt(a){let e,s;return{c(){e=u("div"),s=K(a[5]),this.h()},l(l){e=c(l,"DIV",{class:!0});var n=k(e);s=G(n,a[5]),n.forEach(f),this.h()},h(){i(e,"class","alert alert-error svelte-tinobq")},m(l,n){te(l,e,n),t(e,s)},p(l,n){n[0]&32&&ae(s,l[5])},i:Te,o:Te,d(l){l&&f(e)}}}function jt(a){let e,s='<div class="spinner svelte-tinobq"></div>';return{c(){e=u("div"),e.innerHTML=s,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-em5o00"&&(e.innerHTML=s),this.h()},h(){i(e,"class","flex justify-center py-12")},m(l,n){te(l,e,n)},p:Te,i:Te,o:Te,d(l){l&&f(e)}}}function ct(a){let e,s,l,n,r="Recent Backups",v,_,h,w,D,y,$,T,C='<tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Backup</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Size</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Created</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr>',O,I,g,j,d;h=new Ee({props:{name:"trash-2",class:"w-4 h-4 mr-1"}});let b=Ie(a[0]),m=[];for(let p=0;p<b.length;p+=1)m[p]=pt(it(a,b,p));const E=p=>Q(m[p],1,1,()=>{m[p]=null});return{c(){e=u("div"),s=u("div"),l=u("div"),n=u("h2"),n.textContent=r,v=B(),_=u("button"),ge(h.$$.fragment),w=K(`
                            Cleanup Old`),D=B(),y=u("div"),$=u("table"),T=u("thead"),T.innerHTML=C,O=B(),I=u("tbody");for(let p=0;p<m.length;p+=1)m[p].c();this.h()},l(p){e=c(p,"DIV",{class:!0});var x=k(e);s=c(x,"DIV",{class:!0});var o=k(s);l=c(o,"DIV",{class:!0});var A=k(l);n=c(A,"H2",{class:!0,"data-svelte-h":!0}),le(n)!=="svelte-1ar9h7o"&&(n.textContent=r),v=V(A),_=c(A,"BUTTON",{class:!0});var R=k(_);be(h.$$.fragment,R),w=G(R,`
                            Cleanup Old`),R.forEach(f),A.forEach(f),o.forEach(f),D=V(x),y=c(x,"DIV",{class:!0});var N=k(y);$=c(N,"TABLE",{class:!0});var U=k($);T=c(U,"THEAD",{class:!0,"data-svelte-h":!0}),le(T)!=="svelte-st6ush"&&(T.innerHTML=C),O=V(U),I=c(U,"TBODY",{class:!0});var H=k(I);for(let ee=0;ee<m.length;ee+=1)m[ee].l(H);H.forEach(f),U.forEach(f),N.forEach(f),x.forEach(f),this.h()},h(){i(n,"class","text-lg font-semibold text-gray-900"),i(_,"class","btn btn-sm btn-secondary svelte-tinobq"),i(l,"class","flex justify-between items-center"),i(s,"class","p-6 border-b border-gray-200"),i(T,"class","bg-gray-50"),i(I,"class","bg-white divide-y divide-gray-200"),i($,"class","min-w-full divide-y divide-gray-200"),i(y,"class","overflow-x-auto"),i(e,"class","bg-white rounded-lg shadow-sm border border-gray-200")},m(p,x){te(p,e,x),t(e,s),t(s,l),t(l,n),t(l,v),t(l,_),me(h,_,null),t(_,w),t(e,D),t(e,y),t(y,$),t($,T),t($,O),t($,I);for(let o=0;o<m.length;o+=1)m[o]&&m[o].m(I,null);g=!0,j||(d=ce(_,"click",a[15]),j=!0)},p(p,x){if(x[0]&20225){b=Ie(p[0]);let o;for(o=0;o<b.length;o+=1){const A=it(p,b,o);m[o]?(m[o].p(A,x),J(m[o],1)):(m[o]=pt(A),m[o].c(),J(m[o],1),m[o].m(I,null))}for(we(),o=b.length;o<m.length;o+=1)E(o);xe()}},i(p){if(!g){J(h.$$.fragment,p);for(let x=0;x<b.length;x+=1)J(m[x]);g=!0}},o(p){Q(h.$$.fragment,p),m=m.filter(Boolean);for(let x=0;x<m.length;x+=1)Q(m[x]);g=!1},d(p){p&&f(e),ve(h),Me(m,p),j=!1,d()}}}function ut(a){let e,s,l,n;return s=new Ee({props:{name:"cloud",class:"w-3 h-3 inline"}}),{c(){e=u("div"),ge(s.$$.fragment),l=K(`
                                                Remote backup available`),this.h()},l(r){e=c(r,"DIV",{class:!0});var v=k(e);be(s.$$.fragment,v),l=G(v,`
                                                Remote backup available`),v.forEach(f),this.h()},h(){i(e,"class","text-xs text-gray-500")},m(r,v){te(r,e,v),me(s,e,null),t(e,l),n=!0},i(r){n||(J(s.$$.fragment,r),n=!0)},o(r){Q(s.$$.fragment,r),n=!1},d(r){r&&f(e),ve(s)}}}function ft(a){let e,s,l,n,r,v,_,h;s=new Ee({props:{name:"check-circle",class:"w-5 h-5"}});function w(){return a[24](a[32])}r=new Ee({props:{name:"rotate-ccw",class:"w-5 h-5"}});function D(){return a[25](a[32])}return{c(){e=u("button"),ge(s.$$.fragment),l=B(),n=u("button"),ge(r.$$.fragment),this.h()},l(y){e=c(y,"BUTTON",{class:!0,title:!0});var $=k(e);be(s.$$.fragment,$),$.forEach(f),l=V(y),n=c(y,"BUTTON",{class:!0,title:!0});var T=k(n);be(r.$$.fragment,T),T.forEach(f),this.h()},h(){i(e,"class","text-indigo-600 hover:text-indigo-900"),i(e,"title","Verify backup"),i(n,"class","text-green-600 hover:text-green-900"),i(n,"title","Restore from backup")},m(y,$){te(y,e,$),me(s,e,null),te(y,l,$),te(y,n,$),me(r,n,null),v=!0,_||(h=[ce(e,"click",w),ce(n,"click",D)],_=!0)},p(y,$){a=y},i(y){v||(J(s.$$.fragment,y),J(r.$$.fragment,y),v=!0)},o(y){Q(s.$$.fragment,y),Q(r.$$.fragment,y),v=!1},d(y){y&&(f(e),f(l),f(n)),ve(s),ve(r),_=!1,Le(h)}}}function dt(a){let e,s,l,n;return s=new Ee({props:{name:"alert-circle",class:"w-5 h-5"}}),{c(){e=u("span"),ge(s.$$.fragment),this.h()},l(r){e=c(r,"SPAN",{class:!0,title:!0});var v=k(e);be(s.$$.fragment,v),v.forEach(f),this.h()},h(){i(e,"class","text-red-600"),i(e,"title",l=a[32].error_message)},m(r,v){te(r,e,v),me(s,e,null),n=!0},p(r,v){(!n||v[0]&1&&l!==(l=r[32].error_message))&&i(e,"title",l)},i(r){n||(J(s.$$.fragment,r),n=!0)},o(r){Q(s.$$.fragment,r),n=!1},d(r){r&&f(e),ve(s)}}}function pt(a){let e,s,l,n=a[32].backup_name+"",r,v,_,h,w,D,y,$,T=a[32].backup_type+"",C,O,I,g,j=a[32].status+"",d,b,m,E,p=Et(a[32].file_size)+"",x,o,A,R=new Date(a[32].created_at).toLocaleString()+"",N,U,H,ee,W,F,X,S=a[32].remote_path&&ut();D=new Ee({props:{name:a[11][a[32].backup_type].icon,class:"w-5 h-5 text-"+a[11][a[32].backup_type].color+"-500 mr-2"}});let L=a[32].status==="completed"&&ft(a),z=a[32].error_message&&dt(a);return{c(){e=u("tr"),s=u("td"),l=u("div"),r=K(n),v=B(),S&&S.c(),_=B(),h=u("td"),w=u("div"),ge(D.$$.fragment),y=B(),$=u("span"),C=K(T),O=B(),I=u("td"),g=u("span"),d=K(j),m=B(),E=u("td"),x=K(p),o=B(),A=u("td"),N=K(R),U=B(),H=u("td"),ee=u("div"),L&&L.c(),W=B(),z&&z.c(),F=B(),this.h()},l(Y){e=c(Y,"TR",{});var P=k(e);s=c(P,"TD",{class:!0});var Z=k(s);l=c(Z,"DIV",{class:!0});var M=k(l);r=G(M,n),M.forEach(f),v=V(Z),S&&S.l(Z),Z.forEach(f),_=V(P),h=c(P,"TD",{class:!0});var q=k(h);w=c(q,"DIV",{class:!0});var se=k(w);be(D.$$.fragment,se),y=V(se),$=c(se,"SPAN",{class:!0});var ke=k($);C=G(ke,T),ke.forEach(f),se.forEach(f),q.forEach(f),O=V(P),I=c(P,"TD",{class:!0});var ue=k(I);g=c(ue,"SPAN",{class:!0});var re=k(g);d=G(re,j),re.forEach(f),ue.forEach(f),m=V(P),E=c(P,"TD",{class:!0});var ne=k(E);x=G(ne,p),ne.forEach(f),o=V(P),A=c(P,"TD",{class:!0});var fe=k(A);N=G(fe,R),fe.forEach(f),U=V(P),H=c(P,"TD",{class:!0});var he=k(H);ee=c(he,"DIV",{class:!0});var oe=k(ee);L&&L.l(oe),W=V(oe),z&&z.l(oe),oe.forEach(f),he.forEach(f),F=V(P),P.forEach(f),this.h()},h(){i(l,"class","text-sm font-medium text-gray-900"),i(s,"class","px-6 py-4 whitespace-nowrap"),i($,"class","text-sm text-gray-900 capitalize"),i(w,"class","flex items-center"),i(h,"class","px-6 py-4 whitespace-nowrap"),i(g,"class",b="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-"+a[10][a[32].status]+"-100 text-"+a[10][a[32].status]+"-800 svelte-tinobq"),i(I,"class","px-6 py-4 whitespace-nowrap"),i(E,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-900"),i(A,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-500"),i(ee,"class","flex space-x-2"),i(H,"class","px-6 py-4 whitespace-nowrap text-sm font-medium")},m(Y,P){te(Y,e,P),t(e,s),t(s,l),t(l,r),t(s,v),S&&S.m(s,null),t(e,_),t(e,h),t(h,w),me(D,w,null),t(w,y),t(w,$),t($,C),t(e,O),t(e,I),t(I,g),t(g,d),t(e,m),t(e,E),t(E,x),t(e,o),t(e,A),t(A,N),t(e,U),t(e,H),t(H,ee),L&&L.m(ee,null),t(ee,W),z&&z.m(ee,null),t(e,F),X=!0},p(Y,P){(!X||P[0]&1)&&n!==(n=Y[32].backup_name+"")&&ae(r,n),Y[32].remote_path?S?P[0]&1&&J(S,1):(S=ut(),S.c(),J(S,1),S.m(s,null)):S&&(we(),Q(S,1,1,()=>{S=null}),xe());const Z={};P[0]&1&&(Z.name=Y[11][Y[32].backup_type].icon),P[0]&1&&(Z.class="w-5 h-5 text-"+Y[11][Y[32].backup_type].color+"-500 mr-2"),D.$set(Z),(!X||P[0]&1)&&T!==(T=Y[32].backup_type+"")&&ae(C,T),(!X||P[0]&1)&&j!==(j=Y[32].status+"")&&ae(d,j),(!X||P[0]&1&&b!==(b="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-"+Y[10][Y[32].status]+"-100 text-"+Y[10][Y[32].status]+"-800 svelte-tinobq"))&&i(g,"class",b),(!X||P[0]&1)&&p!==(p=Et(Y[32].file_size)+"")&&ae(x,p),(!X||P[0]&1)&&R!==(R=new Date(Y[32].created_at).toLocaleString()+"")&&ae(N,R),Y[32].status==="completed"?L?(L.p(Y,P),P[0]&1&&J(L,1)):(L=ft(Y),L.c(),J(L,1),L.m(ee,W)):L&&(we(),Q(L,1,1,()=>{L=null}),xe()),Y[32].error_message?z?(z.p(Y,P),P[0]&1&&J(z,1)):(z=dt(Y),z.c(),J(z,1),z.m(ee,null)):z&&(we(),Q(z,1,1,()=>{z=null}),xe())},i(Y){X||(J(S),J(D.$$.fragment,Y),J(L),J(z),X=!0)},o(Y){Q(S),Q(D.$$.fragment,Y),Q(L),Q(z),X=!1},d(Y){Y&&f(e),S&&S.d(),ve(D),L&&L.d(),z&&z.d()}}}function ht(a){let e,s,l,n,r="Backup Schedules",v,_,h,w,D,y,$,T,C,O;h=new Ee({props:{name:"plus",class:"w-4 h-4 mr-1"}});let I=Ie(a[1]),g=[];for(let d=0;d<I.length;d+=1)g[d]=mt(ot(a,I,d));const j=d=>Q(g[d],1,1,()=>{g[d]=null});return{c(){e=u("div"),s=u("div"),l=u("div"),n=u("h2"),n.textContent=r,v=B(),_=u("button"),ge(h.$$.fragment),w=K(`
                            Add Schedule`),D=B(),y=u("div"),$=u("div");for(let d=0;d<g.length;d+=1)g[d].c();this.h()},l(d){e=c(d,"DIV",{class:!0});var b=k(e);s=c(b,"DIV",{class:!0});var m=k(s);l=c(m,"DIV",{class:!0});var E=k(l);n=c(E,"H2",{class:!0,"data-svelte-h":!0}),le(n)!=="svelte-1lnzulc"&&(n.textContent=r),v=V(E),_=c(E,"BUTTON",{class:!0});var p=k(_);be(h.$$.fragment,p),w=G(p,`
                            Add Schedule`),p.forEach(f),E.forEach(f),m.forEach(f),D=V(b),y=c(b,"DIV",{class:!0});var x=k(y);$=c(x,"DIV",{class:!0});var o=k($);for(let A=0;A<g.length;A+=1)g[A].l(o);o.forEach(f),x.forEach(f),b.forEach(f),this.h()},h(){i(n,"class","text-lg font-semibold text-gray-900"),i(_,"class","btn btn-sm btn-primary svelte-tinobq"),i(l,"class","flex justify-between items-center"),i(s,"class","p-6 border-b border-gray-200"),i($,"class","space-y-4"),i(y,"class","p-6"),i(e,"class","bg-white rounded-lg shadow-sm border border-gray-200")},m(d,b){te(d,e,b),t(e,s),t(s,l),t(l,n),t(l,v),t(l,_),me(h,_,null),t(_,w),t(e,D),t(e,y),t(y,$);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m($,null);T=!0,C||(O=ce(_,"click",a[26]),C=!0)},p(d,b){if(b[0]&393218){I=Ie(d[1]);let m;for(m=0;m<I.length;m+=1){const E=ot(d,I,m);g[m]?(g[m].p(E,b),J(g[m],1)):(g[m]=mt(E),g[m].c(),J(g[m],1),g[m].m($,null))}for(we(),m=I.length;m<g.length;m+=1)j(m);xe()}},i(d){if(!T){J(h.$$.fragment,d);for(let b=0;b<I.length;b+=1)J(g[b]);T=!0}},o(d){Q(h.$$.fragment,d),g=g.filter(Boolean);for(let b=0;b<g.length;b+=1)Q(g[b]);T=!1},d(d){d&&f(e),ve(h),Me(g,d),C=!1,O()}}}function _t(a){let e,s,l=new Date(a[40].last_run_at).toLocaleString()+"",n;return{c(){e=u("p"),s=K("Last run: "),n=K(l)},l(r){e=c(r,"P",{});var v=k(e);s=G(v,"Last run: "),n=G(v,l),v.forEach(f)},m(r,v){te(r,e,v),t(e,s),t(e,n)},p(r,v){v[0]&2&&l!==(l=new Date(r[40].last_run_at).toLocaleString()+"")&&ae(n,l)},d(r){r&&f(e)}}}function vt(a){let e,s,l=new Date(a[40].next_run_at).toLocaleString()+"",n;return{c(){e=u("p"),s=K("Next run: "),n=K(l)},l(r){e=c(r,"P",{});var v=k(e);s=G(v,"Next run: "),n=G(v,l),v.forEach(f)},m(r,v){te(r,e,v),t(e,s),t(e,n)},p(r,v){v[0]&2&&l!==(l=new Date(r[40].next_run_at).toLocaleString()+"")&&ae(n,l)},d(r){r&&f(e)}}}function mt(a){let e,s,l,n,r,v=a[40].name+"",_,h,w,D=a[40].is_active?"Active":"Inactive",y,$,T,C,O,I,g=a[40].backup_type+"",j,d,b,m,E=a[40].destination+"",p,x,o,A,R=JSON.stringify(a[40].schedule_config)+"",N,U,H,ee,W,F,X,S,L,z,Y,P,Z,M,q=a[40].last_run_at&&_t(a),se=a[40].next_run_at&&vt(a);X=new Ee({props:{name:a[40].is_active?"pause":"play",class:"w-5 h-5"}});function ke(){return a[27](a[40])}z=new Ee({props:{name:"trash-2",class:"w-5 h-5"}});function ue(){return a[28](a[40])}return{c(){e=u("div"),s=u("div"),l=u("div"),n=u("div"),r=u("h3"),_=K(v),h=B(),w=u("span"),y=K(D),T=B(),C=u("div"),O=u("p"),I=K("Type: "),j=K(g),d=B(),b=u("p"),m=K("Destination: "),p=K(E),x=B(),o=u("p"),A=K("Schedule: "),N=K(R),U=B(),q&&q.c(),H=B(),se&&se.c(),ee=B(),W=u("div"),F=u("button"),ge(X.$$.fragment),S=B(),L=u("button"),ge(z.$$.fragment),Y=B(),this.h()},l(re){e=c(re,"DIV",{class:!0});var ne=k(e);s=c(ne,"DIV",{class:!0});var fe=k(s);l=c(fe,"DIV",{class:!0});var he=k(l);n=c(he,"DIV",{class:!0});var oe=k(n);r=c(oe,"H3",{class:!0});var $e=k(r);_=G($e,v),$e.forEach(f),h=V(oe),w=c(oe,"SPAN",{class:!0});var Oe=k(w);y=G(Oe,D),Oe.forEach(f),oe.forEach(f),T=V(he),C=c(he,"DIV",{class:!0});var _e=k(C);O=c(_e,"P",{});var Ce=k(O);I=G(Ce,"Type: "),j=G(Ce,g),Ce.forEach(f),d=V(_e),b=c(_e,"P",{});var Ve=k(b);m=G(Ve,"Destination: "),p=G(Ve,E),Ve.forEach(f),x=V(_e),o=c(_e,"P",{});var Be=k(o);A=G(Be,"Schedule: "),N=G(Be,R),Be.forEach(f),U=V(_e),q&&q.l(_e),H=V(_e),se&&se.l(_e),_e.forEach(f),he.forEach(f),ee=V(fe),W=c(fe,"DIV",{class:!0});var Se=k(W);F=c(Se,"BUTTON",{class:!0});var Pe=k(F);be(X.$$.fragment,Pe),Pe.forEach(f),S=V(Se),L=c(Se,"BUTTON",{class:!0});var de=k(L);be(z.$$.fragment,de),de.forEach(f),Se.forEach(f),fe.forEach(f),Y=V(ne),ne.forEach(f),this.h()},h(){i(r,"class","text-lg font-medium text-gray-900"),i(w,"class",$="ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-"+(a[40].is_active?"green":"gray")+"-100 text-"+(a[40].is_active?"green":"gray")+"-800"),i(n,"class","flex items-center"),i(C,"class","mt-2 text-sm text-gray-600"),i(l,"class","flex-1"),i(F,"class","text-indigo-600 hover:text-indigo-900"),i(L,"class","text-red-600 hover:text-red-900"),i(W,"class","flex space-x-2"),i(s,"class","flex justify-between items-start"),i(e,"class","border border-gray-200 rounded-lg p-4")},m(re,ne){te(re,e,ne),t(e,s),t(s,l),t(l,n),t(n,r),t(r,_),t(n,h),t(n,w),t(w,y),t(l,T),t(l,C),t(C,O),t(O,I),t(O,j),t(C,d),t(C,b),t(b,m),t(b,p),t(C,x),t(C,o),t(o,A),t(o,N),t(C,U),q&&q.m(C,null),t(C,H),se&&se.m(C,null),t(s,ee),t(s,W),t(W,F),me(X,F,null),t(W,S),t(W,L),me(z,L,null),t(e,Y),P=!0,Z||(M=[ce(F,"click",ke),ce(L,"click",ue)],Z=!0)},p(re,ne){a=re,(!P||ne[0]&2)&&v!==(v=a[40].name+"")&&ae(_,v),(!P||ne[0]&2)&&D!==(D=a[40].is_active?"Active":"Inactive")&&ae(y,D),(!P||ne[0]&2&&$!==($="ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-"+(a[40].is_active?"green":"gray")+"-100 text-"+(a[40].is_active?"green":"gray")+"-800"))&&i(w,"class",$),(!P||ne[0]&2)&&g!==(g=a[40].backup_type+"")&&ae(j,g),(!P||ne[0]&2)&&E!==(E=a[40].destination+"")&&ae(p,E),(!P||ne[0]&2)&&R!==(R=JSON.stringify(a[40].schedule_config)+"")&&ae(N,R),a[40].last_run_at?q?q.p(a,ne):(q=_t(a),q.c(),q.m(C,H)):q&&(q.d(1),q=null),a[40].next_run_at?se?se.p(a,ne):(se=vt(a),se.c(),se.m(C,null)):se&&(se.d(1),se=null);const fe={};ne[0]&2&&(fe.name=a[40].is_active?"pause":"play"),X.$set(fe)},i(re){P||(J(X.$$.fragment,re),J(z.$$.fragment,re),P=!0)},o(re){Q(X.$$.fragment,re),Q(z.$$.fragment,re),P=!1},d(re){re&&f(e),q&&q.d(),se&&se.d(),ve(X),ve(z),Z=!1,Le(M)}}}function bt(a){let e,s,l,n,r,v="Recent Backup Status",_,h,w,D,y,$="Upcoming Backups",T,C,O,I=Ie(a[2]),g=[];for(let p=0;p<I.length;p+=1)g[p]=gt(rt(a,I,p));let j=Ie(a[3].recent_backups),d=[];for(let p=0;p<j.length;p+=1)d[p]=kt(nt(a,j,p));const b=p=>Q(d[p],1,1,()=>{d[p]=null});let m=Ie(a[3].upcoming_backups),E=[];for(let p=0;p<m.length;p+=1)E[p]=yt(at(a,m,p));return{c(){e=u("div");for(let p=0;p<g.length;p+=1)g[p].c();s=B(),l=u("div"),n=u("div"),r=u("h3"),r.textContent=v,_=B(),h=u("div");for(let p=0;p<d.length;p+=1)d[p].c();w=B(),D=u("div"),y=u("h3"),y.textContent=$,T=B(),C=u("div");for(let p=0;p<E.length;p+=1)E[p].c();this.h()},l(p){e=c(p,"DIV",{class:!0});var x=k(e);for(let H=0;H<g.length;H+=1)g[H].l(x);x.forEach(f),s=V(p),l=c(p,"DIV",{class:!0});var o=k(l);n=c(o,"DIV",{class:!0});var A=k(n);r=c(A,"H3",{class:!0,"data-svelte-h":!0}),le(r)!=="svelte-ldeka7"&&(r.textContent=v),_=V(A),h=c(A,"DIV",{class:!0});var R=k(h);for(let H=0;H<d.length;H+=1)d[H].l(R);R.forEach(f),A.forEach(f),w=V(o),D=c(o,"DIV",{class:!0});var N=k(D);y=c(N,"H3",{class:!0,"data-svelte-h":!0}),le(y)!=="svelte-16sho2d"&&(y.textContent=$),T=V(N),C=c(N,"DIV",{class:!0});var U=k(C);for(let H=0;H<E.length;H+=1)E[H].l(U);U.forEach(f),N.forEach(f),o.forEach(f),this.h()},h(){i(e,"class","grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"),i(r,"class","text-lg font-semibold text-gray-900 mb-4"),i(h,"class","space-y-3"),i(n,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),i(y,"class","text-lg font-semibold text-gray-900 mb-4"),i(C,"class","space-y-3"),i(D,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),i(l,"class","grid grid-cols-1 lg:grid-cols-2 gap-6")},m(p,x){te(p,e,x);for(let o=0;o<g.length;o+=1)g[o]&&g[o].m(e,null);te(p,s,x),te(p,l,x),t(l,n),t(n,r),t(n,_),t(n,h);for(let o=0;o<d.length;o+=1)d[o]&&d[o].m(h,null);t(l,w),t(l,D),t(D,y),t(D,T),t(D,C);for(let o=0;o<E.length;o+=1)E[o]&&E[o].m(C,null);O=!0},p(p,x){if(x[0]&4){I=Ie(p[2]);let o;for(o=0;o<I.length;o+=1){const A=rt(p,I,o);g[o]?g[o].p(A,x):(g[o]=gt(A),g[o].c(),g[o].m(e,null))}for(;o<g.length;o+=1)g[o].d(1);g.length=I.length}if(x[0]&3080){j=Ie(p[3].recent_backups);let o;for(o=0;o<j.length;o+=1){const A=nt(p,j,o);d[o]?(d[o].p(A,x),J(d[o],1)):(d[o]=kt(A),d[o].c(),J(d[o],1),d[o].m(h,null))}for(we(),o=j.length;o<d.length;o+=1)b(o);xe()}if(x[0]&8){m=Ie(p[3].upcoming_backups);let o;for(o=0;o<m.length;o+=1){const A=at(p,m,o);E[o]?E[o].p(A,x):(E[o]=yt(A),E[o].c(),E[o].m(C,null))}for(;o<E.length;o+=1)E[o].d(1);E.length=m.length}},i(p){if(!O){for(let x=0;x<j.length;x+=1)J(d[x]);O=!0}},o(p){d=d.filter(Boolean);for(let x=0;x<d.length;x+=1)Q(d[x]);O=!1},d(p){p&&(f(e),f(s),f(l)),Me(g,p),Me(d,p),Me(E,p)}}}function gt(a){let e,s,l=a[37].backup_type+"",n,r,v,_,h,w,D="Total:",y,$,T=a[37].total_count+"",C,O,I,g,j="Success:",d,b,m=a[37].success_count+"",E,p,x,o,A="Failed:",R,N,U=a[37].failed_count+"",H,ee,W,F,X="Success Rate:",S,L,z=a[37].success_rate+"",Y,P,Z,M,q,se="Total Size:",ke,ue,re=a[37].total_size_gb+"",ne,fe,he,oe,$e,Oe="Avg Duration:",_e,Ce,Ve=a[37].avg_duration_minutes+"",Be,Se,Pe;return{c(){e=u("div"),s=u("h3"),n=K(l),r=K(" Backups"),v=B(),_=u("div"),h=u("div"),w=u("span"),w.textContent=D,y=B(),$=u("span"),C=K(T),O=B(),I=u("div"),g=u("span"),g.textContent=j,d=B(),b=u("span"),E=K(m),p=B(),x=u("div"),o=u("span"),o.textContent=A,R=B(),N=u("span"),H=K(U),ee=B(),W=u("div"),F=u("span"),F.textContent=X,S=B(),L=u("span"),Y=K(z),P=K("%"),Z=B(),M=u("div"),q=u("span"),q.textContent=se,ke=B(),ue=u("span"),ne=K(re),fe=K(" GB"),he=B(),oe=u("div"),$e=u("span"),$e.textContent=Oe,_e=B(),Ce=u("span"),Be=K(Ve),Se=K(" min"),Pe=B(),this.h()},l(de){e=c(de,"DIV",{class:!0});var pe=k(e);s=c(pe,"H3",{class:!0});var Re=k(s);n=G(Re,l),r=G(Re," Backups"),Re.forEach(f),v=V(pe),_=c(pe,"DIV",{class:!0});var ye=k(_);h=c(ye,"DIV",{class:!0});var je=k(h);w=c(je,"SPAN",{class:!0,"data-svelte-h":!0}),le(w)!=="svelte-194vzbj"&&(w.textContent=D),y=V(je),$=c(je,"SPAN",{class:!0});var Xe=k($);C=G(Xe,T),Xe.forEach(f),je.forEach(f),O=V(ye),I=c(ye,"DIV",{class:!0});var qe=k(I);g=c(qe,"SPAN",{class:!0,"data-svelte-h":!0}),le(g)!=="svelte-66kcko"&&(g.textContent=j),d=V(qe),b=c(qe,"SPAN",{class:!0});var Ze=k(b);E=G(Ze,m),Ze.forEach(f),qe.forEach(f),p=V(ye),x=c(ye,"DIV",{class:!0});var Ue=k(x);o=c(Ue,"SPAN",{class:!0,"data-svelte-h":!0}),le(o)!=="svelte-8j9ytc"&&(o.textContent=A),R=V(Ue),N=c(Ue,"SPAN",{class:!0});var et=k(N);H=G(et,U),et.forEach(f),Ue.forEach(f),ee=V(ye),W=c(ye,"DIV",{class:!0});var He=k(W);F=c(He,"SPAN",{class:!0,"data-svelte-h":!0}),le(F)!=="svelte-815mua"&&(F.textContent=X),S=V(He),L=c(He,"SPAN",{class:!0});var Je=k(L);Y=G(Je,z),P=G(Je,"%"),Je.forEach(f),He.forEach(f),Z=V(ye),M=c(ye,"DIV",{class:!0});var ze=k(M);q=c(ze,"SPAN",{class:!0,"data-svelte-h":!0}),le(q)!=="svelte-1s9v3ga"&&(q.textContent=se),ke=V(ze),ue=c(ze,"SPAN",{class:!0});var Ge=k(ue);ne=G(Ge,re),fe=G(Ge," GB"),Ge.forEach(f),ze.forEach(f),he=V(ye),oe=c(ye,"DIV",{class:!0});var Fe=k(oe);$e=c(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),le($e)!=="svelte-1cih7hh"&&($e.textContent=Oe),_e=V(Fe),Ce=c(Fe,"SPAN",{class:!0});var Ke=k(Ce);Be=G(Ke,Ve),Se=G(Ke," min"),Ke.forEach(f),Fe.forEach(f),ye.forEach(f),Pe=V(pe),pe.forEach(f),this.h()},h(){i(s,"class","text-lg font-semibold text-gray-900 mb-4 capitalize"),i(w,"class","text-gray-600"),i($,"class","font-medium"),i(h,"class","flex justify-between"),i(g,"class","text-gray-600"),i(b,"class","font-medium text-green-600"),i(I,"class","flex justify-between"),i(o,"class","text-gray-600"),i(N,"class","font-medium text-red-600"),i(x,"class","flex justify-between"),i(F,"class","text-gray-600"),i(L,"class","font-medium"),i(W,"class","flex justify-between"),i(q,"class","text-gray-600"),i(ue,"class","font-medium"),i(M,"class","flex justify-between"),i($e,"class","text-gray-600"),i(Ce,"class","font-medium"),i(oe,"class","flex justify-between"),i(_,"class","space-y-2 text-sm"),i(e,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6")},m(de,pe){te(de,e,pe),t(e,s),t(s,n),t(s,r),t(e,v),t(e,_),t(_,h),t(h,w),t(h,y),t(h,$),t($,C),t(_,O),t(_,I),t(I,g),t(I,d),t(I,b),t(b,E),t(_,p),t(_,x),t(x,o),t(x,R),t(x,N),t(N,H),t(_,ee),t(_,W),t(W,F),t(W,S),t(W,L),t(L,Y),t(L,P),t(_,Z),t(_,M),t(M,q),t(M,ke),t(M,ue),t(ue,ne),t(ue,fe),t(_,he),t(_,oe),t(oe,$e),t(oe,_e),t(oe,Ce),t(Ce,Be),t(Ce,Se),t(e,Pe)},p(de,pe){pe[0]&4&&l!==(l=de[37].backup_type+"")&&ae(n,l),pe[0]&4&&T!==(T=de[37].total_count+"")&&ae(C,T),pe[0]&4&&m!==(m=de[37].success_count+"")&&ae(E,m),pe[0]&4&&U!==(U=de[37].failed_count+"")&&ae(H,U),pe[0]&4&&z!==(z=de[37].success_rate+"")&&ae(Y,z),pe[0]&4&&re!==(re=de[37].total_size_gb+"")&&ae(ne,re),pe[0]&4&&Ve!==(Ve=de[37].avg_duration_minutes+"")&&ae(Be,Ve)},d(de){de&&f(e)}}}function kt(a){let e,s,l,n,r,v=a[32].backup_type+"",_,h,w,D=a[32].status+"",y,$,T,C,O=a[32].count+"",I,g,j,d;return l=new Ee({props:{name:a[11][a[32].backup_type].icon,class:"w-5 h-5 text-"+a[11][a[32].backup_type].color+"-500 mr-2"}}),{c(){e=u("div"),s=u("div"),ge(l.$$.fragment),n=B(),r=u("span"),_=K(v),h=B(),w=u("span"),y=K(D),T=B(),C=u("div"),I=K(O),g=K(" backups"),j=B(),this.h()},l(b){e=c(b,"DIV",{class:!0});var m=k(e);s=c(m,"DIV",{class:!0});var E=k(s);be(l.$$.fragment,E),n=V(E),r=c(E,"SPAN",{class:!0});var p=k(r);_=G(p,v),p.forEach(f),h=V(E),w=c(E,"SPAN",{class:!0});var x=k(w);y=G(x,D),x.forEach(f),E.forEach(f),T=V(m),C=c(m,"DIV",{class:!0});var o=k(C);I=G(o,O),g=G(o," backups"),o.forEach(f),j=V(m),m.forEach(f),this.h()},h(){i(r,"class","text-sm text-gray-900"),i(w,"class",$="ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-"+a[10][a[32].status]+"-100 text-"+a[10][a[32].status]+"-800 svelte-tinobq"),i(s,"class","flex items-center"),i(C,"class","text-sm text-gray-500"),i(e,"class","flex items-center justify-between")},m(b,m){te(b,e,m),t(e,s),me(l,s,null),t(s,n),t(s,r),t(r,_),t(s,h),t(s,w),t(w,y),t(e,T),t(e,C),t(C,I),t(C,g),t(e,j),d=!0},p(b,m){const E={};m[0]&8&&(E.name=b[11][b[32].backup_type].icon),m[0]&8&&(E.class="w-5 h-5 text-"+b[11][b[32].backup_type].color+"-500 mr-2"),l.$set(E),(!d||m[0]&8)&&v!==(v=b[32].backup_type+"")&&ae(_,v),(!d||m[0]&8)&&D!==(D=b[32].status+"")&&ae(y,D),(!d||m[0]&8&&$!==($="ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-"+b[10][b[32].status]+"-100 text-"+b[10][b[32].status]+"-800 svelte-tinobq"))&&i(w,"class",$),(!d||m[0]&8)&&O!==(O=b[32].count+"")&&ae(I,O)},i(b){d||(J(l.$$.fragment,b),d=!0)},o(b){Q(l.$$.fragment,b),d=!1},d(b){b&&f(e),ve(l)}}}function yt(a){let e,s,l,n=a[32].name+"",r,v,_,h=a[32].backup_type+"",w,D,y=a[32].destination+"",$,T,C,O=a[32].hours_until_next.toFixed(1)+"",I,g,j;return{c(){e=u("div"),s=u("div"),l=u("p"),r=K(n),v=B(),_=u("p"),w=K(h),D=K(" → "),$=K(y),T=B(),C=u("div"),I=K(O),g=K("h"),j=B(),this.h()},l(d){e=c(d,"DIV",{class:!0});var b=k(e);s=c(b,"DIV",{});var m=k(s);l=c(m,"P",{class:!0});var E=k(l);r=G(E,n),E.forEach(f),v=V(m),_=c(m,"P",{class:!0});var p=k(_);w=G(p,h),D=G(p," → "),$=G(p,y),p.forEach(f),m.forEach(f),T=V(b),C=c(b,"DIV",{class:!0});var x=k(C);I=G(x,O),g=G(x,"h"),x.forEach(f),j=V(b),b.forEach(f),this.h()},h(){i(l,"class","text-sm font-medium text-gray-900"),i(_,"class","text-xs text-gray-500"),i(C,"class","text-sm text-gray-600"),i(e,"class","flex items-center justify-between")},m(d,b){te(d,e,b),t(e,s),t(s,l),t(l,r),t(s,v),t(s,_),t(_,w),t(_,D),t(_,$),t(e,T),t(e,C),t(C,I),t(C,g),t(e,j)},p(d,b){b[0]&8&&n!==(n=d[32].name+"")&&ae(r,n),b[0]&8&&h!==(h=d[32].backup_type+"")&&ae(w,h),b[0]&8&&y!==(y=d[32].destination+"")&&ae($,y),b[0]&8&&O!==(O=d[32].hours_until_next.toFixed(1)+"")&&ae(I,O)},d(d){d&&f(e)}}}function xt(a){let e,s;return e=new Nt({}),e.$on("create",a[29]),e.$on("close",a[30]),{c(){ge(e.$$.fragment)},l(l){be(e.$$.fragment,l)},m(l,n){me(e,l,n),s=!0},p:Te,i(l){s||(J(e.$$.fragment,l),s=!0)},o(l){Q(e.$$.fragment,l),s=!1},d(l){ve(e,l)}}}function wt(a){let e,s;return e=new Lt({props:{backup:a[9]}}),e.$on("close",a[31]),{c(){ge(e.$$.fragment)},l(l){be(e.$$.fragment,l)},m(l,n){me(e,l,n),s=!0},p(l,n){const r={};n[0]&512&&(r.backup=l[9]),e.$set(r)},i(l){s||(J(e.$$.fragment,l),s=!0)},o(l){Q(e.$$.fragment,l),s=!1},d(l){ve(e,l)}}}function qt(a){let e,s,l,n,r='<h1 class="text-3xl font-bold text-gray-900">Backup Management</h1> <p class="mt-2 text-gray-600">Manage system backups and recovery</p>',v,_,h,w,D,y,$,T,C,O,I,g,j,d,b="Backups",m,E,p="Schedules",x,o,A="Statistics",R,N,U,H,ee,W,F,X,S;w=new Ee({props:{name:"database",class:"w-5 h-5 mr-2"}}),T=new Ee({props:{name:"package",class:"w-5 h-5 mr-2"}});const L=[jt,Mt,Ot],z=[];function Y(M,q){return M[4]?0:M[5]?1:2}N=Y(a),U=z[N]=L[N](a);let P=a[7]&&xt(a),Z=a[8]&&a[9]&&wt(a);return{c(){e=u("div"),s=u("div"),l=u("div"),n=u("div"),n.innerHTML=r,v=B(),_=u("div"),h=u("button"),ge(w.$$.fragment),D=K(`
                    Backup Database`),y=B(),$=u("button"),ge(T.$$.fragment),C=K(`
                    Full Backup`),O=B(),I=u("div"),g=u("div"),j=u("nav"),d=u("button"),d.textContent=b,m=B(),E=u("button"),E.textContent=p,x=B(),o=u("button"),o.textContent=A,R=B(),U.c(),H=B(),P&&P.c(),ee=B(),Z&&Z.c(),W=Ae(),this.h()},l(M){e=c(M,"DIV",{class:!0});var q=k(e);s=c(q,"DIV",{class:!0});var se=k(s);l=c(se,"DIV",{class:!0});var ke=k(l);n=c(ke,"DIV",{"data-svelte-h":!0}),le(n)!=="svelte-eqnamb"&&(n.innerHTML=r),v=V(ke),_=c(ke,"DIV",{class:!0});var ue=k(_);h=c(ue,"BUTTON",{class:!0});var re=k(h);be(w.$$.fragment,re),D=G(re,`
                    Backup Database`),re.forEach(f),y=V(ue),$=c(ue,"BUTTON",{class:!0});var ne=k($);be(T.$$.fragment,ne),C=G(ne,`
                    Full Backup`),ne.forEach(f),ue.forEach(f),ke.forEach(f),se.forEach(f),O=V(q),I=c(q,"DIV",{class:!0});var fe=k(I);g=c(fe,"DIV",{class:!0});var he=k(g);j=c(he,"NAV",{class:!0});var oe=k(j);d=c(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),le(d)!=="svelte-y08b91"&&(d.textContent=b),m=V(oe),E=c(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),le(E)!=="svelte-wb7m1z"&&(E.textContent=p),x=V(oe),o=c(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),le(o)!=="svelte-jc0a3z"&&(o.textContent=A),oe.forEach(f),he.forEach(f),fe.forEach(f),R=V(q),U.l(q),q.forEach(f),H=V(M),P&&P.l(M),ee=V(M),Z&&Z.l(M),W=Ae(),this.h()},h(){i(h,"class","btn btn-secondary svelte-tinobq"),i($,"class","btn btn-primary svelte-tinobq"),i(_,"class","flex space-x-2"),i(l,"class","flex justify-between items-center"),i(s,"class","mb-8"),i(d,"class","py-2 px-1 border-b-2 font-medium text-sm"),ie(d,"border-indigo-500",a[6]==="backups"),ie(d,"text-indigo-600",a[6]==="backups"),ie(d,"border-transparent",a[6]!=="backups"),ie(d,"text-gray-500",a[6]!=="backups"),i(E,"class","py-2 px-1 border-b-2 font-medium text-sm"),ie(E,"border-indigo-500",a[6]==="schedules"),ie(E,"text-indigo-600",a[6]==="schedules"),ie(E,"border-transparent",a[6]!=="schedules"),ie(E,"text-gray-500",a[6]!=="schedules"),i(o,"class","py-2 px-1 border-b-2 font-medium text-sm"),ie(o,"border-indigo-500",a[6]==="stats"),ie(o,"text-indigo-600",a[6]==="stats"),ie(o,"border-transparent",a[6]!=="stats"),ie(o,"text-gray-500",a[6]!=="stats"),i(j,"class","-mb-px flex space-x-8"),i(g,"class","border-b border-gray-200"),i(I,"class","mb-6"),i(e,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8")},m(M,q){te(M,e,q),t(e,s),t(s,l),t(l,n),t(l,v),t(l,_),t(_,h),me(w,h,null),t(h,D),t(_,y),t(_,$),me(T,$,null),t($,C),t(e,O),t(e,I),t(I,g),t(g,j),t(j,d),t(j,m),t(j,E),t(j,x),t(j,o),t(e,R),z[N].m(e,null),te(M,H,q),P&&P.m(M,q),te(M,ee,q),Z&&Z.m(M,q),te(M,W,q),F=!0,X||(S=[ce(h,"click",a[19]),ce($,"click",a[20]),ce(d,"click",a[21]),ce(E,"click",a[22]),ce(o,"click",a[23])],X=!0)},p(M,q){(!F||q[0]&64)&&ie(d,"border-indigo-500",M[6]==="backups"),(!F||q[0]&64)&&ie(d,"text-indigo-600",M[6]==="backups"),(!F||q[0]&64)&&ie(d,"border-transparent",M[6]!=="backups"),(!F||q[0]&64)&&ie(d,"text-gray-500",M[6]!=="backups"),(!F||q[0]&64)&&ie(E,"border-indigo-500",M[6]==="schedules"),(!F||q[0]&64)&&ie(E,"text-indigo-600",M[6]==="schedules"),(!F||q[0]&64)&&ie(E,"border-transparent",M[6]!=="schedules"),(!F||q[0]&64)&&ie(E,"text-gray-500",M[6]!=="schedules"),(!F||q[0]&64)&&ie(o,"border-indigo-500",M[6]==="stats"),(!F||q[0]&64)&&ie(o,"text-indigo-600",M[6]==="stats"),(!F||q[0]&64)&&ie(o,"border-transparent",M[6]!=="stats"),(!F||q[0]&64)&&ie(o,"text-gray-500",M[6]!=="stats");let se=N;N=Y(M),N===se?z[N].p(M,q):(we(),Q(z[se],1,1,()=>{z[se]=null}),xe(),U=z[N],U?U.p(M,q):(U=z[N]=L[N](M),U.c()),J(U,1),U.m(e,null)),M[7]?P?(P.p(M,q),q[0]&128&&J(P,1)):(P=xt(M),P.c(),J(P,1),P.m(ee.parentNode,ee)):P&&(we(),Q(P,1,1,()=>{P=null}),xe()),M[8]&&M[9]?Z?(Z.p(M,q),q[0]&768&&J(Z,1)):(Z=wt(M),Z.c(),J(Z,1),Z.m(W.parentNode,W)):Z&&(we(),Q(Z,1,1,()=>{Z=null}),xe())},i(M){F||(J(w.$$.fragment,M),J(T.$$.fragment,M),J(U),J(P),J(Z),F=!0)},o(M){Q(w.$$.fragment,M),Q(T.$$.fragment,M),Q(U),Q(P),Q(Z),F=!1},d(M){M&&(f(e),f(H),f(ee),f(W)),ve(w),ve(T),z[N].d(),P&&P.d(M),Z&&Z.d(M),X=!1,Le(S)}}}function Et(a){if(!a)return"0 B";const e=1024,s=["B","KB","MB","GB","TB"],l=Math.floor(Math.log(a)/Math.log(e));return parseFloat((a/Math.pow(e,l)).toFixed(2))+" "+s[l]}function Ut(a,e,s){let l=[],n=[],r=[],v={recent_backups:[],upcoming_backups:[]},_=!0,h=null,w="backups",D=!1,y=!1,$=null;const T={pending:"yellow",running:"blue",completed:"green",failed:"red",cancelled:"gray"},C={database:{icon:"database",color:"blue"},files:{icon:"folder",color:"green"},full:{icon:"package",color:"purple"}};async function O(){try{s(4,_=!0),s(5,h=null),w==="backups"?s(0,l=await De.get("/backup/list")):w==="schedules"?s(1,n=await De.get("/backup/schedules/list")):w==="stats"&&(s(2,r=await De.get("/backup/stats/overview")),s(3,v=await De.get("/backup/status/dashboard")))}catch(S){s(5,h=S.message||"Failed to load backup data")}finally{s(4,_=!1)}}async function I(S){if(confirm(`Create a ${S} backup now?`))try{const L=await De.post("/backup/create",{backup_type:S,destination:"local",compress:!0});alert(L.message),await O()}catch(L){alert(L.message||"Failed to create backup")}}async function g(S){try{const L=await De.post(`/backup/${S}/verify`);L.status==="passed"?alert("Backup verification passed!"):alert(`Backup verification failed: ${JSON.stringify(L.checks)}`)}catch(L){alert(L.message||"Failed to verify backup")}}async function j(){if(confirm("Clean up old backups according to retention policy?"))try{const S=await De.delete("/backup/cleanup");alert(`Cleanup completed. Deleted ${S.deleted.local} local and ${S.deleted.remote} remote backups.`),await O()}catch(S){alert(S.message||"Failed to cleanup backups")}}async function d(S){try{await De.post("/backup/schedules/create",S),s(7,D=!1),await O()}catch(L){throw new Error(L.message||"Failed to create schedule")}}async function b(S,L){try{await De.put(`/backup/schedules/${S}`,{is_active:!L}),await O()}catch(z){alert(z.message||"Failed to update schedule")}}async function m(S){if(confirm("Delete this backup schedule?"))try{await De.delete(`/backup/schedules/${S}`),await O()}catch(L){alert(L.message||"Failed to delete schedule")}}return Vt(()=>{O();const S=setInterval(O,3e4);return()=>clearInterval(S)}),[l,n,r,v,_,h,w,D,y,$,T,C,O,I,g,j,d,b,m,()=>I("database"),()=>I("full"),()=>{s(6,w="backups"),O()},()=>{s(6,w="schedules"),O()},()=>{s(6,w="stats"),O()},S=>g(S.id),S=>{s(9,$=S),s(8,y=!0)},()=>s(7,D=!0),S=>b(S.id,S.is_active),S=>m(S.id),S=>d(S.detail),()=>s(7,D=!1),()=>{s(8,y=!1),s(9,$=null)}]}class Gt extends Ye{constructor(e){super(),We(this,e,Ut,qt,Qe,{},null,[-1,-1])}}export{Gt as component};
