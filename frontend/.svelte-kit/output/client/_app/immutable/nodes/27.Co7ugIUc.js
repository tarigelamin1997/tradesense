import{S as Yl,i as Jl,s as Wl,d as r,y as xe,t as ke,a as Ce,I as jl,f as te,h as t,z as et,G as ol,D as o,E as Zl,o as E,k as v,l as u,m as De,A as tt,p as V,r as $,q as f,B as lt,v as y,w as Kl,n as Bt,H as at,e as H,N as Xl,P as Qt,Z as W,J as Gl,U as $l,_ as Be,$ as He,V as Dl,O as Ql,j as gt}from"../chunks/Lbc7qOuA.js";import{g as xl}from"../chunks/D0QH3NT1.js";import{e as we}from"../chunks/BPb2qfkA.js";import"../chunks/IHki7fMi.js";import{a as kl}from"../chunks/DL1kKP1L.js";import{L as nl}from"../chunks/yBtR4AKW.js";import{D as es}from"../chunks/-mP7Un7Q.js";import{C as ts}from"../chunks/B5zPiAHL.js";import{D as ls}from"../chunks/DmVDXxKx.js";import{C as ss}from"../chunks/DSnWZT4c.js";import{P as as}from"../chunks/Czj9TQgn.js";import{T as os}from"../chunks/BXNpXYMZ.js";import{T as ns}from"../chunks/DXycaVAh.js";const{document:Cl}=xl;function Vl(a,e,l){const s=a.slice();return s[18]=e[l],s}function yl(a,e,l){const s=a.slice();return s[18]=e[l],s}function Il(a,e,l){const s=a.slice();return s[18]=e[l],s}function Al(a,e,l){const s=a.slice();return s[25]=e[l],s}function Tl(a,e,l){const s=a.slice();s[25]=e[l],s[33]=l;const i=80;s[28]=i;const d=2*Math.PI*s[28];s[29]=d;const p=s[4].allocations.slice(0,s[33]).reduce((w,b)=>w+b.percentage,0)/100*s[29];s[30]=p;const h=s[25].percentage/100*s[29];return s[31]=h,s}function rs(a,e,l){const s=a.slice();return s[15]=e[l],s[33]=l,s}function al(a){const e=a.slice(),l=Math.max(...e[4].performance.map(p=>p.value));e[34]=l;const s=Math.min(...e[4].performance.map(p=>p.value));e[35]=s;const i=e[34]-e[35]||1;e[36]=i;const d=e[4].performance.map(function(...h){return a[10](e[35],e[36],...h)}).join(" ");return e[37]=d,e}function Ll(a,e,l){const s=a.slice();return s[39]=e[l],s}function Sl(a,e,l){const s=a.slice();return s[42]=e[l],s}function is(a,e,l){const s=a.slice();return s[15]=e[l],s}function cs(a){let e,l,s,i,d,p,h,w,b="Total Value",P,D,g=Me(a[4].totalValue)+"",_,k,I,C,R,S,N,m,O="Total P&L",q,A,se=Me(a[4].totalPnL)+"",Q,Y,z,x,J,Z,Ve=ct(a[4].totalPnLPercent)+"",Ae,be,G,ae,Ne="Positions",Ue,K,oe=a[4].positions.length+"",Fe,Re,ne,B,T,je,re,ie,Te="Win Rate",st,Pe,me=(a[4].positions.filter(Ul).length/a[4].positions.length*100).toFixed(0)+"",Le,Ge,Ke,le,Ee,wt,ot,ce,Se,vt="Portfolio Performance",ft,Qe,ee,M,$e,Oe,zt="Asset Allocation",bt,Ye,qe,X,Xe=a[4].allocations.length+"",ut,ye,pt,nt,Je,rt,We,ze,Pt="Top Performers",Yt,dt,Ht,Ze,ht,rl="Current Positions",Jt,Et,it,$t,il='<tr class="svelte-oetpw9"><th class="svelte-oetpw9">Symbol</th> <th class="svelte-oetpw9">Quantity</th> <th class="svelte-oetpw9">Avg Price</th> <th class="svelte-oetpw9">Current Price</th> <th class="svelte-oetpw9">Value</th> <th class="svelte-oetpw9">P&amp;L</th> <th class="svelte-oetpw9">P&amp;L %</th> <th class="svelte-oetpw9">Allocation</th></tr>',Wt,Dt,Zt,_t,Ie,Kt,cl,kt=we(a[5]),ve=[];for(let n=0;n<kt.length;n+=1)ve[n]=Nl(Sl(a,kt,n));let Ct=we(a[6]),fe=[];for(let n=0;n<Ct.length;n+=1)fe[n]=Fl(Ll(a,Ct,n));C=new ls({props:{size:16}});const vl=[ps,us],mt=[];function fl(n,L){return n[4].totalPnL>=0?0:1}x=fl(a),J=mt[x]=vl[x](a),B=new ss({props:{size:16}}),Ee=new as({props:{size:16}});let ge=a[4].performance.length>0&&Ol(al(a)),Vt=we(a[4].allocations),ue=[];for(let n=0;n<Vt.length;n+=1)ue[n]=ql(Tl(a,Vt,n));let yt=we(a[4].allocations),pe=[];for(let n=0;n<yt.length;n+=1)pe[n]=zl(Al(a,yt,n));let It=we(a[4].positions.sort(Rl).slice(0,5)),de=[];for(let n=0;n<It.length;n+=1)de[n]=Bl(Il(a,It,n));let At=we(a[4].positions),he=[];for(let n=0;n<At.length;n+=1)he[n]=Hl(yl(a,At,n));let Tt=we(a[4].positions),_e=[];for(let n=0;n<Tt.length;n+=1)_e[n]=Ml(Vl(a,Tt,n));return{c(){e=f("div"),l=f("select");for(let n=0;n<ve.length;n+=1)ve[n].c();s=$(),i=f("select");for(let n=0;n<fe.length;n+=1)fe[n].c();d=$(),p=f("div"),h=f("div"),w=f("div"),w.textContent=b,P=$(),D=f("div"),_=y(g),k=$(),I=f("div"),lt(C.$$.fragment),R=y(`
					Portfolio Value`),S=$(),N=f("div"),m=f("div"),m.textContent=O,q=$(),A=f("div"),Q=y(se),Y=$(),z=f("div"),J.c(),Z=$(),Ae=y(Ve),be=$(),G=f("div"),ae=f("div"),ae.textContent=Ne,Ue=$(),K=f("div"),Fe=y(oe),Re=$(),ne=f("div"),lt(B.$$.fragment),T=y(`
					Active Positions`),je=$(),re=f("div"),ie=f("div"),ie.textContent=Te,st=$(),Pe=f("div"),Le=y(me),Ge=y("%"),Ke=$(),le=f("div"),lt(Ee.$$.fragment),wt=y(`
					Profitable Positions`),ot=$(),ce=f("div"),Se=f("h2"),Se.textContent=vt,ft=$(),Qe=f("div"),ge&&ge.c(),ee=$(),M=f("div"),$e=f("div"),Oe=f("h2"),Oe.textContent=zt,bt=$(),Ye=f("div"),qe=He("svg");for(let n=0;n<ue.length;n+=1)ue[n].c();X=He("text"),ut=y(Xe),ye=He("tspan"),pt=y("Asset Classes"),nt=$(),Je=f("div");for(let n=0;n<pe.length;n+=1)pe[n].c();rt=$(),We=f("div"),ze=f("h2"),ze.textContent=Pt,Yt=$(),dt=f("div");for(let n=0;n<de.length;n+=1)de[n].c();Ht=$(),Ze=f("div"),ht=f("h2"),ht.textContent=rl,Jt=$(),Et=f("div"),it=f("table"),$t=f("thead"),$t.innerHTML=il,Wt=$(),Dt=f("tbody");for(let n=0;n<he.length;n+=1)he[n].c();Zt=$(),_t=f("div");for(let n=0;n<_e.length;n+=1)_e[n].c();this.h()},l(n){e=v(n,"DIV",{class:!0});var L=u(e);l=v(L,"SELECT",{class:!0});var F=u(l);for(let j=0;j<ve.length;j+=1)ve[j].l(F);F.forEach(r),s=E(L),i=v(L,"SELECT",{class:!0});var c=u(i);for(let j=0;j<fe.length;j+=1)fe[j].l(c);c.forEach(r),L.forEach(r),d=E(n),p=v(n,"DIV",{class:!0});var U=u(p);h=v(U,"DIV",{class:!0});var Lt=u(h);w=v(Lt,"DIV",{class:!0,"data-svelte-h":!0}),De(w)!=="svelte-1x3c2k1"&&(w.textContent=b),P=E(Lt),D=v(Lt,"DIV",{class:!0});var ul=u(D);_=V(ul,g),ul.forEach(r),k=E(Lt),I=v(Lt,"DIV",{class:!0});var Xt=u(I);tt(C.$$.fragment,Xt),R=V(Xt,`
					Portfolio Value`),Xt.forEach(r),Lt.forEach(r),S=E(U),N=v(U,"DIV",{class:!0});var St=u(N);m=v(St,"DIV",{class:!0,"data-svelte-h":!0}),De(m)!=="svelte-113d7h0"&&(m.textContent=O),q=E(St),A=v(St,"DIV",{class:!0});var pl=u(A);Q=V(pl,se),pl.forEach(r),Y=E(St),z=v(St,"DIV",{class:!0});var Mt=u(z);J.l(Mt),Z=E(Mt),Ae=V(Mt,Ve),Mt.forEach(r),St.forEach(r),be=E(U),G=v(U,"DIV",{class:!0});var Nt=u(G);ae=v(Nt,"DIV",{class:!0,"data-svelte-h":!0}),De(ae)!=="svelte-1ps03pw"&&(ae.textContent=Ne),Ue=E(Nt),K=v(Nt,"DIV",{class:!0});var dl=u(K);Fe=V(dl,oe),dl.forEach(r),Re=E(Nt),ne=v(Nt,"DIV",{class:!0});var xt=u(ne);tt(B.$$.fragment,xt),T=V(xt,`
					Active Positions`),xt.forEach(r),Nt.forEach(r),je=E(U),re=v(U,"DIV",{class:!0});var Ft=u(re);ie=v(Ft,"DIV",{class:!0,"data-svelte-h":!0}),De(ie)!=="svelte-hgyrt2"&&(ie.textContent=Te),st=E(Ft),Pe=v(Ft,"DIV",{class:!0});var el=u(Pe);Le=V(el,me),Ge=V(el,"%"),el.forEach(r),Ke=E(Ft),le=v(Ft,"DIV",{class:!0});var tl=u(le);tt(Ee.$$.fragment,tl),wt=V(tl,`
					Profitable Positions`),tl.forEach(r),Ft.forEach(r),U.forEach(r),ot=E(n),ce=v(n,"DIV",{class:!0});var Ut=u(ce);Se=v(Ut,"H2",{class:!0,"data-svelte-h":!0}),De(Se)!=="svelte-179si4c"&&(Se.textContent=vt),ft=E(Ut),Qe=v(Ut,"DIV",{class:!0});var hl=u(Qe);ge&&ge.l(hl),hl.forEach(r),Ut.forEach(r),ee=E(n),M=v(n,"DIV",{class:!0});var Rt=u(M);$e=v(Rt,"DIV",{class:!0});var Ot=u($e);Oe=v(Ot,"H2",{class:!0,"data-svelte-h":!0}),De(Oe)!=="svelte-1b45yuw"&&(Oe.textContent=zt),bt=E(Ot),Ye=v(Ot,"DIV",{class:!0});var _l=u(Ye);qe=Be(_l,"svg",{viewBox:!0,class:!0});var ll=u(qe);for(let j=0;j<ue.length;j+=1)ue[j].l(ll);X=Be(ll,"text",{x:!0,y:!0,"text-anchor":!0,"dominant-baseline":!0,class:!0});var sl=u(X);ut=V(sl,Xe),ye=Be(sl,"tspan",{x:!0,dy:!0,"font-size":!0,class:!0});var ml=u(ye);pt=V(ml,"Asset Classes"),ml.forEach(r),sl.forEach(r),ll.forEach(r),_l.forEach(r),nt=E(Ot),Je=v(Ot,"DIV",{class:!0});var gl=u(Je);for(let j=0;j<pe.length;j+=1)pe[j].l(gl);gl.forEach(r),Ot.forEach(r),rt=E(Rt),We=v(Rt,"DIV",{class:!0});var jt=u(We);ze=v(jt,"H2",{class:!0,"data-svelte-h":!0}),De(ze)!=="svelte-n5tpf0"&&(ze.textContent=Pt),Yt=E(jt),dt=v(jt,"DIV",{class:!0});var wl=u(dt);for(let j=0;j<de.length;j+=1)de[j].l(wl);wl.forEach(r),jt.forEach(r),Rt.forEach(r),Ht=E(n),Ze=v(n,"DIV",{class:!0});var qt=u(Ze);ht=v(qt,"H2",{class:!0,"data-svelte-h":!0}),De(ht)!=="svelte-1vwz1it"&&(ht.textContent=rl),Jt=E(qt),Et=v(qt,"DIV",{class:!0});var bl=u(Et);it=v(bl,"TABLE",{class:!0});var Gt=u(it);$t=v(Gt,"THEAD",{"data-svelte-h":!0}),De($t)!=="svelte-f60kt4"&&($t.innerHTML=il),Wt=E(Gt),Dt=v(Gt,"TBODY",{});var Pl=u(Dt);for(let j=0;j<he.length;j+=1)he[j].l(Pl);Pl.forEach(r),Gt.forEach(r),bl.forEach(r),Zt=E(qt),_t=v(qt,"DIV",{class:!0});var El=u(_t);for(let j=0;j<_e.length;j+=1)_e[j].l(El);El.forEach(r),qt.forEach(r),this.h()},h(){o(l,"class","filter-select svelte-oetpw9"),a[0]===void 0&&$l(()=>a[8].call(l)),o(i,"class","filter-select svelte-oetpw9"),a[1]===void 0&&$l(()=>a[9].call(i)),o(e,"class","filters svelte-oetpw9"),o(w,"class","card-label svelte-oetpw9"),o(D,"class","card-value svelte-oetpw9"),o(I,"class","card-change svelte-oetpw9"),o(h,"class","summary-card svelte-oetpw9"),o(m,"class","card-label svelte-oetpw9"),o(A,"class","card-value svelte-oetpw9"),W(A,"positive",a[4].totalPnL>=0),W(A,"negative",a[4].totalPnL<0),o(z,"class","card-change svelte-oetpw9"),W(z,"positive",a[4].totalPnL>=0),W(z,"negative",a[4].totalPnL<0),o(N,"class","summary-card svelte-oetpw9"),o(ae,"class","card-label svelte-oetpw9"),o(K,"class","card-value svelte-oetpw9"),o(ne,"class","card-change svelte-oetpw9"),o(G,"class","summary-card svelte-oetpw9"),o(ie,"class","card-label svelte-oetpw9"),o(Pe,"class","card-value svelte-oetpw9"),o(le,"class","card-change svelte-oetpw9"),o(re,"class","summary-card svelte-oetpw9"),o(p,"class","summary-cards svelte-oetpw9"),o(Se,"class","svelte-oetpw9"),o(Qe,"class","chart-container svelte-oetpw9"),o(ce,"class","portfolio-chart card svelte-oetpw9"),o(Oe,"class","svelte-oetpw9"),o(ye,"x","100"),o(ye,"dy","20"),o(ye,"font-size","12"),o(ye,"class","svelte-oetpw9"),o(X,"x","100"),o(X,"y","100"),o(X,"text-anchor","middle"),o(X,"dominant-baseline","middle"),o(X,"class","donut-center svelte-oetpw9"),o(qe,"viewBox","0 0 200 200"),o(qe,"class","donut svelte-oetpw9"),o(Ye,"class","donut-chart svelte-oetpw9"),o(Je,"class","allocation-legend svelte-oetpw9"),o($e,"class","allocation-chart card svelte-oetpw9"),o(ze,"class","svelte-oetpw9"),o(dt,"class","performers-list svelte-oetpw9"),o(We,"class","top-performers card svelte-oetpw9"),o(M,"class","allocation-section svelte-oetpw9"),o(ht,"class","svelte-oetpw9"),o(it,"class","svelte-oetpw9"),o(Et,"class","positions-table card desktop-only svelte-oetpw9"),o(_t,"class","positions-cards mobile-only svelte-oetpw9"),o(Ze,"class","positions-section svelte-oetpw9")},m(n,L){te(n,e,L),t(e,l);for(let F=0;F<ve.length;F+=1)ve[F]&&ve[F].m(l,null);Qt(l,a[0],!0),t(e,s),t(e,i);for(let F=0;F<fe.length;F+=1)fe[F]&&fe[F].m(i,null);Qt(i,a[1],!0),te(n,d,L),te(n,p,L),t(p,h),t(h,w),t(h,P),t(h,D),t(D,_),t(h,k),t(h,I),et(C,I,null),t(I,R),t(p,S),t(p,N),t(N,m),t(N,q),t(N,A),t(A,Q),t(N,Y),t(N,z),mt[x].m(z,null),t(z,Z),t(z,Ae),t(p,be),t(p,G),t(G,ae),t(G,Ue),t(G,K),t(K,Fe),t(G,Re),t(G,ne),et(B,ne,null),t(ne,T),t(p,je),t(p,re),t(re,ie),t(re,st),t(re,Pe),t(Pe,Le),t(Pe,Ge),t(re,Ke),t(re,le),et(Ee,le,null),t(le,wt),te(n,ot,L),te(n,ce,L),t(ce,Se),t(ce,ft),t(ce,Qe),ge&&ge.m(Qe,null),te(n,ee,L),te(n,M,L),t(M,$e),t($e,Oe),t($e,bt),t($e,Ye),t(Ye,qe);for(let F=0;F<ue.length;F+=1)ue[F]&&ue[F].m(qe,null);t(qe,X),t(X,ut),t(X,ye),t(ye,pt),t($e,nt),t($e,Je);for(let F=0;F<pe.length;F+=1)pe[F]&&pe[F].m(Je,null);t(M,rt),t(M,We),t(We,ze),t(We,Yt),t(We,dt);for(let F=0;F<de.length;F+=1)de[F]&&de[F].m(dt,null);te(n,Ht,L),te(n,Ze,L),t(Ze,ht),t(Ze,Jt),t(Ze,Et),t(Et,it),t(it,$t),t(it,Wt),t(it,Dt);for(let F=0;F<he.length;F+=1)he[F]&&he[F].m(Dt,null);t(Ze,Zt),t(Ze,_t);for(let F=0;F<_e.length;F+=1)_e[F]&&_e[F].m(_t,null);Ie=!0,Kt||(cl=[ol(l,"change",a[8]),ol(i,"change",a[9])],Kt=!0)},p(n,L){if(L[0]&32){kt=we(n[5]);let c;for(c=0;c<kt.length;c+=1){const U=Sl(n,kt,c);ve[c]?ve[c].p(U,L):(ve[c]=Nl(U),ve[c].c(),ve[c].m(l,null))}for(;c<ve.length;c+=1)ve[c].d(1);ve.length=kt.length}if(L[0]&33&&Qt(l,n[0]),L[0]&64){Ct=we(n[6]);let c;for(c=0;c<Ct.length;c+=1){const U=Ll(n,Ct,c);fe[c]?fe[c].p(U,L):(fe[c]=Fl(U),fe[c].c(),fe[c].m(i,null))}for(;c<fe.length;c+=1)fe[c].d(1);fe.length=Ct.length}L[0]&66&&Qt(i,n[1]),(!Ie||L[0]&16)&&g!==(g=Me(n[4].totalValue)+"")&&H(_,g),(!Ie||L[0]&16)&&se!==(se=Me(n[4].totalPnL)+"")&&H(Q,se),(!Ie||L[0]&16)&&W(A,"positive",n[4].totalPnL>=0),(!Ie||L[0]&16)&&W(A,"negative",n[4].totalPnL<0);let F=x;if(x=fl(n),x!==F&&(Gl(),ke(mt[F],1,1,()=>{mt[F]=null}),jl(),J=mt[x],J||(J=mt[x]=vl[x](n),J.c()),Ce(J,1),J.m(z,Z)),(!Ie||L[0]&16)&&Ve!==(Ve=ct(n[4].totalPnLPercent)+"")&&H(Ae,Ve),(!Ie||L[0]&16)&&W(z,"positive",n[4].totalPnL>=0),(!Ie||L[0]&16)&&W(z,"negative",n[4].totalPnL<0),(!Ie||L[0]&16)&&oe!==(oe=n[4].positions.length+"")&&H(Fe,oe),(!Ie||L[0]&16)&&me!==(me=(n[4].positions.filter(Ul).length/n[4].positions.length*100).toFixed(0)+"")&&H(Le,me),n[4].performance.length>0?ge?ge.p(al(n),L):(ge=Ol(al(n)),ge.c(),ge.m(Qe,null)):ge&&(ge.d(1),ge=null),L[0]&16){Vt=we(n[4].allocations);let c;for(c=0;c<Vt.length;c+=1){const U=Tl(n,Vt,c);ue[c]?ue[c].p(U,L):(ue[c]=ql(U),ue[c].c(),ue[c].m(qe,X))}for(;c<ue.length;c+=1)ue[c].d(1);ue.length=Vt.length}if((!Ie||L[0]&16)&&Xe!==(Xe=n[4].allocations.length+"")&&H(ut,Xe),L[0]&16){yt=we(n[4].allocations);let c;for(c=0;c<yt.length;c+=1){const U=Al(n,yt,c);pe[c]?pe[c].p(U,L):(pe[c]=zl(U),pe[c].c(),pe[c].m(Je,null))}for(;c<pe.length;c+=1)pe[c].d(1);pe.length=yt.length}if(L[0]&16){It=we(n[4].positions.sort(Rl).slice(0,5));let c;for(c=0;c<It.length;c+=1){const U=Il(n,It,c);de[c]?de[c].p(U,L):(de[c]=Bl(U),de[c].c(),de[c].m(dt,null))}for(;c<de.length;c+=1)de[c].d(1);de.length=It.length}if(L[0]&16){At=we(n[4].positions);let c;for(c=0;c<At.length;c+=1){const U=yl(n,At,c);he[c]?he[c].p(U,L):(he[c]=Hl(U),he[c].c(),he[c].m(Dt,null))}for(;c<he.length;c+=1)he[c].d(1);he.length=At.length}if(L[0]&16){Tt=we(n[4].positions);let c;for(c=0;c<Tt.length;c+=1){const U=Vl(n,Tt,c);_e[c]?_e[c].p(U,L):(_e[c]=Ml(U),_e[c].c(),_e[c].m(_t,null))}for(;c<_e.length;c+=1)_e[c].d(1);_e.length=Tt.length}},i(n){Ie||(Ce(C.$$.fragment,n),Ce(J),Ce(B.$$.fragment,n),Ce(Ee.$$.fragment,n),Ie=!0)},o(n){ke(C.$$.fragment,n),ke(J),ke(B.$$.fragment,n),ke(Ee.$$.fragment,n),Ie=!1},d(n){n&&(r(e),r(d),r(p),r(ot),r(ce),r(ee),r(M),r(Ht),r(Ze)),at(ve,n),at(fe,n),xe(C),mt[x].d(),xe(B),xe(Ee),ge&&ge.d(),at(ue,n),at(pe,n),at(de,n),at(he,n),at(_e,n),Kt=!1,Xl(cl)}}}function vs(a){let e,l,s,i,d;return l=new ts({props:{size:20}}),{c(){e=f("div"),lt(l.$$.fragment),s=$(),i=y(a[3]),this.h()},l(p){e=v(p,"DIV",{class:!0});var h=u(e);tt(l.$$.fragment,h),s=E(h),i=V(h,a[3]),h.forEach(r),this.h()},h(){o(e,"class","error svelte-oetpw9")},m(p,h){te(p,e,h),et(l,e,null),t(e,s),t(e,i),d=!0},p(p,h){(!d||h[0]&8)&&H(i,p[3])},i(p){d||(Ce(l.$$.fragment,p),d=!0)},o(p){ke(l.$$.fragment,p),d=!1},d(p){p&&r(e),xe(l)}}}function fs(a){let e,l,s,i,d,p,h,w=we(Array(4)),b=[];for(let P=0;P<w.length;P+=1)b[P]=hs(is(a,w,P));return i=new nl({props:{type:"chart",height:"400px"}}),p=new nl({props:{type:"table",lines:5}}),{c(){e=f("div"),l=f("div");for(let P=0;P<b.length;P+=1)b[P].c();s=$(),lt(i.$$.fragment),d=$(),lt(p.$$.fragment),this.h()},l(P){e=v(P,"DIV",{class:!0});var D=u(e);l=v(D,"DIV",{class:!0});var g=u(l);for(let _=0;_<b.length;_+=1)b[_].l(g);g.forEach(r),s=E(D),tt(i.$$.fragment,D),d=E(D),tt(p.$$.fragment,D),D.forEach(r),this.h()},h(){o(l,"class","summary-cards svelte-oetpw9"),o(e,"class","portfolio-skeleton svelte-oetpw9")},m(P,D){te(P,e,D),t(e,l);for(let g=0;g<b.length;g+=1)b[g]&&b[g].m(l,null);t(e,s),et(i,e,null),t(e,d),et(p,e,null),h=!0},p:Bt,i(P){if(!h){for(let D=0;D<w.length;D+=1)Ce(b[D]);Ce(i.$$.fragment,P),Ce(p.$$.fragment,P),h=!0}},o(P){b=b.filter(Boolean);for(let D=0;D<b.length;D+=1)ke(b[D]);ke(i.$$.fragment,P),ke(p.$$.fragment,P),h=!1},d(P){P&&r(e),at(b,P),xe(i),xe(p)}}}function Nl(a){let e,l=a[42].label+"",s;return{c(){e=f("option"),s=y(l),this.h()},l(i){e=v(i,"OPTION",{});var d=u(e);s=V(d,l),d.forEach(r),this.h()},h(){e.__value=a[42].value,Ql(e,e.__value)},m(i,d){te(i,e,d),t(e,s)},p:Bt,d(i){i&&r(e)}}}function Fl(a){let e,l=a[39].label+"",s;return{c(){e=f("option"),s=y(l),this.h()},l(i){e=v(i,"OPTION",{});var d=u(e);s=V(d,l),d.forEach(r),this.h()},h(){e.__value=a[39].value,Ql(e,e.__value)},m(i,d){te(i,e,d),t(e,s)},p:Bt,d(i){i&&r(e)}}}function us(a){let e,l;return e=new ns({props:{size:16}}),{c(){lt(e.$$.fragment)},l(s){tt(e.$$.fragment,s)},m(s,i){et(e,s,i),l=!0},i(s){l||(Ce(e.$$.fragment,s),l=!0)},o(s){ke(e.$$.fragment,s),l=!1},d(s){xe(e,s)}}}function ps(a){let e,l;return e=new os({props:{size:16}}),{c(){lt(e.$$.fragment)},l(s){tt(e.$$.fragment,s)},m(s,i){et(e,s,i),l=!0},i(s){l||(Ce(e.$$.fragment,s),l=!0)},o(s){ke(e.$$.fragment,s),l=!1},d(s){xe(e,s)}}}function Ol(a){let e,l,s,i,d,p,h,w,b,P,D=we(Array(5)),g=[];for(let _=0;_<D.length;_+=1)g[_]=ds(rs(a,D,_));return{c(){e=He("svg");for(let _=0;_<g.length;_+=1)g[_].c();l=He("polygon"),i=He("polyline"),h=He("defs"),w=He("linearGradient"),b=He("stop"),P=He("stop"),this.h()},l(_){e=Be(_,"svg",{viewBox:!0,class:!0});var k=u(e);for(let R=0;R<g.length;R+=1)g[R].l(k);l=Be(k,"polygon",{points:!0,fill:!0,opacity:!0}),u(l).forEach(r),i=Be(k,"polyline",{points:!0,fill:!0,stroke:!0,"stroke-width":!0}),u(i).forEach(r),h=Be(k,"defs",{});var I=u(h);w=Be(I,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var C=u(w);b=Be(C,"stop",{offset:!0,style:!0}),u(b).forEach(r),P=Be(C,"stop",{offset:!0,style:!0}),u(P).forEach(r),C.forEach(r),I.forEach(r),k.forEach(r),this.h()},h(){o(l,"points",s=`10,290 ${a[37]} 790,290`),o(l,"fill","url(#gradient)"),o(l,"opacity","0.1"),o(i,"points",d=a[37]),o(i,"fill","none"),o(i,"stroke",p=a[4].totalPnL>=0?"#10b981":"#ef4444"),o(i,"stroke-width","2"),o(b,"offset","0%"),gt(b,"stop-color",a[4].totalPnL>=0?"#10b981":"#ef4444"),o(P,"offset","100%"),gt(P,"stop-color",a[4].totalPnL>=0?"#10b981":"#ef4444"),gt(P,"stop-opacity","0"),o(w,"id","gradient"),o(w,"x1","0%"),o(w,"y1","0%"),o(w,"x2","0%"),o(w,"y2","100%"),o(e,"viewBox","0 0 800 300"),o(e,"class","performance-chart svelte-oetpw9")},m(_,k){te(_,e,k);for(let I=0;I<g.length;I+=1)g[I]&&g[I].m(e,null);t(e,l),t(e,i),t(e,h),t(h,w),t(w,b),t(w,P)},p(_,k){k[0]&16&&s!==(s=`10,290 ${_[37]} 790,290`)&&o(l,"points",s),k[0]&16&&d!==(d=_[37])&&o(i,"points",d),k[0]&16&&p!==(p=_[4].totalPnL>=0?"#10b981":"#ef4444")&&o(i,"stroke",p),k[0]&16&&gt(b,"stop-color",_[4].totalPnL>=0?"#10b981":"#ef4444"),k[0]&16&&gt(P,"stop-color",_[4].totalPnL>=0?"#10b981":"#ef4444")},d(_){_&&r(e),at(g,_)}}}function ds(a){let e;return{c(){e=He("line"),this.h()},l(l){e=Be(l,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),u(e).forEach(r),this.h()},h(){o(e,"x1","10"),o(e,"x2","790"),o(e,"y1",10+a[33]*70),o(e,"y2",10+a[33]*70),o(e,"stroke","#e5e7eb"),o(e,"stroke-width","1")},m(l,s){te(l,e,s)},p:Bt,d(l){l&&r(e)}}}function ql(a){let e,l,s,i;return{c(){e=He("circle"),this.h()},l(d){e=Be(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,transform:!0}),u(e).forEach(r),this.h()},h(){o(e,"cx","100"),o(e,"cy","100"),o(e,"r",a[28]),o(e,"fill","none"),o(e,"stroke",l=a[25].color),o(e,"stroke-width","40"),o(e,"stroke-dasharray",s=`${a[31]} ${a[29]-a[31]}`),o(e,"stroke-dashoffset",i=-a[30]),o(e,"transform","rotate(-90 100 100)")},m(d,p){te(d,e,p)},p(d,p){p[0]&16&&l!==(l=d[25].color)&&o(e,"stroke",l),p[0]&16&&s!==(s=`${d[31]} ${d[29]-d[31]}`)&&o(e,"stroke-dasharray",s),p[0]&16&&i!==(i=-d[30])&&o(e,"stroke-dashoffset",i)},d(d){d&&r(e)}}}function zl(a){let e,l,s,i,d=a[25].assetClass+"",p,h,w,b=a[25].percentage.toFixed(1)+"",P,D,g;return{c(){e=f("div"),l=f("div"),s=$(),i=f("span"),p=y(d),h=$(),w=f("span"),P=y(b),D=y("%"),g=$(),this.h()},l(_){e=v(_,"DIV",{class:!0});var k=u(e);l=v(k,"DIV",{class:!0,style:!0}),u(l).forEach(r),s=E(k),i=v(k,"SPAN",{class:!0});var I=u(i);p=V(I,d),I.forEach(r),h=E(k),w=v(k,"SPAN",{class:!0});var C=u(w);P=V(C,b),D=V(C,"%"),C.forEach(r),g=E(k),k.forEach(r),this.h()},h(){o(l,"class","legend-color svelte-oetpw9"),gt(l,"background",a[25].color),o(i,"class","legend-label svelte-oetpw9"),o(w,"class","legend-value svelte-oetpw9"),o(e,"class","legend-item svelte-oetpw9")},m(_,k){te(_,e,k),t(e,l),t(e,s),t(e,i),t(i,p),t(e,h),t(e,w),t(w,P),t(w,D),t(e,g)},p(_,k){k[0]&16&&gt(l,"background",_[25].color),k[0]&16&&d!==(d=_[25].assetClass+"")&&H(p,d),k[0]&16&&b!==(b=_[25].percentage.toFixed(1)+"")&&H(P,b)},d(_){_&&r(e)}}}function Bl(a){let e,l,s,i=a[18].symbol+"",d,p,h,w=a[18].assetClass+"",b,P,D,g=ct(a[18].pnlPercent)+"",_,k;return{c(){e=f("div"),l=f("div"),s=f("span"),d=y(i),p=$(),h=f("span"),b=y(w),P=$(),D=f("div"),_=y(g),k=$(),this.h()},l(I){e=v(I,"DIV",{class:!0});var C=u(e);l=v(C,"DIV",{class:!0});var R=u(l);s=v(R,"SPAN",{class:!0});var S=u(s);d=V(S,i),S.forEach(r),p=E(R),h=v(R,"SPAN",{class:!0});var N=u(h);b=V(N,w),N.forEach(r),R.forEach(r),P=E(C),D=v(C,"DIV",{class:!0});var m=u(D);_=V(m,g),m.forEach(r),k=E(C),C.forEach(r),this.h()},h(){o(s,"class","performer-symbol svelte-oetpw9"),o(h,"class","performer-class svelte-oetpw9"),o(l,"class","performer-info svelte-oetpw9"),o(D,"class","performer-pnl svelte-oetpw9"),W(D,"positive",a[18].pnl>0),W(D,"negative",a[18].pnl<0),o(e,"class","performer-item svelte-oetpw9")},m(I,C){te(I,e,C),t(e,l),t(l,s),t(s,d),t(l,p),t(l,h),t(h,b),t(e,P),t(e,D),t(D,_),t(e,k)},p(I,C){C[0]&16&&i!==(i=I[18].symbol+"")&&H(d,i),C[0]&16&&w!==(w=I[18].assetClass+"")&&H(b,w),C[0]&16&&g!==(g=ct(I[18].pnlPercent)+"")&&H(_,g),C[0]&16&&W(D,"positive",I[18].pnl>0),C[0]&16&&W(D,"negative",I[18].pnl<0)},d(I){I&&r(e)}}}function Hl(a){let e,l,s,i,d=a[18].symbol+"",p,h,w,b=a[18].assetClass+"",P,D,g,_=a[18].quantity+"",k,I,C,R,S=a[18].avgPrice.toFixed(2)+"",N,m,O,q,A=a[18].currentPrice.toFixed(2)+"",se,Q,Y,z=Me(a[18].value)+"",x,J,Z,Ve=Me(a[18].pnl)+"",Ae,be,G,ae=ct(a[18].pnlPercent)+"",Ne,Ue,K,oe=a[18].allocation.toFixed(1)+"",Fe,Re,ne;return{c(){e=f("tr"),l=f("td"),s=f("div"),i=f("span"),p=y(d),h=$(),w=f("span"),P=y(b),D=$(),g=f("td"),k=y(_),I=$(),C=f("td"),R=y("$"),N=y(S),m=$(),O=f("td"),q=y("$"),se=y(A),Q=$(),Y=f("td"),x=y(z),J=$(),Z=f("td"),Ae=y(Ve),be=$(),G=f("td"),Ne=y(ae),Ue=$(),K=f("td"),Fe=y(oe),Re=y("%"),ne=$(),this.h()},l(B){e=v(B,"TR",{class:!0});var T=u(e);l=v(T,"TD",{class:!0});var je=u(l);s=v(je,"DIV",{class:!0});var re=u(s);i=v(re,"SPAN",{class:!0});var ie=u(i);p=V(ie,d),ie.forEach(r),h=E(re),w=v(re,"SPAN",{class:!0});var Te=u(w);P=V(Te,b),Te.forEach(r),re.forEach(r),je.forEach(r),D=E(T),g=v(T,"TD",{class:!0});var st=u(g);k=V(st,_),st.forEach(r),I=E(T),C=v(T,"TD",{class:!0});var Pe=u(C);R=V(Pe,"$"),N=V(Pe,S),Pe.forEach(r),m=E(T),O=v(T,"TD",{class:!0});var me=u(O);q=V(me,"$"),se=V(me,A),me.forEach(r),Q=E(T),Y=v(T,"TD",{class:!0});var Le=u(Y);x=V(Le,z),Le.forEach(r),J=E(T),Z=v(T,"TD",{class:!0});var Ge=u(Z);Ae=V(Ge,Ve),Ge.forEach(r),be=E(T),G=v(T,"TD",{class:!0});var Ke=u(G);Ne=V(Ke,ae),Ke.forEach(r),Ue=E(T),K=v(T,"TD",{class:!0});var le=u(K);Fe=V(le,oe),Re=V(le,"%"),le.forEach(r),ne=E(T),T.forEach(r),this.h()},h(){o(i,"class","symbol svelte-oetpw9"),o(w,"class","asset-class svelte-oetpw9"),o(s,"class","symbol-cell svelte-oetpw9"),o(l,"class","svelte-oetpw9"),o(g,"class","svelte-oetpw9"),o(C,"class","svelte-oetpw9"),o(O,"class","svelte-oetpw9"),o(Y,"class","svelte-oetpw9"),o(Z,"class","svelte-oetpw9"),W(Z,"positive",a[18].pnl>0),W(Z,"negative",a[18].pnl<0),o(G,"class","svelte-oetpw9"),W(G,"positive",a[18].pnl>0),W(G,"negative",a[18].pnl<0),o(K,"class","svelte-oetpw9"),o(e,"class","svelte-oetpw9")},m(B,T){te(B,e,T),t(e,l),t(l,s),t(s,i),t(i,p),t(s,h),t(s,w),t(w,P),t(e,D),t(e,g),t(g,k),t(e,I),t(e,C),t(C,R),t(C,N),t(e,m),t(e,O),t(O,q),t(O,se),t(e,Q),t(e,Y),t(Y,x),t(e,J),t(e,Z),t(Z,Ae),t(e,be),t(e,G),t(G,Ne),t(e,Ue),t(e,K),t(K,Fe),t(K,Re),t(e,ne)},p(B,T){T[0]&16&&d!==(d=B[18].symbol+"")&&H(p,d),T[0]&16&&b!==(b=B[18].assetClass+"")&&H(P,b),T[0]&16&&_!==(_=B[18].quantity+"")&&H(k,_),T[0]&16&&S!==(S=B[18].avgPrice.toFixed(2)+"")&&H(N,S),T[0]&16&&A!==(A=B[18].currentPrice.toFixed(2)+"")&&H(se,A),T[0]&16&&z!==(z=Me(B[18].value)+"")&&H(x,z),T[0]&16&&Ve!==(Ve=Me(B[18].pnl)+"")&&H(Ae,Ve),T[0]&16&&W(Z,"positive",B[18].pnl>0),T[0]&16&&W(Z,"negative",B[18].pnl<0),T[0]&16&&ae!==(ae=ct(B[18].pnlPercent)+"")&&H(Ne,ae),T[0]&16&&W(G,"positive",B[18].pnl>0),T[0]&16&&W(G,"negative",B[18].pnl<0),T[0]&16&&oe!==(oe=B[18].allocation.toFixed(1)+"")&&H(Fe,oe)},d(B){B&&r(e)}}}function Ml(a){let e,l,s,i,d=a[18].symbol+"",p,h,w,b=a[18].assetClass+"",P,D,g,_=Me(a[18].pnl)+"",k,I,C,R=ct(a[18].pnlPercent)+"",S,N,m,O,q,A="Quantity",se,Q,Y=a[18].quantity+"",z,x,J,Z,Ve="Avg Price",Ae,be,G,ae=a[18].avgPrice.toFixed(2)+"",Ne,Ue,K,oe,Fe="Current Price",Re,ne,B,T=a[18].currentPrice.toFixed(2)+"",je,re,ie,Te,st="Value",Pe,me,Le=Me(a[18].value)+"",Ge,Ke,le,Ee,wt="Allocation",ot,ce,Se=a[18].allocation.toFixed(1)+"",vt,ft,Qe;return{c(){e=f("div"),l=f("div"),s=f("div"),i=f("span"),p=y(d),h=$(),w=f("span"),P=y(b),D=$(),g=f("div"),k=y(_),I=$(),C=f("span"),S=y(R),N=$(),m=f("div"),O=f("div"),q=f("span"),q.textContent=A,se=$(),Q=f("span"),z=y(Y),x=$(),J=f("div"),Z=f("span"),Z.textContent=Ve,Ae=$(),be=f("span"),G=y("$"),Ne=y(ae),Ue=$(),K=f("div"),oe=f("span"),oe.textContent=Fe,Re=$(),ne=f("span"),B=y("$"),je=y(T),re=$(),ie=f("div"),Te=f("span"),Te.textContent=st,Pe=$(),me=f("span"),Ge=y(Le),Ke=$(),le=f("div"),Ee=f("span"),Ee.textContent=wt,ot=$(),ce=f("span"),vt=y(Se),ft=y("%"),Qe=$(),this.h()},l(ee){e=v(ee,"DIV",{class:!0});var M=u(e);l=v(M,"DIV",{class:!0});var $e=u(l);s=v($e,"DIV",{class:!0});var Oe=u(s);i=v(Oe,"SPAN",{class:!0});var zt=u(i);p=V(zt,d),zt.forEach(r),h=E(Oe),w=v(Oe,"SPAN",{class:!0});var bt=u(w);P=V(bt,b),bt.forEach(r),Oe.forEach(r),D=E($e),g=v($e,"DIV",{class:!0});var Ye=u(g);k=V(Ye,_),I=E(Ye),C=v(Ye,"SPAN",{class:!0});var qe=u(C);S=V(qe,R),qe.forEach(r),Ye.forEach(r),$e.forEach(r),N=E(M),m=v(M,"DIV",{class:!0});var X=u(m);O=v(X,"DIV",{class:!0});var Xe=u(O);q=v(Xe,"SPAN",{class:!0,"data-svelte-h":!0}),De(q)!=="svelte-1cizdaa"&&(q.textContent=A),se=E(Xe),Q=v(Xe,"SPAN",{class:!0});var ut=u(Q);z=V(ut,Y),ut.forEach(r),Xe.forEach(r),x=E(X),J=v(X,"DIV",{class:!0});var ye=u(J);Z=v(ye,"SPAN",{class:!0,"data-svelte-h":!0}),De(Z)!=="svelte-1vagejo"&&(Z.textContent=Ve),Ae=E(ye),be=v(ye,"SPAN",{class:!0});var pt=u(be);G=V(pt,"$"),Ne=V(pt,ae),pt.forEach(r),ye.forEach(r),Ue=E(X),K=v(X,"DIV",{class:!0});var nt=u(K);oe=v(nt,"SPAN",{class:!0,"data-svelte-h":!0}),De(oe)!=="svelte-1s4prwb"&&(oe.textContent=Fe),Re=E(nt),ne=v(nt,"SPAN",{class:!0});var Je=u(ne);B=V(Je,"$"),je=V(Je,T),Je.forEach(r),nt.forEach(r),re=E(X),ie=v(X,"DIV",{class:!0});var rt=u(ie);Te=v(rt,"SPAN",{class:!0,"data-svelte-h":!0}),De(Te)!=="svelte-yrhuwg"&&(Te.textContent=st),Pe=E(rt),me=v(rt,"SPAN",{class:!0});var We=u(me);Ge=V(We,Le),We.forEach(r),rt.forEach(r),Ke=E(X),le=v(X,"DIV",{class:!0});var ze=u(le);Ee=v(ze,"SPAN",{class:!0,"data-svelte-h":!0}),De(Ee)!=="svelte-vlh9v1"&&(Ee.textContent=wt),ot=E(ze),ce=v(ze,"SPAN",{class:!0});var Pt=u(ce);vt=V(Pt,Se),ft=V(Pt,"%"),Pt.forEach(r),ze.forEach(r),X.forEach(r),Qe=E(M),M.forEach(r),this.h()},h(){o(i,"class","symbol svelte-oetpw9"),o(w,"class","asset-class svelte-oetpw9"),o(s,"class","position-symbol svelte-oetpw9"),o(C,"class","pnl-percent svelte-oetpw9"),o(g,"class","position-pnl svelte-oetpw9"),W(g,"positive",a[18].pnl>0),W(g,"negative",a[18].pnl<0),o(l,"class","position-header svelte-oetpw9"),o(q,"class","label svelte-oetpw9"),o(Q,"class","value svelte-oetpw9"),o(O,"class","detail-row svelte-oetpw9"),o(Z,"class","label svelte-oetpw9"),o(be,"class","value svelte-oetpw9"),o(J,"class","detail-row svelte-oetpw9"),o(oe,"class","label svelte-oetpw9"),o(ne,"class","value svelte-oetpw9"),o(K,"class","detail-row svelte-oetpw9"),o(Te,"class","label svelte-oetpw9"),o(me,"class","value svelte-oetpw9"),o(ie,"class","detail-row svelte-oetpw9"),o(Ee,"class","label svelte-oetpw9"),o(ce,"class","value svelte-oetpw9"),o(le,"class","detail-row svelte-oetpw9"),o(m,"class","position-details svelte-oetpw9"),o(e,"class","position-card svelte-oetpw9")},m(ee,M){te(ee,e,M),t(e,l),t(l,s),t(s,i),t(i,p),t(s,h),t(s,w),t(w,P),t(l,D),t(l,g),t(g,k),t(g,I),t(g,C),t(C,S),t(e,N),t(e,m),t(m,O),t(O,q),t(O,se),t(O,Q),t(Q,z),t(m,x),t(m,J),t(J,Z),t(J,Ae),t(J,be),t(be,G),t(be,Ne),t(m,Ue),t(m,K),t(K,oe),t(K,Re),t(K,ne),t(ne,B),t(ne,je),t(m,re),t(m,ie),t(ie,Te),t(ie,Pe),t(ie,me),t(me,Ge),t(m,Ke),t(m,le),t(le,Ee),t(le,ot),t(le,ce),t(ce,vt),t(ce,ft),t(e,Qe)},p(ee,M){M[0]&16&&d!==(d=ee[18].symbol+"")&&H(p,d),M[0]&16&&b!==(b=ee[18].assetClass+"")&&H(P,b),M[0]&16&&_!==(_=Me(ee[18].pnl)+"")&&H(k,_),M[0]&16&&R!==(R=ct(ee[18].pnlPercent)+"")&&H(S,R),M[0]&16&&W(g,"positive",ee[18].pnl>0),M[0]&16&&W(g,"negative",ee[18].pnl<0),M[0]&16&&Y!==(Y=ee[18].quantity+"")&&H(z,Y),M[0]&16&&ae!==(ae=ee[18].avgPrice.toFixed(2)+"")&&H(Ne,ae),M[0]&16&&T!==(T=ee[18].currentPrice.toFixed(2)+"")&&H(je,T),M[0]&16&&Le!==(Le=Me(ee[18].value)+"")&&H(Ge,Le),M[0]&16&&Se!==(Se=ee[18].allocation.toFixed(1)+"")&&H(vt,Se)},d(ee){ee&&r(e)}}}function hs(a){let e,l;return e=new nl({props:{type:"stat"}}),{c(){lt(e.$$.fragment)},l(s){tt(e.$$.fragment,s)},m(s,i){et(e,s,i),l=!0},p:Bt,i(s){l||(Ce(e.$$.fragment,s),l=!0)},o(s){ke(e.$$.fragment,s),l=!1},d(s){xe(e,s)}}}function _s(a){let e,l,s,i,d='<h1 class="svelte-oetpw9">Portfolio Overview</h1> <p class="svelte-oetpw9">Track your positions and overall performance</p>',p,h,w,b,P,D,g,_,k,I,C;b=new es({props:{size:18}});const R=[fs,vs,cs],S=[];function N(m,O){return m[2]?0:m[3]?1:2}return g=N(a),_=S[g]=R[g](a),{c(){e=$(),l=f("div"),s=f("header"),i=f("div"),i.innerHTML=d,p=$(),h=f("div"),w=f("button"),lt(b.$$.fragment),P=y(`
				Export`),D=$(),_.c(),this.h()},l(m){Zl("svelte-5tt791",Cl.head).forEach(r),e=E(m),l=v(m,"DIV",{class:!0});var q=u(l);s=v(q,"HEADER",{class:!0});var A=u(s);i=v(A,"DIV",{"data-svelte-h":!0}),De(i)!=="svelte-16tniyb"&&(i.innerHTML=d),p=E(A),h=v(A,"DIV",{class:!0});var se=u(h);w=v(se,"BUTTON",{class:!0});var Q=u(w);tt(b.$$.fragment,Q),P=V(Q,`
				Export`),Q.forEach(r),se.forEach(r),A.forEach(r),D=E(q),_.l(q),q.forEach(r),this.h()},h(){Cl.title="Portfolio - TradeSense",o(w,"class","export-button svelte-oetpw9"),o(h,"class","header-actions svelte-oetpw9"),o(s,"class","page-header svelte-oetpw9"),o(l,"class","portfolio-page svelte-oetpw9")},m(m,O){te(m,e,O),te(m,l,O),t(l,s),t(s,i),t(s,p),t(s,h),t(h,w),et(b,w,null),t(w,P),t(l,D),S[g].m(l,null),k=!0,I||(C=ol(w,"click",a[7]),I=!0)},p(m,O){let q=g;g=N(m),g===q?S[g].p(m,O):(Gl(),ke(S[q],1,1,()=>{S[q]=null}),jl(),_=S[g],_?_.p(m,O):(_=S[g]=R[g](m),_.c()),Ce(_,1),_.m(l,null))},i(m){k||(Ce(b.$$.fragment,m),Ce(_),k=!0)},o(m){ke(b.$$.fragment,m),ke(_),k=!1},d(m){m&&(r(e),r(l)),xe(b),S[g].d(),I=!1,C()}}}function Me(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a)}function ct(a){return`${a>=0?"+":""}${a.toFixed(2)}%`}const Ul=a=>a.pnl>0,Rl=(a,e)=>e.pnlPercent-a.pnlPercent;function ms(a,e,l){let s=!0,i="",d="30d",p="all",h={totalValue:0,totalCost:0,totalPnL:0,totalPnLPercent:0,positions:[],allocations:[],performance:[]};const w=[{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"},{value:"1y",label:"1 Year"},{value:"all",label:"All Time"}],b=[{value:"all",label:"All Assets"},{value:"stocks",label:"Stocks"},{value:"options",label:"Options"},{value:"futures",label:"Futures"},{value:"forex",label:"Forex"},{value:"crypto",label:"Crypto"}],P={stocks:"#10b981",options:"#3b82f6",futures:"#f59e0b",forex:"#8b5cf6",crypto:"#ef4444",other:"#6b7280"};async function D(){l(2,s=!0),l(3,i="");try{const S=await kl.get("/api/v1/portfolio",{params:{timeframe:d,assetClass:p==="all"?void 0:p}});l(4,h=S),(!h.allocations||h.allocations.length===0)&&g()}catch{_()}finally{l(2,s=!1)}}function g(){const S=new Map;h.positions.forEach(N=>{const m=N.assetClass||"other",O=S.get(m)||0;S.set(m,O+N.value)}),l(4,h.allocations=Array.from(S.entries()).map(([N,m])=>({assetClass:N,value:m,percentage:m/h.totalValue*100,color:P[N]||P.other})),h)}function _(){const S=[{symbol:"AAPL",quantity:100,avgPrice:150,currentPrice:175.5,value:17550,cost:15e3,pnl:2550,pnlPercent:17,allocation:25.5,assetClass:"stocks",lastTradeDate:"2024-01-15"},{symbol:"TSLA",quantity:50,avgPrice:200,currentPrice:185.25,value:9262.5,cost:1e4,pnl:-737.5,pnlPercent:-7.38,allocation:13.5,assetClass:"stocks",lastTradeDate:"2024-01-10"},{symbol:"BTC-USD",quantity:.5,avgPrice:4e4,currentPrice:45e3,value:22500,cost:2e4,pnl:2500,pnlPercent:12.5,allocation:32.7,assetClass:"crypto",lastTradeDate:"2024-01-08"},{symbol:"EUR/USD",quantity:1e4,avgPrice:1.08,currentPrice:1.095,value:10950,cost:10800,pnl:150,pnlPercent:1.39,allocation:15.9,assetClass:"forex",lastTradeDate:"2024-01-12"},{symbol:"SPY 450C",quantity:10,avgPrice:5.5,currentPrice:8.25,value:8250,cost:5500,pnl:2750,pnlPercent:50,allocation:12,assetClass:"options",lastTradeDate:"2024-01-14"}],N=S.reduce((Y,z)=>Y+z.value,0),m=S.reduce((Y,z)=>Y+z.cost,0),O=N-m,q=O/m*100,A=[],se=d==="7d"?7:d==="30d"?30:90;let Q=m;for(let Y=se;Y>=0;Y--){const z=new Date;z.setDate(z.getDate()-Y);const x=(Math.random()-.48)*.02*Q;Q+=x,A.push({date:z.toISOString().split("T")[0],value:Q,pnl:Q-m})}A.length>0&&(A[A.length-1].value=N,A[A.length-1].pnl=O),l(4,h={totalValue:N,totalCost:m,totalPnL:O,totalPnLPercent:q,positions:S,allocations:[],performance:A}),g()}async function k(){try{const S=await kl.get("/api/v1/portfolio/export",{params:{format:"csv"},responseType:"blob"}),N=window.URL.createObjectURL(new Blob([S])),m=document.createElement("a");m.href=N,m.setAttribute("download",`portfolio_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(m),m.click(),m.remove()}catch{const N=`Symbol,Quantity,Avg Price,Current Price,Value,P&L,P&L %,Allocation
`+h.positions.map(A=>`${A.symbol},${A.quantity},${A.avgPrice},${A.currentPrice},${A.value},${A.pnl},${A.pnlPercent},${A.allocation}`).join(`
`),m=new Blob([N],{type:"text/csv"}),O=window.URL.createObjectURL(m),q=document.createElement("a");q.href=O,q.setAttribute("download",`portfolio_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(q),q.click(),q.remove()}}Kl(()=>{D()});function I(){d=Dl(this),l(0,d),l(5,w)}function C(){p=Dl(this),l(1,p),l(6,b)}const R=(S,N,m,O)=>{const q=O/(h.performance.length-1)*780+10,A=290-(m.value-S)/N*280;return`${q},${A}`};return a.$$.update=()=>{a.$$.dirty[0]&3&&(d||p)&&D()},[d,p,s,i,h,w,b,k,I,C,R]}class Ts extends Yl{constructor(e){super(),Jl(this,e,ms,_s,Wl,{},null,[-1,-1])}}export{Ts as component};
