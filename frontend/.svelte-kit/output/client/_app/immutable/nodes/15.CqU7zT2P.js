import{S as qe,i as Oe,s as je,n as pe,d as v,j as $e,f as O,h as s,D as p,k as d,l as C,q as h,w as Ze,a8 as et,a2 as tt,y as oe,t as J,a as j,J as xe,I as Ie,z as ce,A as fe,p as B,o as x,m as Z,B as ue,v as q,r as I,e as X,N as Qt,Z as ne,G as Ve,H as ht,L as Lt,E as rs,K as is}from"../chunks/Lbc7qOuA.js";import"../chunks/IHki7fMi.js";import{g as St}from"../chunks/KzgLiahW.js";import{i as os}from"../chunks/DvhTOQ1T.js";import{t as Vt,T as cs}from"../chunks/C-j7txVl.js";import{t as us}from"../chunks/B7lmF-ji.js";import{a as Be}from"../chunks/DAM1q3U9.js";import{C as Te,r as st}from"../chunks/CShZGXat.js";import{F as Yt}from"../chunks/CDbmrZ3E.js";import{e as Ue}from"../chunks/BPb2qfkA.js";import{B as Xt}from"../chunks/Cizz9D3p.js";import{Z as fs}from"../chunks/BoHj4z7R.js";import{T as es}from"../chunks/DT_GQsO_.js";import{A as ts}from"../chunks/Exexrrot.js";import{T as ss}from"../chunks/D6w_Jmzs.js";import{C as vs}from"../chunks/Ck9oK_w_.js";import{T as as}from"../chunks/BXNpXYMZ.js";import{L as bt}from"../chunks/B7N1w56-.js";import{b as ds}from"../chunks/BkRuTgEo.js";function hs(o){let e,t;return{c(){e=h("div"),t=h("canvas"),this.h()},l(n){e=d(n,"DIV",{class:!0,style:!0});var l=C(e);t=d(l,"CANVAS",{}),C(t).forEach(v),l.forEach(v),this.h()},h(){p(e,"class","chart-container svelte-148kl8u"),$e(e,"height",o[0]+"px")},m(n,l){O(n,e,l),s(e,t),o[3](t)},p(n,[l]){l&1&&$e(e,"height",n[0]+"px")},i:pe,o:pe,d(n){n&&v(e),o[3](null)}}}function ms(o,e,t){Te.register(...st);let{trades:n=[]}=e,{height:l=300}=e,u,c=null,r=!1;function _(){const i=[...n].filter(g=>g.exitDate).sort((g,k)=>new Date(g.exitDate).getTime()-new Date(k.exitDate).getTime());let f=0;const b=i.map(g=>(f+=g.pnl,{x:new Date(g.exitDate),y:f}));return b.length>0&&b.unshift({x:new Date(b[0].x.getTime()-864e5),y:0}),b}function m(){var k;const i=_();if(!u||i.length===0)return;const f=u.getContext("2d");if(!f)return;c&&c.destroy();const g=(((k=i[i.length-1])==null?void 0:k.y)||0)>=0;c=new Te(f,{type:"line",data:{datasets:[{label:"Cumulative P&L",data:i,borderColor:g?"#10b981":"#ef4444",backgroundColor:g?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",fill:!0,tension:.1,pointRadius:r?2:4,pointHoverRadius:r?4:6,pointBackgroundColor:g?"#10b981":"#ef4444",pointBorderColor:"#fff",pointBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{title:{display:!0,text:r?"Cumulative P&L":"Cumulative P&L Over Time",font:{size:r?14:16,weight:"bold"},padding:{bottom:r?10:20}},legend:{display:!1},tooltip:{callbacks:{label:y=>{const P=y.parsed.y,D=y.dataIndex>0?P-i[y.dataIndex-1].y:P;return[`Cumulative: ${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P)}`,`Trade P&L: ${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",signDisplay:"always"}).format(D)}`]}}}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:r?"M/d":"MMM d"}},title:{display:!r,text:"Date"},grid:{display:!1},ticks:{font:{size:r?10:12},maxTicksLimit:r?5:10}},y:{title:{display:!r,text:"Cumulative P&L ($)"},ticks:{callback:y=>{const P=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(y);return r?P.replace(/\$/g,""):P},font:{size:r?10:12},maxTicksLimit:r?6:10},grid:{color:"rgba(0, 0, 0, 0.05)"}}}}})}Ze(()=>{const i=()=>{r=window.innerWidth<=768,m()};return i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}}),et(()=>{c&&c.destroy()});function a(i){tt[i?"unshift":"push"](()=>{u=i,t(1,u)})}return o.$$set=i=>{"trades"in i&&t(2,n=i.trades),"height"in i&&t(0,l=i.height)},o.$$.update=()=>{o.$$.dirty&6&&u&&n&&m()},[l,u,n,a]}class ns extends qe{constructor(e){super(),Oe(this,e,ms,hs,je,{trades:2,height:0})}}function ps(o){let e,t;return{c(){e=h("div"),t=h("canvas"),this.h()},l(n){e=d(n,"DIV",{class:!0,style:!0});var l=C(e);t=d(l,"CANVAS",{}),C(t).forEach(v),l.forEach(v),this.h()},h(){p(e,"class","chart-container svelte-8mw4cu"),$e(e,"height",o[0]+"px")},m(n,l){O(n,e,l),s(e,t),o[3](t)},p(n,[l]){l&1&&$e(e,"height",n[0]+"px")},i:pe,o:pe,d(n){n&&v(e),o[3](null)}}}function gs(o,e,t){Te.register(...st);let{trades:n=[]}=e,{height:l=300}=e,u,c=null;function r(){const a=n.filter(b=>b.pnl>0).length,i=n.filter(b=>b.pnl<0).length,f=n.filter(b=>b.pnl===0).length;return{wins:a,losses:i,breakeven:f,winRate:n.length>0?a/n.length*100:0}}function _(){if(!u)return;const a=u.getContext("2d");if(!a)return;c&&c.destroy();const{wins:i,losses:f,breakeven:b,winRate:g}=r();c=new Te(a,{type:"doughnut",data:{labels:["Wins","Losses","Breakeven"],datasets:[{data:[i,f,b],backgroundColor:["#10b981","#ef4444","#6b7280"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:`Win Rate: ${g.toFixed(1)}%`,font:{size:16,weight:"bold"},padding:{bottom:20}},legend:{position:"bottom",labels:{padding:15,font:{size:12},generateLabels:k=>{const y=k.data;return y.labels&&y.datasets.length?y.labels.map((P,D)=>{const w=y.datasets[0].data[D],S=n.length,W=S>0?(w/S*100).toFixed(1):"0";return{text:`${P}: ${w} (${W}%)`,fillStyle:y.datasets[0].backgroundColor[D],hidden:!1,index:D}}):[]}}},tooltip:{callbacks:{label:k=>{const y=k.label||"",P=k.parsed,D=n.length,w=D>0?(P/D*100).toFixed(1):"0";return`${y}: ${P} trades (${w}%)`}}}}}})}Ze(()=>{_()}),et(()=>{c&&c.destroy()});function m(a){tt[a?"unshift":"push"](()=>{u=a,t(1,u)})}return o.$$set=a=>{"trades"in a&&t(2,n=a.trades),"height"in a&&t(0,l=a.height)},o.$$.update=()=>{o.$$.dirty&6&&u&&n&&_()},[l,u,n,m]}class _s extends qe{constructor(e){super(),Oe(this,e,gs,ps,je,{trades:2,height:0})}}function bs(o){let e,t;return{c(){e=h("div"),t=h("canvas"),this.h()},l(n){e=d(n,"DIV",{class:!0,style:!0});var l=C(e);t=d(l,"CANVAS",{}),C(t).forEach(v),l.forEach(v),this.h()},h(){p(e,"class","chart-container svelte-8mw4cu"),$e(e,"height",o[0]+"px")},m(n,l){O(n,e,l),s(e,t),o[4](t)},p(n,[l]){l&1&&$e(e,"height",n[0]+"px")},i:pe,o:pe,d(n){n&&v(e),o[4](null)}}}function ks(o,e,t){Te.register(...st);let{trades:n=[]}=e,{height:l=300}=e,{bins:u=10}=e,c,r=null;function _(){if(n.length===0)return{labels:[],data:[]};const i=n.map(D=>D.pnl),f=Math.min(...i),k=(Math.max(...i)-f)/u,y=new Array(u).fill(0),P=[];i.forEach(D=>{const w=Math.min(Math.floor((D-f)/k),u-1);y[w]++});for(let D=0;D<u;D++){const w=f+D*k,S=f+(D+1)*k;P.push(`$${w.toFixed(0)} - $${S.toFixed(0)}`)}return{labels:P,data:y}}function m(){if(!c)return;const i=c.getContext("2d");if(!i)return;r&&r.destroy();const{labels:f,data:b}=_();if(f.length===0)return;const g=f.map(y=>parseFloat(y.split("-")[0].replace("$",""))>=0?"rgba(16, 185, 129, 0.6)":"rgba(239, 68, 68, 0.6)"),k=f.map(y=>parseFloat(y.split("-")[0].replace("$",""))>=0?"#10b981":"#ef4444");r=new Te(i,{type:"bar",data:{labels:f,datasets:[{label:"Number of Trades",data:b,backgroundColor:g,borderColor:k,borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"P&L Distribution",font:{size:16,weight:"bold"},padding:{bottom:20}},legend:{display:!1},tooltip:{callbacks:{label:y=>{const P=y.parsed.y,D=(P/n.length*100).toFixed(1);return`${P} trades (${D}%)`}}}},scales:{x:{title:{display:!0,text:"P&L Range"},ticks:{maxRotation:45,minRotation:45}},y:{title:{display:!0,text:"Number of Trades"},beginAtZero:!0,ticks:{stepSize:1}}}}})}Ze(()=>{m()}),et(()=>{r&&r.destroy()});function a(i){tt[i?"unshift":"push"](()=>{c=i,t(1,c)})}return o.$$set=i=>{"trades"in i&&t(2,n=i.trades),"height"in i&&t(0,l=i.height),"bins"in i&&t(3,u=i.bins)},o.$$.update=()=>{o.$$.dirty&6&&c&&n&&m()},[l,c,n,u,a]}class ys extends qe{constructor(e){super(),Oe(this,e,ks,bs,je,{trades:2,height:0,bins:3})}}function Cs(o){let e,t;return{c(){e=h("div"),t=h("canvas"),this.h()},l(n){e=d(n,"DIV",{class:!0,style:!0});var l=C(e);t=d(l,"CANVAS",{}),C(t).forEach(v),l.forEach(v),this.h()},h(){p(e,"class","chart-container svelte-8mw4cu"),$e(e,"height",o[0]+"px")},m(n,l){O(n,e,l),s(e,t),o[3](t)},p(n,[l]){l&1&&$e(e,"height",n[0]+"px")},i:pe,o:pe,d(n){n&&v(e),o[3](null)}}}function Ds(o,e,t){Te.register(...st);let{trades:n=[]}=e,{height:l=300}=e,u,c=null;function r(){const a=new Map;return n.forEach(f=>{if(f.exitDate){const b=new Date(f.exitDate).toISOString().split("T")[0],g=a.get(b)||0;a.set(b,g+f.pnl)}}),Array.from(a.entries()).map(([f,b])=>({x:new Date(f),y:b})).sort((f,b)=>f.x.getTime()-b.x.getTime())}function _(){if(!u)return;const a=u.getContext("2d");if(!a)return;c&&c.destroy();const i=r();if(i.length===0)return;const f=i.map(g=>({...g,y:g.y>0?g.y:0})),b=i.map(g=>({...g,y:g.y<0?g.y:0}));c=new Te(a,{type:"bar",data:{datasets:[{label:"Profit",data:f,backgroundColor:"rgba(16, 185, 129, 0.6)",borderColor:"#10b981",borderWidth:1},{label:"Loss",data:b,backgroundColor:"rgba(239, 68, 68, 0.6)",borderColor:"#ef4444",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{title:{display:!0,text:"Daily P&L",font:{size:16,weight:"bold"},padding:{bottom:20}},legend:{position:"bottom"},tooltip:{callbacks:{label:g=>{const k=g.parsed.y;return`${g.dataset.label}: ${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",signDisplay:"always"}).format(k)}`}}}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"MMM d"}},title:{display:!0,text:"Date"},stacked:!0},y:{title:{display:!0,text:"P&L ($)"},ticks:{callback:g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(g)},stacked:!0}}}})}Ze(()=>{_()}),et(()=>{c&&c.destroy()});function m(a){tt[a?"unshift":"push"](()=>{u=a,t(1,u)})}return o.$$set=a=>{"trades"in a&&t(2,n=a.trades),"height"in a&&t(0,l=a.height)},o.$$.update=()=>{o.$$.dirty&6&&u&&n&&_()},[l,u,n,m]}class ls extends qe{constructor(e){super(),Oe(this,e,Ds,Cs,je,{trades:2,height:0})}}function ws(o){let e,t;return{c(){e=h("div"),t=h("canvas"),this.h()},l(n){e=d(n,"DIV",{class:!0,style:!0});var l=C(e);t=d(l,"CANVAS",{}),C(t).forEach(v),l.forEach(v),this.h()},h(){p(e,"class","chart-container svelte-8mw4cu"),$e(e,"height",o[0]+"px")},m(n,l){O(n,e,l),s(e,t),o[3](t)},p(n,[l]){l&1&&$e(e,"height",n[0]+"px")},i:pe,o:pe,d(n){n&&v(e),o[3](null)}}}function Ps(o,e,t){Te.register(...st);let{trades:n=[]}=e,{height:l=300}=e,u,c=null;function r(){const a=new Map;n.forEach(f=>{const b=f.strategy||"No Strategy",g=a.get(b)||[];g.push(f),a.set(b,g)});const i=[];return a.forEach((f,b)=>{const g=f.reduce((D,w)=>D+w.pnl,0),k=f.filter(D=>D.pnl>0).length,y=f.length>0?k/f.length*100:0,P=f.length>0?g/f.length:0;i.push({name:b,totalPnL:g,trades:f.length,winRate:y,avgPnL:P})}),i.sort((f,b)=>b.totalPnL-f.totalPnL)}function _(){if(!u)return;const a=u.getContext("2d");if(!a)return;c&&c.destroy();const i=r();if(i.length===0)return;const f=i.map(k=>k.name),b=i.map(k=>k.totalPnL),g=i.map(k=>k.winRate);c=new Te(a,{type:"bar",data:{labels:f,datasets:[{label:"Total P&L",data:b,backgroundColor:b.map(k=>k>=0?"rgba(16, 185, 129, 0.6)":"rgba(239, 68, 68, 0.6)"),borderColor:b.map(k=>k>=0?"#10b981":"#ef4444"),borderWidth:1,yAxisID:"y"},{label:"Win Rate (%)",data:g,type:"line",borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,pointRadius:4,pointHoverRadius:6,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{title:{display:!0,text:"Strategy Performance",font:{size:16,weight:"bold"},padding:{bottom:20}},legend:{position:"bottom"},tooltip:{callbacks:{afterLabel:k=>{const y=k.dataIndex,P=i[y];return[`Trades: ${P.trades}`,`Avg P&L: ${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P.avgPnL)}`]}}}},scales:{x:{title:{display:!0,text:"Strategy"},ticks:{maxRotation:45,minRotation:45}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Total P&L ($)"},ticks:{callback:k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(k)}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Win Rate (%)"},grid:{drawOnChartArea:!1},ticks:{callback:k=>`${k}%`}}}}})}Ze(()=>{_()}),et(()=>{c&&c.destroy()});function m(a){tt[a?"unshift":"push"](()=>{u=a,t(1,u)})}return o.$$set=a=>{"trades"in a&&t(2,n=a.trades),"height"in a&&t(0,l=a.height)},o.$$.update=()=>{o.$$.dirty&6&&u&&n&&_()},[l,u,n,m]}class Es extends qe{constructor(e){super(),Oe(this,e,Ps,ws,je,{trades:2,height:0})}}function Nt(o,e,t){const n=o.slice();return n[15]=e[t],n}function Ft(o,e,t){const n=o.slice();return n[18]=e[t][0],n[19]=e[t][1],n}function Rt(o,e,t){const n=o.slice();return n[22]=e[t],n}function Mt(o,e,t){const n=o.slice();return n[25]=e[t],n}function xs(o){let e,t,n,l,u,c,r,_,m,a,i,f,b,g,k,y,P,D,w,S,W;n=new es({props:{size:16}}),r=new ts({props:{size:16}}),i=new ss({props:{size:16}});let N=o[0]==="enterprise"&&Wt(o),R=o[3]==="patterns"&&o[4]&&Ut(o),U=o[3]==="regime"&&o[5]&&Bt(o),L=o[3]==="alerts"&&o[6].length>0&&jt(o),V=o[3]==="forecast"&&o[7]&&Gt(o);return{c(){e=h("div"),t=h("button"),ue(n.$$.fragment),l=q(`
				Patterns`),u=I(),c=h("button"),ue(r.$$.fragment),_=q(`
				Market Regime`),m=I(),a=h("button"),ue(i.$$.fragment),f=q(`
				Alerts`),b=I(),N&&N.c(),g=I(),k=h("div"),R&&R.c(),y=I(),U&&U.c(),P=I(),L&&L.c(),D=I(),V&&V.c(),this.h()},l(E){e=d(E,"DIV",{class:!0});var M=C(e);t=d(M,"BUTTON",{class:!0});var Q=C(t);fe(n.$$.fragment,Q),l=B(Q,`
				Patterns`),Q.forEach(v),u=x(M),c=d(M,"BUTTON",{class:!0});var H=C(c);fe(r.$$.fragment,H),_=B(H,`
				Market Regime`),H.forEach(v),m=x(M),a=d(M,"BUTTON",{class:!0});var G=C(a);fe(i.$$.fragment,G),f=B(G,`
				Alerts`),G.forEach(v),b=x(M),N&&N.l(M),M.forEach(v),g=x(E),k=d(E,"DIV",{class:!0});var T=C(k);R&&R.l(T),y=x(T),U&&U.l(T),P=x(T),L&&L.l(T),D=x(T),V&&V.l(T),T.forEach(v),this.h()},h(){p(t,"class","tab svelte-ysmnvc"),ne(t,"active",o[3]==="patterns"),p(c,"class","tab svelte-ysmnvc"),ne(c,"active",o[3]==="regime"),p(a,"class","tab svelte-ysmnvc"),ne(a,"active",o[3]==="alerts"),p(e,"class","insights-tabs svelte-ysmnvc"),p(k,"class","insights-content")},m(E,M){O(E,e,M),s(e,t),ce(n,t,null),s(t,l),s(e,u),s(e,c),ce(r,c,null),s(c,_),s(e,m),s(e,a),ce(i,a,null),s(a,f),s(e,b),N&&N.m(e,null),O(E,g,M),O(E,k,M),R&&R.m(k,null),s(k,y),U&&U.m(k,null),s(k,P),L&&L.m(k,null),s(k,D),V&&V.m(k,null),w=!0,S||(W=[Ve(t,"click",o[10]),Ve(c,"click",o[11]),Ve(a,"click",o[12])],S=!0)},p(E,M){(!w||M&8)&&ne(t,"active",E[3]==="patterns"),(!w||M&8)&&ne(c,"active",E[3]==="regime"),(!w||M&8)&&ne(a,"active",E[3]==="alerts"),E[0]==="enterprise"?N?(N.p(E,M),M&1&&j(N,1)):(N=Wt(E),N.c(),j(N,1),N.m(e,null)):N&&(xe(),J(N,1,1,()=>{N=null}),Ie()),E[3]==="patterns"&&E[4]?R?(R.p(E,M),M&24&&j(R,1)):(R=Ut(E),R.c(),j(R,1),R.m(k,y)):R&&(xe(),J(R,1,1,()=>{R=null}),Ie()),E[3]==="regime"&&E[5]?U?(U.p(E,M),M&40&&j(U,1)):(U=Bt(E),U.c(),j(U,1),U.m(k,P)):U&&(xe(),J(U,1,1,()=>{U=null}),Ie()),E[3]==="alerts"&&E[6].length>0?L?(L.p(E,M),M&72&&j(L,1)):(L=jt(E),L.c(),j(L,1),L.m(k,D)):L&&(xe(),J(L,1,1,()=>{L=null}),Ie()),E[3]==="forecast"&&E[7]?V?V.p(E,M):(V=Gt(E),V.c(),V.m(k,null)):V&&(V.d(1),V=null)},i(E){w||(j(n.$$.fragment,E),j(r.$$.fragment,E),j(i.$$.fragment,E),j(N),j(R),j(U),j(L),w=!0)},o(E){J(n.$$.fragment,E),J(r.$$.fragment,E),J(i.$$.fragment,E),J(N),J(R),J(U),J(L),w=!1},d(E){E&&(v(e),v(g),v(k)),oe(n),oe(r),oe(i),N&&N.d(),R&&R.d(),U&&U.d(),L&&L.d(),V&&V.d(),S=!1,Qt(W)}}}function Is(o){let e,t;return{c(){e=h("div"),t=q(o[2]),this.h()},l(n){e=d(n,"DIV",{class:!0});var l=C(e);t=B(l,o[2]),l.forEach(v),this.h()},h(){p(e,"class","error svelte-ysmnvc")},m(n,l){O(n,e,l),s(e,t)},p(n,l){l&4&&X(t,n[2])},i:pe,o:pe,d(n){n&&v(e)}}}function $s(o){let e,t,n,l,u="Analyzing patterns with AI...",c;return t=new Xt({props:{size:32,class:"spinning"}}),{c(){e=h("div"),ue(t.$$.fragment),n=I(),l=h("p"),l.textContent=u,this.h()},l(r){e=d(r,"DIV",{class:!0});var _=C(e);fe(t.$$.fragment,_),n=x(_),l=d(_,"P",{"data-svelte-h":!0}),Z(l)!=="svelte-wupavy"&&(l.textContent=u),_.forEach(v),this.h()},h(){p(e,"class","loading svelte-ysmnvc")},m(r,_){O(r,e,_),ce(t,e,null),s(e,n),s(e,l),c=!0},p:pe,i(r){c||(j(t.$$.fragment,r),c=!0)},o(r){J(t.$$.fragment,r),c=!1},d(r){r&&v(e),oe(t)}}}function Ts(o){let e,t,n,l,u="Unlock AI-Powered Trading Intelligence",c,r,_="Upgrade to Pro or Enterprise to access:",m,a,i='<li class="svelte-ysmnvc">Pattern recognition and analysis</li> <li class="svelte-ysmnvc">Market regime detection</li> <li class="svelte-ysmnvc">Performance forecasting</li> <li class="svelte-ysmnvc">Real-time trading alerts</li>',f,b,g="Upgrade Now",k;return t=new fs({props:{size:32}}),{c(){e=h("div"),ue(t.$$.fragment),n=I(),l=h("h3"),l.textContent=u,c=I(),r=h("p"),r.textContent=_,m=I(),a=h("ul"),a.innerHTML=i,f=I(),b=h("button"),b.textContent=g,this.h()},l(y){e=d(y,"DIV",{class:!0});var P=C(e);fe(t.$$.fragment,P),n=x(P),l=d(P,"H3",{class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-1i21tml"&&(l.textContent=u),c=x(P),r=d(P,"P",{"data-svelte-h":!0}),Z(r)!=="svelte-16e27yf"&&(r.textContent=_),m=x(P),a=d(P,"UL",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-1kai1ra"&&(a.innerHTML=i),f=x(P),b=d(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(b)!=="svelte-vp1xu4"&&(b.textContent=g),P.forEach(v),this.h()},h(){p(l,"class","svelte-ysmnvc"),p(a,"class","svelte-ysmnvc"),p(b,"class","upgrade-button svelte-ysmnvc"),p(e,"class","upgrade-prompt svelte-ysmnvc")},m(y,P){O(y,e,P),ce(t,e,null),s(e,n),s(e,l),s(e,c),s(e,r),s(e,m),s(e,a),s(e,f),s(e,b),k=!0},p:pe,i(y){k||(j(t.$$.fragment,y),k=!0)},o(y){J(t.$$.fragment,y),k=!1},d(y){y&&v(e),oe(t)}}}function Wt(o){let e,t,n,l,u,c;return t=new as({props:{size:16}}),{c(){e=h("button"),ue(t.$$.fragment),n=q(`
					Forecast`),this.h()},l(r){e=d(r,"BUTTON",{class:!0});var _=C(e);fe(t.$$.fragment,_),n=B(_,`
					Forecast`),_.forEach(v),this.h()},h(){p(e,"class","tab svelte-ysmnvc"),ne(e,"active",o[3]==="forecast")},m(r,_){O(r,e,_),ce(t,e,null),s(e,n),l=!0,u||(c=Ve(e,"click",o[13]),u=!0)},p(r,_){(!l||_&8)&&ne(e,"active",r[3]==="forecast")},i(r){l||(j(t.$$.fragment,r),l=!0)},o(r){J(t.$$.fragment,r),l=!1},d(r){r&&v(e),oe(t),u=!1,c()}}}function Ut(o){let e,t,n="Detected Trading Patterns",l,u,c,r,_=Ue(o[4].patterns),m=[];for(let i=0;i<_.length;i+=1)m[i]=Ht(Mt(o,_,i));let a=o[4].optimal_conditions&&zt(o);return{c(){e=h("div"),t=h("h3"),t.textContent=n,l=I(),u=h("div");for(let i=0;i<m.length;i+=1)m[i].c();c=I(),a&&a.c(),this.h()},l(i){e=d(i,"DIV",{class:!0});var f=C(e);t=d(f,"H3",{"data-svelte-h":!0}),Z(t)!=="svelte-1s8cjsk"&&(t.textContent=n),l=x(f),u=d(f,"DIV",{class:!0});var b=C(u);for(let g=0;g<m.length;g+=1)m[g].l(b);b.forEach(v),c=x(f),a&&a.l(f),f.forEach(v),this.h()},h(){p(u,"class","patterns-grid svelte-ysmnvc"),p(e,"class","patterns-section")},m(i,f){O(i,e,f),s(e,t),s(e,l),s(e,u);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(u,null);s(e,c),a&&a.m(e,null),r=!0},p(i,f){if(f&16){_=Ue(i[4].patterns);let b;for(b=0;b<_.length;b+=1){const g=Mt(i,_,b);m[b]?m[b].p(g,f):(m[b]=Ht(g),m[b].c(),m[b].m(u,null))}for(;b<m.length;b+=1)m[b].d(1);m.length=_.length}i[4].optimal_conditions?a?(a.p(i,f),f&16&&j(a,1)):(a=zt(i),a.c(),j(a,1),a.m(e,null)):a&&(xe(),J(a,1,1,()=>{a=null}),Ie())},i(i){r||(j(a),r=!0)},o(i){J(a),r=!1},d(i){i&&v(e),ht(m,i),a&&a.d()}}}function Ht(o){let e,t,n,l=o[25].pattern_name+"",u,c,r,_=o[25].frequency+"",m,a,i,f,b=o[25].description+"",g,k,y,P,D,w="Win Rate",S,W,N=o[25].win_rate.toFixed(1)+"",R,U,L,V,E,M="Avg P&L",Q,H,G,T=o[25].avg_pnl.toFixed(2)+"",A,z;return{c(){e=h("div"),t=h("div"),n=h("h4"),u=q(l),c=I(),r=h("span"),m=q(_),a=q("x"),i=I(),f=h("p"),g=q(b),k=I(),y=h("div"),P=h("div"),D=h("span"),D.textContent=w,S=I(),W=h("span"),R=q(N),U=q("%"),L=I(),V=h("div"),E=h("span"),E.textContent=M,Q=I(),H=h("span"),G=q("$"),A=q(T),z=I(),this.h()},l($){e=d($,"DIV",{class:!0});var F=C(e);t=d(F,"DIV",{class:!0});var te=C(t);n=d(te,"H4",{class:!0});var le=C(n);u=B(le,l),le.forEach(v),c=x(te),r=d(te,"SPAN",{class:!0});var se=C(r);m=B(se,_),a=B(se,"x"),se.forEach(v),te.forEach(v),i=x(F),f=d(F,"P",{class:!0});var re=C(f);g=B(re,b),re.forEach(v),k=x(F),y=d(F,"DIV",{class:!0});var ae=C(y);P=d(ae,"DIV",{class:!0});var me=C(P);D=d(me,"SPAN",{class:!0,"data-svelte-h":!0}),Z(D)!=="svelte-1p1991b"&&(D.textContent=w),S=x(me),W=d(me,"SPAN",{class:!0});var ee=C(W);R=B(ee,N),U=B(ee,"%"),ee.forEach(v),me.forEach(v),L=x(ae),V=d(ae,"DIV",{class:!0});var ie=C(V);E=d(ie,"SPAN",{class:!0,"data-svelte-h":!0}),Z(E)!=="svelte-12u75v9"&&(E.textContent=M),Q=x(ie),H=d(ie,"SPAN",{class:!0});var ge=C(H);G=B(ge,"$"),A=B(ge,T),ge.forEach(v),ie.forEach(v),ae.forEach(v),z=x(F),F.forEach(v),this.h()},h(){p(n,"class","svelte-ysmnvc"),p(r,"class","frequency svelte-ysmnvc"),p(t,"class","pattern-header svelte-ysmnvc"),p(f,"class","description svelte-ysmnvc"),p(D,"class","label svelte-ysmnvc"),p(W,"class","value svelte-ysmnvc"),ne(W,"positive",o[25].win_rate>50),p(P,"class","stat svelte-ysmnvc"),p(E,"class","label svelte-ysmnvc"),p(H,"class","value svelte-ysmnvc"),ne(H,"positive",o[25].avg_pnl>0),p(V,"class","stat svelte-ysmnvc"),p(y,"class","pattern-stats svelte-ysmnvc"),p(e,"class","pattern-card svelte-ysmnvc")},m($,F){O($,e,F),s(e,t),s(t,n),s(n,u),s(t,c),s(t,r),s(r,m),s(r,a),s(e,i),s(e,f),s(f,g),s(e,k),s(e,y),s(y,P),s(P,D),s(P,S),s(P,W),s(W,R),s(W,U),s(y,L),s(y,V),s(V,E),s(V,Q),s(V,H),s(H,G),s(H,A),s(e,z)},p($,F){F&16&&l!==(l=$[25].pattern_name+"")&&X(u,l),F&16&&_!==(_=$[25].frequency+"")&&X(m,_),F&16&&b!==(b=$[25].description+"")&&X(g,b),F&16&&N!==(N=$[25].win_rate.toFixed(1)+"")&&X(R,N),F&16&&ne(W,"positive",$[25].win_rate>50),F&16&&T!==(T=$[25].avg_pnl.toFixed(2)+"")&&X(A,T),F&16&&ne(H,"positive",$[25].avg_pnl>0)},d($){$&&v(e)}}}function zt(o){let e,t,n="Optimal Trading Conditions",l,u,c,r,_,m,a="Best Time",i,f,b=o[4].optimal_conditions.best_time+"",g,k,y,P,D,w,S="Best Day",W,N,R=o[4].optimal_conditions.best_day+"",U,L,V,E,M,Q,H="Best Strategy",G,T,A=o[4].optimal_conditions.best_strategy+"",z,$;return r=new bt({props:{size:20}}),P=new bt({props:{size:20}}),E=new bt({props:{size:20}}),{c(){e=h("div"),t=h("h3"),t.textContent=n,l=I(),u=h("div"),c=h("div"),ue(r.$$.fragment),_=I(),m=h("span"),m.textContent=a,i=I(),f=h("span"),g=q(b),k=I(),y=h("div"),ue(P.$$.fragment),D=I(),w=h("span"),w.textContent=S,W=I(),N=h("span"),U=q(R),L=I(),V=h("div"),ue(E.$$.fragment),M=I(),Q=h("span"),Q.textContent=H,G=I(),T=h("span"),z=q(A),this.h()},l(F){e=d(F,"DIV",{class:!0});var te=C(e);t=d(te,"H3",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-yuzqcf"&&(t.textContent=n),l=x(te),u=d(te,"DIV",{class:!0});var le=C(u);c=d(le,"DIV",{class:!0});var se=C(c);fe(r.$$.fragment,se),_=x(se),m=d(se,"SPAN",{class:!0,"data-svelte-h":!0}),Z(m)!=="svelte-12fw5hm"&&(m.textContent=a),i=x(se),f=d(se,"SPAN",{class:!0});var re=C(f);g=B(re,b),re.forEach(v),se.forEach(v),k=x(le),y=d(le,"DIV",{class:!0});var ae=C(y);fe(P.$$.fragment,ae),D=x(ae),w=d(ae,"SPAN",{class:!0,"data-svelte-h":!0}),Z(w)!=="svelte-gyo34j"&&(w.textContent=S),W=x(ae),N=d(ae,"SPAN",{class:!0});var me=C(N);U=B(me,R),me.forEach(v),ae.forEach(v),L=x(le),V=d(le,"DIV",{class:!0});var ee=C(V);fe(E.$$.fragment,ee),M=x(ee),Q=d(ee,"SPAN",{class:!0,"data-svelte-h":!0}),Z(Q)!=="svelte-1x9etfa"&&(Q.textContent=H),G=x(ee),T=d(ee,"SPAN",{class:!0});var ie=C(T);z=B(ie,A),ie.forEach(v),ee.forEach(v),le.forEach(v),te.forEach(v),this.h()},h(){p(t,"class","svelte-ysmnvc"),p(m,"class","label svelte-ysmnvc"),p(f,"class","value svelte-ysmnvc"),p(c,"class","condition svelte-ysmnvc"),p(w,"class","label svelte-ysmnvc"),p(N,"class","value svelte-ysmnvc"),p(y,"class","condition svelte-ysmnvc"),p(Q,"class","label svelte-ysmnvc"),p(T,"class","value svelte-ysmnvc"),p(V,"class","condition svelte-ysmnvc"),p(u,"class","conditions-grid svelte-ysmnvc"),p(e,"class","optimal-conditions svelte-ysmnvc")},m(F,te){O(F,e,te),s(e,t),s(e,l),s(e,u),s(u,c),ce(r,c,null),s(c,_),s(c,m),s(c,i),s(c,f),s(f,g),s(u,k),s(u,y),ce(P,y,null),s(y,D),s(y,w),s(y,W),s(y,N),s(N,U),s(u,L),s(u,V),ce(E,V,null),s(V,M),s(V,Q),s(V,G),s(V,T),s(T,z),$=!0},p(F,te){(!$||te&16)&&b!==(b=F[4].optimal_conditions.best_time+"")&&X(g,b),(!$||te&16)&&R!==(R=F[4].optimal_conditions.best_day+"")&&X(U,R),(!$||te&16)&&A!==(A=F[4].optimal_conditions.best_strategy+"")&&X(z,A)},i(F){$||(j(r.$$.fragment,F),j(P.$$.fragment,F),j(E.$$.fragment,F),$=!0)},o(F){J(r.$$.fragment,F),J(P.$$.fragment,F),J(E.$$.fragment,F),$=!1},d(F){F&&v(e),oe(r),oe(P),oe(E)}}}function Bt(o){let e,t,n,l,u,c,r,_="Current Market Regime",m,a,i=o[5].current_regime.toUpperCase()+"",f,b,g,k,y,P="AI Recommendations",D,w,S,W,N,R="Performance by Regime",U,L,V;var E=o[8](o[5].current_regime);function M(A,z){return{props:{size:48}}}E&&(l=Lt(E,M()));let Q=Ue(o[5].recommendations),H=[];for(let A=0;A<Q.length;A+=1)H[A]=qt(Rt(o,Q,A));let G=Ue(Object.entries(o[5].regime_performance)),T=[];for(let A=0;A<G.length;A+=1)T[A]=Ot(Ft(o,G,A));return{c(){e=h("div"),t=h("div"),n=h("div"),l&&ue(l.$$.fragment),u=I(),c=h("div"),r=h("h3"),r.textContent=_,m=I(),a=h("p"),f=q(i),g=I(),k=h("div"),y=h("h4"),y.textContent=P,D=I(),w=h("ul");for(let A=0;A<H.length;A+=1)H[A].c();S=I(),W=h("div"),N=h("h4"),N.textContent=R,U=I(),L=h("div");for(let A=0;A<T.length;A+=1)T[A].c();this.h()},l(A){e=d(A,"DIV",{class:!0});var z=C(e);t=d(z,"DIV",{class:!0});var $=C(t);n=d($,"DIV",{class:!0});var F=C(n);l&&fe(l.$$.fragment,F),F.forEach(v),u=x($),c=d($,"DIV",{class:!0});var te=C(c);r=d(te,"H3",{class:!0,"data-svelte-h":!0}),Z(r)!=="svelte-ua9e8k"&&(r.textContent=_),m=x(te),a=d(te,"P",{class:!0});var le=C(a);f=B(le,i),le.forEach(v),te.forEach(v),$.forEach(v),g=x(z),k=d(z,"DIV",{class:!0});var se=C(k);y=d(se,"H4",{class:!0,"data-svelte-h":!0}),Z(y)!=="svelte-8kdzdo"&&(y.textContent=P),D=x(se),w=d(se,"UL",{class:!0});var re=C(w);for(let ee=0;ee<H.length;ee+=1)H[ee].l(re);re.forEach(v),se.forEach(v),S=x(z),W=d(z,"DIV",{class:!0});var ae=C(W);N=d(ae,"H4",{"data-svelte-h":!0}),Z(N)!=="svelte-1wm2wis"&&(N.textContent=R),U=x(ae),L=d(ae,"DIV",{class:!0});var me=C(L);for(let ee=0;ee<T.length;ee+=1)T[ee].l(me);me.forEach(v),ae.forEach(v),z.forEach(v),this.h()},h(){p(n,"class","regime-icon svelte-ysmnvc"),p(r,"class","svelte-ysmnvc"),p(a,"class","regime-type svelte-ysmnvc"),p(c,"class","regime-info"),p(t,"class",b="regime-card "+Jt(o[5].current_regime)+" svelte-ysmnvc"),p(y,"class","svelte-ysmnvc"),p(w,"class","svelte-ysmnvc"),p(k,"class","recommendations svelte-ysmnvc"),p(L,"class","regime-stats svelte-ysmnvc"),p(W,"class","regime-performance"),p(e,"class","regime-section")},m(A,z){O(A,e,z),s(e,t),s(t,n),l&&ce(l,n,null),s(t,u),s(t,c),s(c,r),s(c,m),s(c,a),s(a,f),s(e,g),s(e,k),s(k,y),s(k,D),s(k,w);for(let $=0;$<H.length;$+=1)H[$]&&H[$].m(w,null);s(e,S),s(e,W),s(W,N),s(W,U),s(W,L);for(let $=0;$<T.length;$+=1)T[$]&&T[$].m(L,null);V=!0},p(A,z){if(z&32&&E!==(E=A[8](A[5].current_regime))){if(l){xe();const $=l;J($.$$.fragment,1,0,()=>{oe($,1)}),Ie()}E?(l=Lt(E,M()),ue(l.$$.fragment),j(l.$$.fragment,1),ce(l,n,null)):l=null}if((!V||z&32)&&i!==(i=A[5].current_regime.toUpperCase()+"")&&X(f,i),(!V||z&32&&b!==(b="regime-card "+Jt(A[5].current_regime)+" svelte-ysmnvc"))&&p(t,"class",b),z&32){Q=Ue(A[5].recommendations);let $;for($=0;$<Q.length;$+=1){const F=Rt(A,Q,$);H[$]?H[$].p(F,z):(H[$]=qt(F),H[$].c(),H[$].m(w,null))}for(;$<H.length;$+=1)H[$].d(1);H.length=Q.length}if(z&32){G=Ue(Object.entries(A[5].regime_performance));let $;for($=0;$<G.length;$+=1){const F=Ft(A,G,$);T[$]?T[$].p(F,z):(T[$]=Ot(F),T[$].c(),T[$].m(L,null))}for(;$<T.length;$+=1)T[$].d(1);T.length=G.length}},i(A){V||(l&&j(l.$$.fragment,A),V=!0)},o(A){l&&J(l.$$.fragment,A),V=!1},d(A){A&&v(e),l&&oe(l),ht(H,A),ht(T,A)}}}function qt(o){let e,t=o[22]+"",n;return{c(){e=h("li"),n=q(t),this.h()},l(l){e=d(l,"LI",{class:!0});var u=C(e);n=B(u,t),u.forEach(v),this.h()},h(){p(e,"class","svelte-ysmnvc")},m(l,u){O(l,e,u),s(e,n)},p(l,u){u&32&&t!==(t=l[22]+"")&&X(n,t)},d(l){l&&v(e)}}}function Ot(o){let e,t,n=o[18]+"",l,u,c,r,_,m=o[19].win_rate.toFixed(1)+"",a,i,f,b,g,k=o[19].avg_pnl.toFixed(2)+"",y,P;return{c(){e=h("div"),t=h("span"),l=q(n),u=I(),c=h("div"),r=h("span"),_=q("Win Rate: "),a=q(m),i=q("%"),f=I(),b=h("span"),g=q("Avg P&L: $"),y=q(k),P=I(),this.h()},l(D){e=d(D,"DIV",{class:!0});var w=C(e);t=d(w,"SPAN",{class:!0});var S=C(t);l=B(S,n),S.forEach(v),u=x(w),c=d(w,"DIV",{class:!0});var W=C(c);r=d(W,"SPAN",{});var N=C(r);_=B(N,"Win Rate: "),a=B(N,m),i=B(N,"%"),N.forEach(v),f=x(W),b=d(W,"SPAN",{});var R=C(b);g=B(R,"Avg P&L: $"),y=B(R,k),R.forEach(v),W.forEach(v),P=x(w),w.forEach(v),this.h()},h(){p(t,"class","regime-name svelte-ysmnvc"),p(c,"class","stats svelte-ysmnvc"),p(e,"class","regime-stat svelte-ysmnvc")},m(D,w){O(D,e,w),s(e,t),s(t,l),s(e,u),s(e,c),s(c,r),s(r,_),s(r,a),s(r,i),s(c,f),s(c,b),s(b,g),s(b,y),s(e,P)},p(D,w){w&32&&n!==(n=D[18]+"")&&X(l,n),w&32&&m!==(m=D[19].win_rate.toFixed(1)+"")&&X(a,m),w&32&&k!==(k=D[19].avg_pnl.toFixed(2)+"")&&X(y,k)},d(D){D&&v(e)}}}function jt(o){let e,t,n="Market Alerts",l,u,c=Ue(o[6]),r=[];for(let m=0;m<c.length;m+=1)r[m]=Zt(Nt(o,c,m));const _=m=>J(r[m],1,1,()=>{r[m]=null});return{c(){e=h("div"),t=h("h3"),t.textContent=n,l=I();for(let m=0;m<r.length;m+=1)r[m].c();this.h()},l(m){e=d(m,"DIV",{class:!0});var a=C(e);t=d(a,"H3",{"data-svelte-h":!0}),Z(t)!=="svelte-1mpv90b"&&(t.textContent=n),l=x(a);for(let i=0;i<r.length;i+=1)r[i].l(a);a.forEach(v),this.h()},h(){p(e,"class","alerts-section")},m(m,a){O(m,e,a),s(e,t),s(e,l);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null);u=!0},p(m,a){if(a&64){c=Ue(m[6]);let i;for(i=0;i<c.length;i+=1){const f=Nt(m,c,i);r[i]?(r[i].p(f,a),j(r[i],1)):(r[i]=Zt(f),r[i].c(),j(r[i],1),r[i].m(e,null))}for(xe(),i=c.length;i<r.length;i+=1)_(i);Ie()}},i(m){if(!u){for(let a=0;a<c.length;a+=1)j(r[a]);u=!0}},o(m){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)J(r[a]);u=!1},d(m){m&&v(e),ht(r,m)}}}function Zt(o){let e,t,n,l,u,c=o[15].title+"",r,_,m,a=o[15].message+"",i,f,b,g=new Date(o[15].timestamp).toLocaleString()+"",k,y,P,D;return t=new ss({props:{size:20}}),{c(){e=h("div"),ue(t.$$.fragment),n=I(),l=h("div"),u=h("h4"),r=q(c),_=I(),m=h("p"),i=q(a),f=I(),b=h("span"),k=q(g),y=I(),this.h()},l(w){e=d(w,"DIV",{class:!0});var S=C(e);fe(t.$$.fragment,S),n=x(S),l=d(S,"DIV",{class:!0});var W=C(l);u=d(W,"H4",{class:!0});var N=C(u);r=B(N,c),N.forEach(v),_=x(W),m=d(W,"P",{class:!0});var R=C(m);i=B(R,a),R.forEach(v),f=x(W),b=d(W,"SPAN",{class:!0});var U=C(b);k=B(U,g),U.forEach(v),W.forEach(v),y=x(S),S.forEach(v),this.h()},h(){p(u,"class","svelte-ysmnvc"),p(m,"class","svelte-ysmnvc"),p(b,"class","timestamp svelte-ysmnvc"),p(l,"class","alert-content svelte-ysmnvc"),p(e,"class",P="alert-card "+o[15].severity+" svelte-ysmnvc")},m(w,S){O(w,e,S),ce(t,e,null),s(e,n),s(e,l),s(l,u),s(u,r),s(l,_),s(l,m),s(m,i),s(l,f),s(l,b),s(b,k),s(e,y),D=!0},p(w,S){(!D||S&64)&&c!==(c=w[15].title+"")&&X(r,c),(!D||S&64)&&a!==(a=w[15].message+"")&&X(i,a),(!D||S&64)&&g!==(g=new Date(w[15].timestamp).toLocaleString()+"")&&X(k,g),(!D||S&64&&P!==(P="alert-card "+w[15].severity+" svelte-ysmnvc"))&&p(e,"class",P)},i(w){D||(j(t.$$.fragment,w),D=!0)},o(w){J(t.$$.fragment,w),D=!1},d(w){w&&v(e),oe(t)}}}function Gt(o){var R,U;let e,t,n="Performance Forecast",l,u,c,r,_="Next 30 Days P&L",m,a,i,f=(((R=o[7].expected_pnl)==null?void 0:R.toFixed(2))||"N/A")+"",b,g,k,y,P="Confidence",D,w,S=(((U=o[7].confidence)==null?void 0:U.toFixed(1))||"N/A")+"",W,N;return{c(){e=h("div"),t=h("h3"),t.textContent=n,l=I(),u=h("div"),c=h("div"),r=h("span"),r.textContent=_,m=I(),a=h("span"),i=q("$"),b=q(f),g=I(),k=h("div"),y=h("span"),y.textContent=P,D=I(),w=h("span"),W=q(S),N=q("%"),this.h()},l(L){e=d(L,"DIV",{class:!0});var V=C(e);t=d(V,"H3",{"data-svelte-h":!0}),Z(t)!=="svelte-aek6lf"&&(t.textContent=n),l=x(V),u=d(V,"DIV",{class:!0});var E=C(u);c=d(E,"DIV",{class:!0});var M=C(c);r=d(M,"SPAN",{class:!0,"data-svelte-h":!0}),Z(r)!=="svelte-1wpefi2"&&(r.textContent=_),m=x(M),a=d(M,"SPAN",{class:!0});var Q=C(a);i=B(Q,"$"),b=B(Q,f),Q.forEach(v),M.forEach(v),g=x(E),k=d(E,"DIV",{class:!0});var H=C(k);y=d(H,"SPAN",{class:!0,"data-svelte-h":!0}),Z(y)!=="svelte-8q8qh7"&&(y.textContent=P),D=x(H),w=d(H,"SPAN",{class:!0});var G=C(w);W=B(G,S),N=B(G,"%"),G.forEach(v),H.forEach(v),E.forEach(v),V.forEach(v),this.h()},h(){p(r,"class","label svelte-ysmnvc"),p(a,"class","value svelte-ysmnvc"),p(c,"class","forecast-metric svelte-ysmnvc"),p(y,"class","label svelte-ysmnvc"),p(w,"class","value svelte-ysmnvc"),p(k,"class","forecast-metric svelte-ysmnvc"),p(u,"class","forecast-card svelte-ysmnvc"),p(e,"class","forecast-section")},m(L,V){O(L,e,V),s(e,t),s(e,l),s(e,u),s(u,c),s(c,r),s(c,m),s(c,a),s(a,i),s(a,b),s(u,g),s(u,k),s(k,y),s(k,D),s(k,w),s(w,W),s(w,N)},p(L,V){var E,M;V&128&&f!==(f=(((E=L[7].expected_pnl)==null?void 0:E.toFixed(2))||"N/A")+"")&&X(b,f),V&128&&S!==(S=(((M=L[7].confidence)==null?void 0:M.toFixed(1))||"N/A")+"")&&X(W,S)},d(L){L&&v(e)}}}function As(o){let e,t,n,l,u,c,r,_="Advanced pattern recognition and market analysis",m,a,i,f;l=new Xt({props:{size:24}});const b=[Ts,$s,Is,xs],g=[];function k(y,P){return y[0]==="free"?0:y[1]?1:y[2]?2:3}return a=k(o),i=g[a]=b[a](o),{c(){e=h("div"),t=h("div"),n=h("h2"),ue(l.$$.fragment),u=q(`
			AI-Powered Insights`),c=I(),r=h("p"),r.textContent=_,m=I(),i.c(),this.h()},l(y){e=d(y,"DIV",{class:!0});var P=C(e);t=d(P,"DIV",{class:!0});var D=C(t);n=d(D,"H2",{class:!0});var w=C(n);fe(l.$$.fragment,w),u=B(w,`
			AI-Powered Insights`),w.forEach(v),c=x(D),r=d(D,"P",{class:!0,"data-svelte-h":!0}),Z(r)!=="svelte-vya2gc"&&(r.textContent=_),D.forEach(v),m=x(P),i.l(P),P.forEach(v),this.h()},h(){p(n,"class","svelte-ysmnvc"),p(r,"class","svelte-ysmnvc"),p(t,"class","panel-header svelte-ysmnvc"),p(e,"class","ai-insights-panel svelte-ysmnvc")},m(y,P){O(y,e,P),s(e,t),s(t,n),ce(l,n,null),s(n,u),s(t,c),s(t,r),s(e,m),g[a].m(e,null),f=!0},p(y,[P]){let D=a;a=k(y),a===D?g[a].p(y,P):(xe(),J(g[D],1,1,()=>{g[D]=null}),Ie(),i=g[a],i?i.p(y,P):(i=g[a]=b[a](y),i.c()),j(i,1),i.m(e,null))},i(y){f||(j(l.$$.fragment,y),j(i),f=!0)},o(y){J(l.$$.fragment,y),J(i),f=!1},d(y){y&&v(e),oe(l),g[a].d()}}}function Jt(o){switch(o){case"trending":return"green";case"volatile":return"red";case"ranging":return"blue";default:return"gray"}}function Ls(o,e,t){let{trades:n=[]}=e,{userPlan:l="free"}=e,u=!0,c="",r="patterns",_=null,m=null,a=[],i=null;async function f(){try{t(1,u=!0),t(2,c="");const[D,w,S,W]=await Promise.all([Be.analyzePatterns().catch(()=>null),Be.getMarketRegime().catch(()=>null),Be.getMarketAlerts().catch(()=>null),Be.getPerformanceForecast().catch(()=>null)]);t(4,_=D),t(5,m=w),t(6,a=S||[]),t(7,i=W)}catch(D){t(2,c=D.message||"Failed to load AI insights"),console.error("AI Insights error:",D)}finally{t(1,u=!1)}}function b(D){switch(D){case"trending":return as;case"volatile":return ts;case"ranging":return vs;default:return es}}Ze(()=>{l!=="free"&&n.length>0&&f()});const g=()=>t(3,r="patterns"),k=()=>t(3,r="regime"),y=()=>t(3,r="alerts"),P=()=>t(3,r="forecast");return o.$$set=D=>{"trades"in D&&t(9,n=D.trades),"userPlan"in D&&t(0,l=D.userPlan)},[l,u,c,r,_,m,a,i,b,n,g,k,y,P]}class Ss extends qe{constructor(e){super(),Oe(this,e,Ls,As,je,{trades:9,userPlan:0})}}function Vs(o){let e,t,n,l="Total P&L",u,c,r=Ce(o[5].totalPnL)+"",_,m,a,i,f="Win Rate",b,g,k=o[5].winRate.toFixed(1)+"",y,P,D,w,S,W="Profit Factor",N,R,U=o[5].profitFactor.toFixed(2)+"",L,V,E,M,Q="Total Trades",H,G,T=o[5].totalTrades+"",A,z,$,F,te="Average Win",le,se,re=Ce(o[5].avgWin)+"",ae,me,ee,ie,ge="Average Loss",ve,de,he=Ce(-o[5].avgLoss)+"",Ae,Ge,ye,Pe,He="Max Drawdown",Je,De,Ne=Ce(-o[5].maxDrawdown)+"",Le,Ke,we,ze,kt="Sharpe Ratio",mt,Qe,Xe=o[5].sharpeRatio.toFixed(2)+"",at,nt,Se,Ee,yt="Overview",pt,Fe,lt,Re,_e,be,ke,gt,Ct;Fe=new Yt({props:{feature:"advanced-analytics",userPlan:o[3],showLock:!1,$$slots:{fallback:[Rs],default:[Fs]},$$scope:{ctx:o}}});const Dt=[zs,Hs,Us,Ws,Ms],Me=[];function wt(K,Y){return K[2]==="overview"?0:K[2]==="performance"?1:K[2]==="distribution"?2:K[2]==="strategies"?3:K[2]==="insights"?4:-1}return~(_e=wt(o))&&(be=Me[_e]=Dt[_e](o)),{c(){e=h("div"),t=h("div"),n=h("h3"),n.textContent=l,u=I(),c=h("p"),_=q(r),m=I(),a=h("div"),i=h("h3"),i.textContent=f,b=I(),g=h("p"),y=q(k),P=q("%"),D=I(),w=h("div"),S=h("h3"),S.textContent=W,N=I(),R=h("p"),L=q(U),V=I(),E=h("div"),M=h("h3"),M.textContent=Q,H=I(),G=h("p"),A=q(T),z=I(),$=h("div"),F=h("h3"),F.textContent=te,le=I(),se=h("p"),ae=q(re),me=I(),ee=h("div"),ie=h("h3"),ie.textContent=ge,ve=I(),de=h("p"),Ae=q(he),Ge=I(),ye=h("div"),Pe=h("h3"),Pe.textContent=He,Je=I(),De=h("p"),Le=q(Ne),Ke=I(),we=h("div"),ze=h("h3"),ze.textContent=kt,mt=I(),Qe=h("p"),at=q(Xe),nt=I(),Se=h("div"),Ee=h("button"),Ee.textContent=yt,pt=I(),ue(Fe.$$.fragment),lt=I(),Re=h("div"),be&&be.c(),this.h()},l(K){e=d(K,"DIV",{class:!0});var Y=C(e);t=d(Y,"DIV",{class:!0});var We=C(t);n=d(We,"H3",{class:!0,"data-svelte-h":!0}),Z(n)!=="svelte-j1u06a"&&(n.textContent=l),u=x(We),c=d(We,"P",{class:!0});var Ye=C(c);_=B(Ye,r),Ye.forEach(v),We.forEach(v),m=x(Y),a=d(Y,"DIV",{class:!0});var rt=C(a);i=d(rt,"H3",{class:!0,"data-svelte-h":!0}),Z(i)!=="svelte-r8wpr8"&&(i.textContent=f),b=x(rt),g=d(rt,"P",{class:!0});var _t=C(g);y=B(_t,k),P=B(_t,"%"),_t.forEach(v),rt.forEach(v),D=x(Y),w=d(Y,"DIV",{class:!0});var it=C(w);S=d(it,"H3",{class:!0,"data-svelte-h":!0}),Z(S)!=="svelte-18cfabp"&&(S.textContent=W),N=x(it),R=d(it,"P",{class:!0});var Pt=C(R);L=B(Pt,U),Pt.forEach(v),it.forEach(v),V=x(Y),E=d(Y,"DIV",{class:!0});var ot=C(E);M=d(ot,"H3",{class:!0,"data-svelte-h":!0}),Z(M)!=="svelte-15t5zxl"&&(M.textContent=Q),H=x(ot),G=d(ot,"P",{class:!0});var Et=C(G);A=B(Et,T),Et.forEach(v),ot.forEach(v),z=x(Y),$=d(Y,"DIV",{class:!0});var ct=C($);F=d(ct,"H3",{class:!0,"data-svelte-h":!0}),Z(F)!=="svelte-2kqwid"&&(F.textContent=te),le=x(ct),se=d(ct,"P",{class:!0});var xt=C(se);ae=B(xt,re),xt.forEach(v),ct.forEach(v),me=x(Y),ee=d(Y,"DIV",{class:!0});var ut=C(ee);ie=d(ut,"H3",{class:!0,"data-svelte-h":!0}),Z(ie)!=="svelte-3cq17i"&&(ie.textContent=ge),ve=x(ut),de=d(ut,"P",{class:!0});var It=C(de);Ae=B(It,he),It.forEach(v),ut.forEach(v),Ge=x(Y),ye=d(Y,"DIV",{class:!0});var ft=C(ye);Pe=d(ft,"H3",{class:!0,"data-svelte-h":!0}),Z(Pe)!=="svelte-r4at84"&&(Pe.textContent=He),Je=x(ft),De=d(ft,"P",{class:!0});var $t=C(De);Le=B($t,Ne),$t.forEach(v),ft.forEach(v),Ke=x(Y),we=d(Y,"DIV",{class:!0});var vt=C(we);ze=d(vt,"H3",{class:!0,"data-svelte-h":!0}),Z(ze)!=="svelte-mehdio"&&(ze.textContent=kt),mt=x(vt),Qe=d(vt,"P",{class:!0});var Tt=C(Qe);at=B(Tt,Xe),Tt.forEach(v),vt.forEach(v),Y.forEach(v),nt=x(K),Se=d(K,"DIV",{class:!0});var dt=C(Se);Ee=d(dt,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(Ee)!=="svelte-1iykmws"&&(Ee.textContent=yt),pt=x(dt),fe(Fe.$$.fragment,dt),dt.forEach(v),lt=x(K),Re=d(K,"DIV",{class:!0});var At=C(Re);be&&be.l(At),At.forEach(v),this.h()},h(){p(n,"class","svelte-74nk8c"),p(c,"class","stat-value svelte-74nk8c"),ne(c,"positive",o[5].totalPnL>0),ne(c,"negative",o[5].totalPnL<0),p(t,"class","stat-card svelte-74nk8c"),p(i,"class","svelte-74nk8c"),p(g,"class","stat-value svelte-74nk8c"),p(a,"class","stat-card svelte-74nk8c"),p(S,"class","svelte-74nk8c"),p(R,"class","stat-value svelte-74nk8c"),p(w,"class","stat-card svelte-74nk8c"),p(M,"class","svelte-74nk8c"),p(G,"class","stat-value svelte-74nk8c"),p(E,"class","stat-card svelte-74nk8c"),p(F,"class","svelte-74nk8c"),p(se,"class","stat-value positive svelte-74nk8c"),p($,"class","stat-card svelte-74nk8c"),p(ie,"class","svelte-74nk8c"),p(de,"class","stat-value negative svelte-74nk8c"),p(ee,"class","stat-card svelte-74nk8c"),p(Pe,"class","svelte-74nk8c"),p(De,"class","stat-value negative svelte-74nk8c"),p(ye,"class","stat-card svelte-74nk8c"),p(ze,"class","svelte-74nk8c"),p(Qe,"class","stat-value svelte-74nk8c"),p(we,"class","stat-card svelte-74nk8c"),p(e,"class","stats-grid svelte-74nk8c"),p(Ee,"class","tab svelte-74nk8c"),ne(Ee,"active",o[2]==="overview"),p(Se,"class","tabs svelte-74nk8c"),p(Re,"class","tab-content")},m(K,Y){O(K,e,Y),s(e,t),s(t,n),s(t,u),s(t,c),s(c,_),s(e,m),s(e,a),s(a,i),s(a,b),s(a,g),s(g,y),s(g,P),s(e,D),s(e,w),s(w,S),s(w,N),s(w,R),s(R,L),s(e,V),s(e,E),s(E,M),s(E,H),s(E,G),s(G,A),s(e,z),s(e,$),s($,F),s($,le),s($,se),s(se,ae),s(e,me),s(e,ee),s(ee,ie),s(ee,ve),s(ee,de),s(de,Ae),s(e,Ge),s(e,ye),s(ye,Pe),s(ye,Je),s(ye,De),s(De,Le),s(e,Ke),s(e,we),s(we,ze),s(we,mt),s(we,Qe),s(Qe,at),O(K,nt,Y),O(K,Se,Y),s(Se,Ee),s(Se,pt),ce(Fe,Se,null),O(K,lt,Y),O(K,Re,Y),~_e&&Me[_e].m(Re,null),ke=!0,gt||(Ct=Ve(Ee,"click",o[6]),gt=!0)},p(K,Y){(!ke||Y&32)&&r!==(r=Ce(K[5].totalPnL)+"")&&X(_,r),(!ke||Y&32)&&ne(c,"positive",K[5].totalPnL>0),(!ke||Y&32)&&ne(c,"negative",K[5].totalPnL<0),(!ke||Y&32)&&k!==(k=K[5].winRate.toFixed(1)+"")&&X(y,k),(!ke||Y&32)&&U!==(U=K[5].profitFactor.toFixed(2)+"")&&X(L,U),(!ke||Y&32)&&T!==(T=K[5].totalTrades+"")&&X(A,T),(!ke||Y&32)&&re!==(re=Ce(K[5].avgWin)+"")&&X(ae,re),(!ke||Y&32)&&he!==(he=Ce(-K[5].avgLoss)+"")&&X(Ae,he),(!ke||Y&32)&&Ne!==(Ne=Ce(-K[5].maxDrawdown)+"")&&X(Le,Ne),(!ke||Y&32)&&Xe!==(Xe=K[5].sharpeRatio.toFixed(2)+"")&&X(at,Xe),(!ke||Y&4)&&ne(Ee,"active",K[2]==="overview");const We={};Y&8&&(We.userPlan=K[3]),Y&131076&&(We.$$scope={dirty:Y,ctx:K}),Fe.$set(We);let Ye=_e;_e=wt(K),_e===Ye?~_e&&Me[_e].p(K,Y):(be&&(xe(),J(Me[Ye],1,1,()=>{Me[Ye]=null}),Ie()),~_e?(be=Me[_e],be?be.p(K,Y):(be=Me[_e]=Dt[_e](K),be.c()),j(be,1),be.m(Re,null)):be=null)},i(K){ke||(j(Fe.$$.fragment,K),j(be),ke=!0)},o(K){J(Fe.$$.fragment,K),J(be),ke=!1},d(K){K&&(v(e),v(nt),v(Se),v(lt),v(Re)),oe(Fe),~_e&&Me[_e].d(),gt=!1,Ct()}}}function Ns(o){let e,t="Loading analytics...";return{c(){e=h("div"),e.textContent=t,this.h()},l(n){e=d(n,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-l2dixf"&&(e.textContent=t),this.h()},h(){p(e,"class","loading svelte-74nk8c")},m(n,l){O(n,e,l)},p:pe,i:pe,o:pe,d(n){n&&v(e)}}}function Fs(o){let e,t="Performance",n,l,u="Distribution",c,r,_="Strategies",m,a,i="AI Insights",f,b;return{c(){e=h("button"),e.textContent=t,n=I(),l=h("button"),l.textContent=u,c=I(),r=h("button"),r.textContent=_,m=I(),a=h("button"),a.textContent=i,this.h()},l(g){e=d(g,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1e1oe2b"&&(e.textContent=t),n=x(g),l=d(g,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-zq76ph"&&(l.textContent=u),c=x(g),r=d(g,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(r)!=="svelte-1s7cjrk"&&(r.textContent=_),m=x(g),a=d(g,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-1ugpg1o"&&(a.textContent=i),this.h()},h(){p(e,"class","tab svelte-74nk8c"),ne(e,"active",o[2]==="performance"),p(l,"class","tab svelte-74nk8c"),ne(l,"active",o[2]==="distribution"),p(r,"class","tab svelte-74nk8c"),ne(r,"active",o[2]==="strategies"),p(a,"class","tab svelte-74nk8c"),ne(a,"active",o[2]==="insights")},m(g,k){O(g,e,k),O(g,n,k),O(g,l,k),O(g,c,k),O(g,r,k),O(g,m,k),O(g,a,k),f||(b=[Ve(e,"click",o[7]),Ve(l,"click",o[8]),Ve(r,"click",o[9]),Ve(a,"click",o[10])],f=!0)},p(g,k){k&4&&ne(e,"active",g[2]==="performance"),k&4&&ne(l,"active",g[2]==="distribution"),k&4&&ne(r,"active",g[2]==="strategies"),k&4&&ne(a,"active",g[2]==="insights")},d(g){g&&(v(e),v(n),v(l),v(c),v(r),v(m),v(a)),f=!1,Qt(b)}}}function Rs(o){let e,t="Performance 🔒",n,l,u="Distribution 🔒",c,r,_="Strategies 🔒",m,a,i="AI Insights 🔒";return{c(){e=h("button"),e.textContent=t,n=I(),l=h("button"),l.textContent=u,c=I(),r=h("button"),r.textContent=_,m=I(),a=h("button"),a.textContent=i,this.h()},l(f){e=d(f,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-17g9lsu"&&(e.textContent=t),n=x(f),l=d(f,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-pax5lq"&&(l.textContent=u),c=x(f),r=d(f,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(r)!=="svelte-1ttj6db"&&(r.textContent=_),m=x(f),a=d(f,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-1wjbmij"&&(a.textContent=i),this.h()},h(){p(e,"class","tab disabled svelte-74nk8c"),e.disabled=!0,p(l,"class","tab disabled svelte-74nk8c"),l.disabled=!0,p(r,"class","tab disabled svelte-74nk8c"),r.disabled=!0,p(a,"class","tab disabled svelte-74nk8c"),a.disabled=!0},m(f,b){O(f,e,b),O(f,n,b),O(f,l,b),O(f,c,b),O(f,r,b),O(f,m,b),O(f,a,b)},p:pe,d(f){f&&(v(e),v(n),v(l),v(c),v(r),v(m),v(a))}}}function Ms(o){let e,t,n,l,u,c;t=new Yt({props:{feature:"ai-insights",userPlan:o[3],$$slots:{default:[Bs]},$$scope:{ctx:o}}}),l=new cs({props:{trades:o[1],userPlan:o[3],showAIInsights:!1}});let r=o[4]&&Kt(o);return{c(){e=h("div"),ue(t.$$.fragment),n=I(),ue(l.$$.fragment),u=I(),r&&r.c(),this.h()},l(_){e=d(_,"DIV",{class:!0});var m=C(e);fe(t.$$.fragment,m),n=x(m),fe(l.$$.fragment,m),u=x(m),r&&r.l(m),m.forEach(v),this.h()},h(){p(e,"class","insights-section svelte-74nk8c")},m(_,m){O(_,e,m),ce(t,e,null),s(e,n),ce(l,e,null),s(e,u),r&&r.m(e,null),c=!0},p(_,m){const a={};m&8&&(a.userPlan=_[3]),m&131082&&(a.$$scope={dirty:m,ctx:_}),t.$set(a);const i={};m&2&&(i.trades=_[1]),m&8&&(i.userPlan=_[3]),l.$set(i),_[4]?r?r.p(_,m):(r=Kt(_),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(_){c||(j(t.$$.fragment,_),j(l.$$.fragment,_),c=!0)},o(_){J(t.$$.fragment,_),J(l.$$.fragment,_),c=!1},d(_){_&&v(e),oe(t),oe(l),r&&r.d()}}}function Ws(o){let e,t,n;return t=new Es({props:{trades:o[1],height:500}}),{c(){e=h("div"),ue(t.$$.fragment),this.h()},l(l){e=d(l,"DIV",{class:!0});var u=C(e);fe(t.$$.fragment,u),u.forEach(v),this.h()},h(){p(e,"class","chart-container full-width svelte-74nk8c")},m(l,u){O(l,e,u),ce(t,e,null),n=!0},p(l,u){const c={};u&2&&(c.trades=l[1]),t.$set(c)},i(l){n||(j(t.$$.fragment,l),n=!0)},o(l){J(t.$$.fragment,l),n=!1},d(l){l&&v(e),oe(t)}}}function Us(o){let e,t,n,l,u,c,r;return n=new ys({props:{trades:o[1],height:400}}),c=new ls({props:{trades:o[1],height:400}}),{c(){e=h("div"),t=h("div"),ue(n.$$.fragment),l=I(),u=h("div"),ue(c.$$.fragment),this.h()},l(_){e=d(_,"DIV",{class:!0});var m=C(e);t=d(m,"DIV",{class:!0});var a=C(t);fe(n.$$.fragment,a),a.forEach(v),l=x(m),u=d(m,"DIV",{class:!0});var i=C(u);fe(c.$$.fragment,i),i.forEach(v),m.forEach(v),this.h()},h(){p(t,"class","chart-container full-width svelte-74nk8c"),p(u,"class","chart-container full-width svelte-74nk8c"),p(e,"class","charts-grid svelte-74nk8c")},m(_,m){O(_,e,m),s(e,t),ce(n,t,null),s(e,l),s(e,u),ce(c,u,null),r=!0},p(_,m){const a={};m&2&&(a.trades=_[1]),n.$set(a);const i={};m&2&&(i.trades=_[1]),c.$set(i)},i(_){r||(j(n.$$.fragment,_),j(c.$$.fragment,_),r=!0)},o(_){J(n.$$.fragment,_),J(c.$$.fragment,_),r=!1},d(_){_&&v(e),oe(n),oe(c)}}}function Hs(o){let e,t,n,l,u="Best Trade",c,r,_=Ce(o[5].bestTrade)+"",m,a,i,f,b="Worst Trade",g,k,y=Ce(o[5].worstTrade)+"",P,D,w,S,W="Avg Trade Duration",N,R,U=o[5].avgTradeDuration+"",L,V,E,M,Q="Consecutive Wins",H,G,T=o[5].consecutiveWins+"",A,z,$,F,te="Consecutive Losses",le,se,re=o[5].consecutiveLosses+"",ae,me,ee,ie,ge;return ie=new ns({props:{trades:o[1],height:400}}),{c(){e=h("div"),t=h("div"),n=h("div"),l=h("h4"),l.textContent=u,c=I(),r=h("p"),m=q(_),a=I(),i=h("div"),f=h("h4"),f.textContent=b,g=I(),k=h("p"),P=q(y),D=I(),w=h("div"),S=h("h4"),S.textContent=W,N=I(),R=h("p"),L=q(U),V=I(),E=h("div"),M=h("h4"),M.textContent=Q,H=I(),G=h("p"),A=q(T),z=I(),$=h("div"),F=h("h4"),F.textContent=te,le=I(),se=h("p"),ae=q(re),me=I(),ee=h("div"),ue(ie.$$.fragment),this.h()},l(ve){e=d(ve,"DIV",{class:!0});var de=C(e);t=d(de,"DIV",{class:!0});var he=C(t);n=d(he,"DIV",{class:!0});var Ae=C(n);l=d(Ae,"H4",{class:!0,"data-svelte-h":!0}),Z(l)!=="svelte-1wda0qq"&&(l.textContent=u),c=x(Ae),r=d(Ae,"P",{class:!0});var Ge=C(r);m=B(Ge,_),Ge.forEach(v),Ae.forEach(v),a=x(he),i=d(he,"DIV",{class:!0});var ye=C(i);f=d(ye,"H4",{class:!0,"data-svelte-h":!0}),Z(f)!=="svelte-1headdt"&&(f.textContent=b),g=x(ye),k=d(ye,"P",{class:!0});var Pe=C(k);P=B(Pe,y),Pe.forEach(v),ye.forEach(v),D=x(he),w=d(he,"DIV",{class:!0});var He=C(w);S=d(He,"H4",{class:!0,"data-svelte-h":!0}),Z(S)!=="svelte-hkozts"&&(S.textContent=W),N=x(He),R=d(He,"P",{class:!0});var Je=C(R);L=B(Je,U),Je.forEach(v),He.forEach(v),V=x(he),E=d(he,"DIV",{class:!0});var De=C(E);M=d(De,"H4",{class:!0,"data-svelte-h":!0}),Z(M)!=="svelte-124neer"&&(M.textContent=Q),H=x(De),G=d(De,"P",{class:!0});var Ne=C(G);A=B(Ne,T),Ne.forEach(v),De.forEach(v),z=x(he),$=d(he,"DIV",{class:!0});var Le=C($);F=d(Le,"H4",{class:!0,"data-svelte-h":!0}),Z(F)!=="svelte-1eeok1z"&&(F.textContent=te),le=x(Le),se=d(Le,"P",{class:!0});var Ke=C(se);ae=B(Ke,re),Ke.forEach(v),Le.forEach(v),he.forEach(v),me=x(de),ee=d(de,"DIV",{class:!0});var we=C(ee);fe(ie.$$.fragment,we),we.forEach(v),de.forEach(v),this.h()},h(){p(l,"class","svelte-74nk8c"),p(r,"class","positive svelte-74nk8c"),p(n,"class","metric svelte-74nk8c"),p(f,"class","svelte-74nk8c"),p(k,"class","negative svelte-74nk8c"),p(i,"class","metric svelte-74nk8c"),p(S,"class","svelte-74nk8c"),p(R,"class","svelte-74nk8c"),p(w,"class","metric svelte-74nk8c"),p(M,"class","svelte-74nk8c"),p(G,"class","svelte-74nk8c"),p(E,"class","metric svelte-74nk8c"),p(F,"class","svelte-74nk8c"),p(se,"class","svelte-74nk8c"),p($,"class","metric svelte-74nk8c"),p(t,"class","metrics-grid svelte-74nk8c"),p(ee,"class","chart-container full-width svelte-74nk8c"),p(e,"class","performance-metrics svelte-74nk8c")},m(ve,de){O(ve,e,de),s(e,t),s(t,n),s(n,l),s(n,c),s(n,r),s(r,m),s(t,a),s(t,i),s(i,f),s(i,g),s(i,k),s(k,P),s(t,D),s(t,w),s(w,S),s(w,N),s(w,R),s(R,L),s(t,V),s(t,E),s(E,M),s(E,H),s(E,G),s(G,A),s(t,z),s(t,$),s($,F),s($,le),s($,se),s(se,ae),s(e,me),s(e,ee),ce(ie,ee,null),ge=!0},p(ve,de){(!ge||de&32)&&_!==(_=Ce(ve[5].bestTrade)+"")&&X(m,_),(!ge||de&32)&&y!==(y=Ce(ve[5].worstTrade)+"")&&X(P,y),(!ge||de&32)&&U!==(U=ve[5].avgTradeDuration+"")&&X(L,U),(!ge||de&32)&&T!==(T=ve[5].consecutiveWins+"")&&X(A,T),(!ge||de&32)&&re!==(re=ve[5].consecutiveLosses+"")&&X(ae,re);const he={};de&2&&(he.trades=ve[1]),ie.$set(he)},i(ve){ge||(j(ie.$$.fragment,ve),ge=!0)},o(ve){J(ie.$$.fragment,ve),ge=!1},d(ve){ve&&v(e),oe(ie)}}}function zs(o){let e,t,n,l,u,c,r,_,m,a;return n=new ns({props:{trades:o[1],height:400}}),c=new _s({props:{trades:o[1],height:300}}),m=new ls({props:{trades:o[1],height:300}}),{c(){e=h("div"),t=h("div"),ue(n.$$.fragment),l=I(),u=h("div"),ue(c.$$.fragment),r=I(),_=h("div"),ue(m.$$.fragment),this.h()},l(i){e=d(i,"DIV",{class:!0});var f=C(e);t=d(f,"DIV",{class:!0});var b=C(t);fe(n.$$.fragment,b),b.forEach(v),l=x(f),u=d(f,"DIV",{class:!0});var g=C(u);fe(c.$$.fragment,g),g.forEach(v),r=x(f),_=d(f,"DIV",{class:!0});var k=C(_);fe(m.$$.fragment,k),k.forEach(v),f.forEach(v),this.h()},h(){p(t,"class","chart-container full-width svelte-74nk8c"),p(u,"class","chart-container svelte-74nk8c"),p(_,"class","chart-container svelte-74nk8c"),p(e,"class","charts-grid svelte-74nk8c")},m(i,f){O(i,e,f),s(e,t),ce(n,t,null),s(e,l),s(e,u),ce(c,u,null),s(e,r),s(e,_),ce(m,_,null),a=!0},p(i,f){const b={};f&2&&(b.trades=i[1]),n.$set(b);const g={};f&2&&(g.trades=i[1]),c.$set(g);const k={};f&2&&(k.trades=i[1]),m.$set(k)},i(i){a||(j(n.$$.fragment,i),j(c.$$.fragment,i),j(m.$$.fragment,i),a=!0)},o(i){J(n.$$.fragment,i),J(c.$$.fragment,i),J(m.$$.fragment,i),a=!1},d(i){i&&v(e),oe(n),oe(c),oe(m)}}}function Bs(o){let e,t;return e=new Ss({props:{trades:o[1],userPlan:o[3]}}),{c(){ue(e.$$.fragment)},l(n){fe(e.$$.fragment,n)},m(n,l){ce(e,n,l),t=!0},p(n,l){const u={};l&2&&(u.trades=n[1]),l&8&&(u.userPlan=n[3]),e.$set(u)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){J(e.$$.fragment,n),t=!1},d(n){oe(e,n)}}}function Kt(o){let e,t,n="Streak Analysis",l,u,c,r,_="Current Streak",m,a,i=o[4].current_streak+"",f,b,g=o[4].current_streak_type+"",k,y,P,D,w,S="Max Win Streak",W,N,R=o[4].max_win_streak+"",U,L,V,E,M="Max Loss Streak",Q,H,G=o[4].max_loss_streak+"",T;return{c(){e=h("div"),t=h("h3"),t.textContent=n,l=I(),u=h("div"),c=h("div"),r=h("span"),r.textContent=_,m=I(),a=h("span"),f=q(i),b=I(),k=q(g),P=I(),D=h("div"),w=h("span"),w.textContent=S,W=I(),N=h("span"),U=q(R),L=I(),V=h("div"),E=h("span"),E.textContent=M,Q=I(),H=h("span"),T=q(G),this.h()},l(A){e=d(A,"DIV",{class:!0});var z=C(e);t=d(z,"H3",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1mxikcy"&&(t.textContent=n),l=x(z),u=d(z,"DIV",{class:!0});var $=C(u);c=d($,"DIV",{class:!0});var F=C(c);r=d(F,"SPAN",{class:!0,"data-svelte-h":!0}),Z(r)!=="svelte-5gsnny"&&(r.textContent=_),m=x(F),a=d(F,"SPAN",{class:!0});var te=C(a);f=B(te,i),b=x(te),k=B(te,g),te.forEach(v),F.forEach(v),P=x($),D=d($,"DIV",{class:!0});var le=C(D);w=d(le,"SPAN",{class:!0,"data-svelte-h":!0}),Z(w)!=="svelte-12zp7fh"&&(w.textContent=S),W=x(le),N=d(le,"SPAN",{class:!0});var se=C(N);U=B(se,R),se.forEach(v),le.forEach(v),L=x($),V=d($,"DIV",{class:!0});var re=C(V);E=d(re,"SPAN",{class:!0,"data-svelte-h":!0}),Z(E)!=="svelte-l3983w"&&(E.textContent=M),Q=x(re),H=d(re,"SPAN",{class:!0});var ae=C(H);T=B(ae,G),ae.forEach(v),re.forEach(v),$.forEach(v),z.forEach(v),this.h()},h(){p(t,"class","svelte-74nk8c"),p(r,"class","label svelte-74nk8c"),p(a,"class",y="value "+o[4].current_streak_type+" svelte-74nk8c"),p(c,"class","streak-stat svelte-74nk8c"),p(w,"class","label svelte-74nk8c"),p(N,"class","value win svelte-74nk8c"),p(D,"class","streak-stat svelte-74nk8c"),p(E,"class","label svelte-74nk8c"),p(H,"class","value loss svelte-74nk8c"),p(V,"class","streak-stat svelte-74nk8c"),p(u,"class","streak-stats svelte-74nk8c"),p(e,"class","streak-analysis card svelte-74nk8c")},m(A,z){O(A,e,z),s(e,t),s(e,l),s(e,u),s(u,c),s(c,r),s(c,m),s(c,a),s(a,f),s(a,b),s(a,k),s(u,P),s(u,D),s(D,w),s(D,W),s(D,N),s(N,U),s(u,L),s(u,V),s(V,E),s(V,Q),s(V,H),s(H,T)},p(A,z){z&16&&i!==(i=A[4].current_streak+"")&&X(f,i),z&16&&g!==(g=A[4].current_streak_type+"")&&X(k,g),z&16&&y!==(y="value "+A[4].current_streak_type+" svelte-74nk8c")&&p(a,"class",y),z&16&&R!==(R=A[4].max_win_streak+"")&&X(U,R),z&16&&G!==(G=A[4].max_loss_streak+"")&&X(T,G)},d(A){A&&v(e)}}}function qs(o){let e,t,n,l='<h1 class="svelte-74nk8c">Trading Analytics</h1> <p class="svelte-74nk8c">Comprehensive analysis of your trading performance</p>',u,c,r,_;const m=[Ns,Vs],a=[];function i(f,b){return f[0]?0:1}return c=i(o),r=a[c]=m[c](o),{c(){e=I(),t=h("div"),n=h("header"),n.innerHTML=l,u=I(),r.c(),this.h()},l(f){rs("svelte-1hhf4v1",document.head).forEach(v),e=x(f),t=d(f,"DIV",{class:!0});var g=C(t);n=d(g,"HEADER",{class:!0,"data-svelte-h":!0}),Z(n)!=="svelte-1p8lq01"&&(n.innerHTML=l),u=x(g),r.l(g),g.forEach(v),this.h()},h(){document.title="Analytics - TradeSense",p(n,"class","page-header svelte-74nk8c"),p(t,"class","analytics-page svelte-74nk8c")},m(f,b){O(f,e,b),O(f,t,b),s(t,n),s(t,u),a[c].m(t,null),_=!0},p(f,[b]){let g=c;c=i(f),c===g?a[c].p(f,b):(xe(),J(a[g],1,1,()=>{a[g]=null}),Ie(),r=a[c],r?r.p(f,b):(r=a[c]=m[c](f),r.c()),j(r,1),r.m(t,null))},i(f){_||(j(r),_=!0)},o(f){J(r),_=!1},d(f){f&&(v(e),v(t)),a[c].d()}}}function Ce(o){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o)}function Os(o,e,t){let n=!0,l=[],u="overview",c="free",r=null,_=null,m=null,a={totalTrades:0,totalPnL:0,winRate:0,avgWin:0,avgLoss:0,profitFactor:0,sharpeRatio:0,maxDrawdown:0,bestTrade:0,worstTrade:0,avgTradeDuration:"",consecutiveWins:0,consecutiveLosses:0};async function i(){try{if(t(0,n=!0),!is(os)){St("/login");return}const[S,W,N,R,U]=await Promise.all([us.getTrades(),ds.getSubscription(),Be.getPerformanceSummary().catch(()=>null),Be.getStreakAnalysis().catch(()=>null),Be.getHeatmapData().catch(()=>null)]);W&&(W.plan_id.includes("enterprise")?t(3,c="enterprise"):W.plan_id.includes("pro")?t(3,c="pro"):t(3,c="free")),t(1,l=S.map(L=>({id:L.id,symbol:L.symbol,side:L.side,entryPrice:L.entry_price,exitPrice:L.exit_price,quantity:L.quantity,pnl:L.pnl||0,entryDate:L.entry_date,exitDate:L.exit_date,strategy:L.strategy,notes:L.notes}))),Vt.setTrades(l),r=N,t(4,_=R),m=U,r?f():b()}catch(S){S.status===401?St("/login"):g()}finally{t(0,n=!1)}}function f(){r&&t(5,a={totalTrades:r.total_trades,totalPnL:r.total_pnl,winRate:r.win_rate,avgWin:r.avg_win,avgLoss:r.avg_loss,profitFactor:r.profit_factor,sharpeRatio:r.sharpe_ratio,maxDrawdown:r.max_drawdown,bestTrade:r.best_trade,worstTrade:r.worst_trade,avgTradeDuration:r.avg_trade_duration,consecutiveWins:(_==null?void 0:_.max_win_streak)||0,consecutiveLosses:(_==null?void 0:_.max_loss_streak)||0})}function b(){if(l.length===0){t(5,a={totalTrades:0,totalPnL:0,winRate:0,avgWin:0,avgLoss:0,profitFactor:0,sharpeRatio:0,maxDrawdown:0,bestTrade:0,worstTrade:0,avgTradeDuration:"0h 0m",consecutiveWins:0,consecutiveLosses:0});return}const S=l.filter(T=>T.pnl>0),W=l.filter(T=>T.pnl<0);t(5,a.totalTrades=l.length,a),t(5,a.totalPnL=l.reduce((T,A)=>T+A.pnl,0),a),t(5,a.winRate=S.length/l.length*100,a),t(5,a.avgWin=S.length>0?S.reduce((T,A)=>T+A.pnl,0)/S.length:0,a),t(5,a.avgLoss=W.length>0?Math.abs(W.reduce((T,A)=>T+A.pnl,0)/W.length):0,a),t(5,a.profitFactor=a.avgLoss>0?a.avgWin/a.avgLoss:0,a);const N=l.map(T=>T.pnl);t(5,a.bestTrade=Math.max(...N),a),t(5,a.worstTrade=Math.min(...N),a);const R=l.filter(T=>T.entryDate&&T.exitDate).map(T=>new Date(T.exitDate).getTime()-new Date(T.entryDate).getTime());if(R.length>0){const T=R.reduce(($,F)=>$+F,0)/R.length,A=Math.floor(T/(1e3*60*60)),z=Math.floor(T%(1e3*60*60)/(1e3*60));t(5,a.avgTradeDuration=`${A}h ${z}m`,a)}let U=0,L=0,V=0,E=0;const M=[...l].filter(T=>T.exitDate).sort((T,A)=>new Date(T.exitDate).getTime()-new Date(A.exitDate).getTime());M.forEach(T=>{T.pnl>0?(U++,L=0,V=Math.max(V,U)):T.pnl<0&&(L++,U=0,E=Math.max(E,L))}),t(5,a.consecutiveWins=V,a),t(5,a.consecutiveLosses=E,a);let Q=0,H=0,G=0;if(M.forEach(T=>{G+=T.pnl,G>Q&&(Q=G);const A=Q-G;A>H&&(H=A)}),t(5,a.maxDrawdown=H,a),l.length>1){const T=l.map(F=>F.pnl),A=a.totalPnL/l.length,z=T.reduce((F,te)=>F+Math.pow(te-A,2),0)/l.length,$=Math.sqrt(z);t(5,a.sharpeRatio=$>0?A/$*Math.sqrt(252):0,a)}}function g(){const S=[{id:1,symbol:"AAPL",side:"long",entryPrice:185.5,exitPrice:187.25,quantity:100,pnl:175,entryDate:"2024-01-14 09:30",exitDate:"2024-01-14 14:45",strategy:"Momentum",notes:"Strong breakout pattern"},{id:2,symbol:"TSLA",side:"short",entryPrice:242.8,exitPrice:244.5,quantity:50,pnl:-85,entryDate:"2024-01-14 10:15",exitDate:"2024-01-14 15:30",strategy:"Mean Reversion",notes:"Stop loss hit"},{id:3,symbol:"NVDA",side:"long",entryPrice:495,exitPrice:498.5,quantity:50,pnl:175,entryDate:"2024-01-13 11:00",exitDate:"2024-01-13 15:00",strategy:"Breakout",notes:"Earnings play"},{id:4,symbol:"SPY",side:"long",entryPrice:475.25,exitPrice:476.8,quantity:200,pnl:310,entryDate:"2024-01-12 09:45",exitDate:"2024-01-12 14:30",strategy:"Scalping",notes:"Quick intraday trade"},{id:5,symbol:"META",side:"short",entryPrice:358.9,exitPrice:357.2,quantity:75,pnl:127.5,entryDate:"2024-01-12 10:30",exitDate:"2024-01-12 13:15",strategy:"News Trading",notes:"Negative news reaction"}];t(1,l=S),Vt.setTrades(S),b()}return Ze(()=>{i()}),[n,l,u,c,_,a,()=>t(2,u="overview"),()=>t(2,u="performance"),()=>t(2,u="distribution"),()=>t(2,u="strategies"),()=>t(2,u="insights")]}class fa extends qe{constructor(e){super(),Oe(this,e,Os,qs,je,{})}}export{fa as component};
