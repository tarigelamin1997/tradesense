import{S as fl,i as hl,s as pl,d as i,t as ye,a as Ne,I as yt,f as we,h as e,G as Ae,D as c,k as a,l as d,m as F,o as D,q as n,r as T,w as gl,n as $t,y as at,H as it,N as _l,J as At,P as Ye,O as W,z as nt,U as St,A as ot,B as rt,e as Z,X as ml,p as z,v as B,Y as wl,V as Vt,j as Je}from"../chunks/Lbc7qOuA.js";import{e as Se}from"../chunks/BPb2qfkA.js";import"../chunks/IHki7fMi.js";import{f as pt}from"../chunks/BtfwZjD9.js";import{M as It}from"../chunks/4fbhx4SE.js";import{U as Cl,C as bl}from"../chunks/BcxLvtBM.js";import{C as ql}from"../chunks/BUUhFWHX.js";import{D as kl}from"../chunks/DmVDXxKx.js";import{S as El}from"../chunks/CV73WfoF.js";import{C as Il}from"../chunks/B5zPiAHL.js";import{T as Dl}from"../chunks/BXNpXYMZ.js";function Jt(l,t,s){const o=l.slice();return o[29]=t[s],o}function Qt(l,t,s){const o=l.slice();return o[32]=t[s],o}function Kt(l,t,s){const o=l.slice();return o[35]=t[s],o}function Wt(l,t,s){const o=l.slice();return o[38]=t[s],o}function Zt(l,t,s){const o=l.slice();return o[41]=t[s][0],o[42]=t[s][1],o}function el(l,t,s){const o=l.slice();return o[45]=t[s],o}function tl(l,t,s){const o=l.slice();return o[48]=t[s],o}function Tl(l){var Ut,zt,Bt,Gt,Mt;let t,s,o,f,P,_,h,q,w,g,u,E,m,C="Top Issues",b,v,k,V,N,A="Trending Issues",x,R,J,H,Q,Ce="Feedback Heatmap by Page",ce,j,ee,de,se,$,be="All Feedback",Ve,M,X,G,oe="All Status",qe,ve="New",Te,ke="Investigating",re,Ee="In Progress",ae,Oe="Resolved",Ie,Be="Closed",$e,L,ue,te="All Types",O,S="Bug",I,le="Feature",ne,Fe="Performance",fe,Le="UX",he,Ge="Other",He,Y,xe,mt="All Severities",De,xt="Critical",je,Ft="High",Ue,Lt="Medium",ze,Rt="Low",Dt,Me,Qe,Tt,Re,Ot,ct,Xe,vt,Ht='<tr><th class="svelte-vlqaw">ID</th> <th class="svelte-vlqaw">Title</th> <th class="svelte-vlqaw">Type</th> <th class="svelte-vlqaw">Severity</th> <th class="svelte-vlqaw">Status</th> <th class="svelte-vlqaw">User</th> <th class="svelte-vlqaw">Created</th> <th class="svelte-vlqaw">Actions</th></tr>',Pt,ut,qt,Nt,jt;s=new It({props:{title:"Total Feedback",value:((Ut=l[4])==null?void 0:Ut.total_feedback)||0,icon:Cl,trend:0}}),f=new It({props:{title:"Resolution Rate",value:`${((Bt=(zt=l[4])==null?void 0:zt.resolution_rate)==null?void 0:Bt.toFixed(1))||0}%`,icon:ql,trend:5}}),_=new It({props:{title:"Avg Resolution Time",value:`${l[1].resolution_time.average_hours.toFixed(1)}h`,icon:bl,trend:-10}}),q=new It({props:{title:"Revenue at Risk",value:`$${((Mt=(Gt=l[3])==null?void 0:Gt.revenue_at_risk)==null?void 0:Mt.toFixed(0))||0}`,icon:kl,trend:0,trendDirection:"negative"}});let ie=l[11].length>0&&ll(l),_t=Se(l[1].top_issues),pe=[];for(let r=0;r<_t.length;r+=1)pe[r]=sl(tl(l,_t,r));let Ke=Se(l[1].trending_issues),K=[];for(let r=0;r<Ke.length;r+=1)K[r]=al(el(l,Ke,r));const dl=r=>ye(K[r],1,1,()=>{K[r]=null});let dt=Se(l[2].slice(0,10)),ge=[];for(let r=0;r<dt.length;r+=1)ge[r]=ol(Wt(l,dt,r));Qe=new El({props:{size:16}});let ft=Se(l[12]),me=[];for(let r=0;r<ft.length;r+=1)me[r]=rl(Kt(l,ft,r));return{c(){t=n("div"),rt(s.$$.fragment),o=T(),rt(f.$$.fragment),P=T(),rt(_.$$.fragment),h=T(),rt(q.$$.fragment),w=T(),ie&&ie.c(),g=T(),u=n("div"),E=n("div"),m=n("h2"),m.textContent=C,b=T(),v=n("div");for(let r=0;r<pe.length;r+=1)pe[r].c();k=T(),V=n("div"),N=n("h2"),N.textContent=A,x=T(),R=n("div");for(let r=0;r<K.length;r+=1)K[r].c();J=T(),H=n("div"),Q=n("h2"),Q.textContent=Ce,ce=T(),j=n("div");for(let r=0;r<ge.length;r+=1)ge[r].c();ee=T(),de=n("div"),se=n("div"),$=n("h2"),$.textContent=be,Ve=T(),M=n("div"),X=n("select"),G=n("option"),G.textContent=oe,qe=n("option"),qe.textContent=ve,Te=n("option"),Te.textContent=ke,re=n("option"),re.textContent=Ee,ae=n("option"),ae.textContent=Oe,Ie=n("option"),Ie.textContent=Be,$e=T(),L=n("select"),ue=n("option"),ue.textContent=te,O=n("option"),O.textContent=S,I=n("option"),I.textContent=le,ne=n("option"),ne.textContent=Fe,fe=n("option"),fe.textContent=Le,he=n("option"),he.textContent=Ge,He=T(),Y=n("select"),xe=n("option"),xe.textContent=mt,De=n("option"),De.textContent=xt,je=n("option"),je.textContent=Ft,Ue=n("option"),Ue.textContent=Lt,ze=n("option"),ze.textContent=Rt,Dt=T(),Me=n("div"),rt(Qe.$$.fragment),Tt=T(),Re=n("input"),Ot=T(),ct=n("div"),Xe=n("table"),vt=n("thead"),vt.innerHTML=Ht,Pt=T(),ut=n("tbody");for(let r=0;r<me.length;r+=1)me[r].c();this.h()},l(r){t=a(r,"DIV",{class:!0});var y=d(t);ot(s.$$.fragment,y),o=D(y),ot(f.$$.fragment,y),P=D(y),ot(_.$$.fragment,y),h=D(y),ot(q.$$.fragment,y),y.forEach(i),w=D(r),ie&&ie.l(r),g=D(r),u=a(r,"DIV",{class:!0});var U=d(u);E=a(U,"DIV",{class:!0});var We=d(E);m=a(We,"H2",{class:!0,"data-svelte-h":!0}),F(m)!=="svelte-usj2l3"&&(m.textContent=C),b=D(We),v=a(We,"DIV",{class:!0});var wt=d(v);for(let Pe=0;Pe<pe.length;Pe+=1)pe[Pe].l(wt);wt.forEach(i),We.forEach(i),k=D(U),V=a(U,"DIV",{class:!0});var Ze=d(V);N=a(Ze,"H2",{class:!0,"data-svelte-h":!0}),F(N)!=="svelte-126oj8v"&&(N.textContent=A),x=D(Ze),R=a(Ze,"DIV",{class:!0});var Ct=d(R);for(let Pe=0;Pe<K.length;Pe+=1)K[Pe].l(Ct);Ct.forEach(i),Ze.forEach(i),J=D(U),H=a(U,"DIV",{class:!0});var et=d(H);Q=a(et,"H2",{class:!0,"data-svelte-h":!0}),F(Q)!=="svelte-w4uu45"&&(Q.textContent=Ce),ce=D(et),j=a(et,"DIV",{class:!0});var bt=d(j);for(let Pe=0;Pe<ge.length;Pe+=1)ge[Pe].l(bt);bt.forEach(i),et.forEach(i),U.forEach(i),ee=D(r),de=a(r,"DIV",{class:!0});var tt=d(de);se=a(tt,"DIV",{class:!0});var lt=d(se);$=a(lt,"H2",{class:!0,"data-svelte-h":!0}),F($)!=="svelte-1pzrpmo"&&($.textContent=be),Ve=D(lt),M=a(lt,"DIV",{class:!0});var p=d(M);X=a(p,"SELECT",{class:!0});var _e=d(X);G=a(_e,"OPTION",{"data-svelte-h":!0}),F(G)!=="svelte-6joivz"&&(G.textContent=oe),qe=a(_e,"OPTION",{"data-svelte-h":!0}),F(qe)!=="svelte-yg62y6"&&(qe.textContent=ve),Te=a(_e,"OPTION",{"data-svelte-h":!0}),F(Te)!=="svelte-1jiar9q"&&(Te.textContent=ke),re=a(_e,"OPTION",{"data-svelte-h":!0}),F(re)!=="svelte-7y42mr"&&(re.textContent=Ee),ae=a(_e,"OPTION",{"data-svelte-h":!0}),F(ae)!=="svelte-1tursri"&&(ae.textContent=Oe),Ie=a(_e,"OPTION",{"data-svelte-h":!0}),F(Ie)!=="svelte-106rur2"&&(Ie.textContent=Be),_e.forEach(i),$e=D(p),L=a(p,"SELECT",{class:!0});var st=d(L);ue=a(st,"OPTION",{"data-svelte-h":!0}),F(ue)!=="svelte-1wzafm2"&&(ue.textContent=te),O=a(st,"OPTION",{"data-svelte-h":!0}),F(O)!=="svelte-1is4fye"&&(O.textContent=S),I=a(st,"OPTION",{"data-svelte-h":!0}),F(I)!=="svelte-2kxdny"&&(I.textContent=le),ne=a(st,"OPTION",{"data-svelte-h":!0}),F(ne)!=="svelte-akzbl2"&&(ne.textContent=Fe),fe=a(st,"OPTION",{"data-svelte-h":!0}),F(fe)!=="svelte-1yphowi"&&(fe.textContent=Le),he=a(st,"OPTION",{"data-svelte-h":!0}),F(he)!=="svelte-902jce"&&(he.textContent=Ge),st.forEach(i),He=D(p),Y=a(p,"SELECT",{class:!0});var ht=d(Y);xe=a(ht,"OPTION",{"data-svelte-h":!0}),F(xe)!=="svelte-1vw3y10"&&(xe.textContent=mt),De=a(ht,"OPTION",{"data-svelte-h":!0}),F(De)!=="svelte-tdy8g6"&&(De.textContent=xt),je=a(ht,"OPTION",{"data-svelte-h":!0}),F(je)!=="svelte-poeh2m"&&(je.textContent=Ft),Ue=a(ht,"OPTION",{"data-svelte-h":!0}),F(Ue)!=="svelte-1u6j0ru"&&(Ue.textContent=Lt),ze=a(ht,"OPTION",{"data-svelte-h":!0}),F(ze)!=="svelte-1f4z4ku"&&(ze.textContent=Rt),ht.forEach(i),Dt=D(p),Me=a(p,"DIV",{class:!0});var kt=d(Me);ot(Qe.$$.fragment,kt),Tt=D(kt),Re=a(kt,"INPUT",{type:!0,placeholder:!0,class:!0}),kt.forEach(i),p.forEach(i),lt.forEach(i),Ot=D(tt),ct=a(tt,"DIV",{class:!0});var Xt=d(ct);Xe=a(Xt,"TABLE",{class:!0});var Et=d(Xe);vt=a(Et,"THEAD",{"data-svelte-h":!0}),F(vt)!=="svelte-1mof43b"&&(vt.innerHTML=Ht),Pt=D(Et),ut=a(Et,"TBODY",{});var Yt=d(ut);for(let Pe=0;Pe<me.length;Pe+=1)me[Pe].l(Yt);Yt.forEach(i),Et.forEach(i),Xt.forEach(i),tt.forEach(i),this.h()},h(){c(t,"class","metrics-grid svelte-vlqaw"),c(m,"class","svelte-vlqaw"),c(v,"class","issues-list svelte-vlqaw"),c(E,"class","panel svelte-vlqaw"),c(N,"class","svelte-vlqaw"),c(R,"class","trending-list svelte-vlqaw"),c(V,"class","panel svelte-vlqaw"),c(Q,"class","svelte-vlqaw"),c(j,"class","heatmap svelte-vlqaw"),c(H,"class","panel full-width svelte-vlqaw"),c(u,"class","content-grid svelte-vlqaw"),c($,"class","svelte-vlqaw"),G.__value="",W(G,G.__value),qe.__value="new",W(qe,qe.__value),Te.__value="investigating",W(Te,Te.__value),re.__value="in_progress",W(re,re.__value),ae.__value="resolved",W(ae,ae.__value),Ie.__value="closed",W(Ie,Ie.__value),c(X,"class","svelte-vlqaw"),l[8]===void 0&&St(()=>l[20].call(X)),ue.__value="",W(ue,ue.__value),O.__value="bug",W(O,O.__value),I.__value="feature",W(I,I.__value),ne.__value="performance",W(ne,ne.__value),fe.__value="ux",W(fe,fe.__value),he.__value="other",W(he,he.__value),c(L,"class","svelte-vlqaw"),l[9]===void 0&&St(()=>l[21].call(L)),xe.__value="",W(xe,xe.__value),De.__value="critical",W(De,De.__value),je.__value="high",W(je,je.__value),Ue.__value="medium",W(Ue,Ue.__value),ze.__value="low",W(ze,ze.__value),c(Y,"class","svelte-vlqaw"),l[10]===void 0&&St(()=>l[22].call(Y)),c(Re,"type","text"),c(Re,"placeholder","Search feedback..."),c(Re,"class","svelte-vlqaw"),c(Me,"class","search-box svelte-vlqaw"),c(M,"class","filters svelte-vlqaw"),c(se,"class","panel-header svelte-vlqaw"),c(Xe,"class","svelte-vlqaw"),c(ct,"class","feedback-table svelte-vlqaw"),c(de,"class","panel feedback-list-panel svelte-vlqaw")},m(r,y){we(r,t,y),nt(s,t,null),e(t,o),nt(f,t,null),e(t,P),nt(_,t,null),e(t,h),nt(q,t,null),we(r,w,y),ie&&ie.m(r,y),we(r,g,y),we(r,u,y),e(u,E),e(E,m),e(E,b),e(E,v);for(let U=0;U<pe.length;U+=1)pe[U]&&pe[U].m(v,null);e(u,k),e(u,V),e(V,N),e(V,x),e(V,R);for(let U=0;U<K.length;U+=1)K[U]&&K[U].m(R,null);e(u,J),e(u,H),e(H,Q),e(H,ce),e(H,j);for(let U=0;U<ge.length;U+=1)ge[U]&&ge[U].m(j,null);we(r,ee,y),we(r,de,y),e(de,se),e(se,$),e(se,Ve),e(se,M),e(M,X),e(X,G),e(X,qe),e(X,Te),e(X,re),e(X,ae),e(X,Ie),Ye(X,l[8],!0),e(M,$e),e(M,L),e(L,ue),e(L,O),e(L,I),e(L,ne),e(L,fe),e(L,he),Ye(L,l[9],!0),e(M,He),e(M,Y),e(Y,xe),e(Y,De),e(Y,je),e(Y,Ue),e(Y,ze),Ye(Y,l[10],!0),e(M,Dt),e(M,Me),nt(Qe,Me,null),e(Me,Tt),e(Me,Re),W(Re,l[0]),e(de,Ot),e(de,ct),e(ct,Xe),e(Xe,vt),e(Xe,Pt),e(Xe,ut);for(let U=0;U<me.length;U+=1)me[U]&&me[U].m(ut,null);qt=!0,Nt||(jt=[Ae(X,"change",l[20]),Ae(X,"change",l[13]),Ae(L,"change",l[21]),Ae(L,"change",l[13]),Ae(Y,"change",l[22]),Ae(Y,"change",l[13]),Ae(Re,"input",l[23])],Nt=!0)},p(r,y){var Ct,et,bt,tt,lt;const U={};y[0]&16&&(U.value=((Ct=r[4])==null?void 0:Ct.total_feedback)||0),s.$set(U);const We={};y[0]&16&&(We.value=`${((bt=(et=r[4])==null?void 0:et.resolution_rate)==null?void 0:bt.toFixed(1))||0}%`),f.$set(We);const wt={};y[0]&2&&(wt.value=`${r[1].resolution_time.average_hours.toFixed(1)}h`),_.$set(wt);const Ze={};if(y[0]&8&&(Ze.value=`$${((lt=(tt=r[3])==null?void 0:tt.revenue_at_risk)==null?void 0:lt.toFixed(0))||0}`),q.$set(Ze),r[11].length>0?ie?(ie.p(r,y),y[0]&2048&&Ne(ie,1)):(ie=ll(r),ie.c(),Ne(ie,1),ie.m(g.parentNode,g)):ie&&(At(),ye(ie,1,1,()=>{ie=null}),yt()),y[0]&16386){_t=Se(r[1].top_issues);let p;for(p=0;p<_t.length;p+=1){const _e=tl(r,_t,p);pe[p]?pe[p].p(_e,y):(pe[p]=sl(_e),pe[p].c(),pe[p].m(v,null))}for(;p<pe.length;p+=1)pe[p].d(1);pe.length=_t.length}if(y[0]&2){Ke=Se(r[1].trending_issues);let p;for(p=0;p<Ke.length;p+=1){const _e=el(r,Ke,p);K[p]?(K[p].p(_e,y),Ne(K[p],1)):(K[p]=al(_e),K[p].c(),Ne(K[p],1),K[p].m(R,null))}for(At(),p=Ke.length;p<K.length;p+=1)dl(p);yt()}if(y[0]&4){dt=Se(r[2].slice(0,10));let p;for(p=0;p<dt.length;p+=1){const _e=Wt(r,dt,p);ge[p]?ge[p].p(_e,y):(ge[p]=ol(_e),ge[p].c(),ge[p].m(j,null))}for(;p<ge.length;p+=1)ge[p].d(1);ge.length=dt.length}if(y[0]&256&&Ye(X,r[8]),y[0]&512&&Ye(L,r[9]),y[0]&1024&&Ye(Y,r[10]),y[0]&1&&Re.value!==r[0]&&W(Re,r[0]),y[0]&36864){ft=Se(r[12]);let p;for(p=0;p<ft.length;p+=1){const _e=Kt(r,ft,p);me[p]?me[p].p(_e,y):(me[p]=rl(_e),me[p].c(),me[p].m(ut,null))}for(;p<me.length;p+=1)me[p].d(1);me.length=ft.length}},i(r){if(!qt){Ne(s.$$.fragment,r),Ne(f.$$.fragment,r),Ne(_.$$.fragment,r),Ne(q.$$.fragment,r),Ne(ie);for(let y=0;y<Ke.length;y+=1)Ne(K[y]);Ne(Qe.$$.fragment,r),qt=!0}},o(r){ye(s.$$.fragment,r),ye(f.$$.fragment,r),ye(_.$$.fragment,r),ye(q.$$.fragment,r),ye(ie),K=K.filter(Boolean);for(let y=0;y<K.length;y+=1)ye(K[y]);ye(Qe.$$.fragment,r),qt=!1},d(r){r&&(i(t),i(w),i(g),i(u),i(ee),i(de)),at(s),at(f),at(_),at(q),ie&&ie.d(r),it(pe,r),it(K,r),it(ge,r),at(Qe),it(me,r),Nt=!1,_l(jt)}}}function Ol(l){let t,s="Loading dashboard data...";return{c(){t=n("div"),t.textContent=s,this.h()},l(o){t=a(o,"DIV",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-djhbv1"&&(t.textContent=s),this.h()},h(){c(t,"class","loading svelte-vlqaw")},m(o,f){we(o,t,f)},p:$t,i:$t,o:$t,d(o){o&&i(t)}}}function ll(l){let t,s,o,f,P=l[11].length+"",_,h,q;return s=new Il({props:{size:20}}),{c(){t=n("div"),rt(s.$$.fragment),o=T(),f=n("span"),_=B(P),h=B(" Critical Issues Require Immediate Attention"),this.h()},l(w){t=a(w,"DIV",{class:!0});var g=d(t);ot(s.$$.fragment,g),o=D(g),f=a(g,"SPAN",{});var u=d(f);_=z(u,P),h=z(u," Critical Issues Require Immediate Attention"),u.forEach(i),g.forEach(i),this.h()},h(){c(t,"class","critical-alert svelte-vlqaw")},m(w,g){we(w,t,g),nt(s,t,null),e(t,o),e(t,f),e(f,_),e(f,h),q=!0},p(w,g){(!q||g[0]&2048)&&P!==(P=w[11].length+"")&&Z(_,P)},i(w){q||(Ne(s.$$.fragment,w),q=!0)},o(w){ye(s.$$.fragment,w),q=!1},d(w){w&&i(t),at(s)}}}function sl(l){let t,s,o,f=l[48].title+"",P,_,h,q=l[48].severity+"",w,g,u,E,m=l[48].count+"",C,b,v,k,V="View Pattern",N,A,x;function R(){return l[19](l[48])}return{c(){t=n("div"),s=n("div"),o=n("span"),P=B(f),_=T(),h=n("span"),w=B(q),g=T(),u=n("div"),E=n("span"),C=B(m),b=B(" reports"),v=T(),k=n("button"),k.textContent=V,N=T(),this.h()},l(J){t=a(J,"DIV",{class:!0});var H=d(t);s=a(H,"DIV",{class:!0});var Q=d(s);o=a(Q,"SPAN",{class:!0});var Ce=d(o);P=z(Ce,f),Ce.forEach(i),_=D(Q),h=a(Q,"SPAN",{class:!0,style:!0});var ce=d(h);w=z(ce,q),ce.forEach(i),Q.forEach(i),g=D(H),u=a(H,"DIV",{class:!0});var j=d(u);E=a(j,"SPAN",{class:!0});var ee=d(E);C=z(ee,m),b=z(ee," reports"),ee.forEach(i),v=D(j),k=a(j,"BUTTON",{class:!0,"data-svelte-h":!0}),F(k)!=="svelte-1oel65d"&&(k.textContent=V),j.forEach(i),N=D(H),H.forEach(i),this.h()},h(){c(o,"class","issue-title svelte-vlqaw"),c(h,"class","severity-badge svelte-vlqaw"),Je(h,"background",gt(l[48].severity)),c(s,"class","issue-info svelte-vlqaw"),c(E,"class","count svelte-vlqaw"),c(k,"class","view-pattern svelte-vlqaw"),c(u,"class","issue-stats svelte-vlqaw"),c(t,"class","issue-item svelte-vlqaw")},m(J,H){we(J,t,H),e(t,s),e(s,o),e(o,P),e(s,_),e(s,h),e(h,w),e(t,g),e(t,u),e(u,E),e(E,C),e(E,b),e(u,v),e(u,k),e(t,N),A||(x=Ae(k,"click",R),A=!0)},p(J,H){l=J,H[0]&2&&f!==(f=l[48].title+"")&&Z(P,f),H[0]&2&&q!==(q=l[48].severity+"")&&Z(w,q),H[0]&2&&Je(h,"background",gt(l[48].severity)),H[0]&2&&m!==(m=l[48].count+"")&&Z(C,m)},d(J){J&&i(t),A=!1,x()}}}function al(l){let t,s,o,f,P,_=l[45].title+"",h,q,w,g,u=(l[45].growth_rate*100).toFixed(0)+"",E,m,C,b;return o=new Dl({props:{size:16,color:"#ef4444"}}),{c(){t=n("div"),s=n("div"),rt(o.$$.fragment),f=T(),P=n("span"),h=B(_),q=T(),w=n("span"),g=B("+"),E=B(u),m=B("%"),C=T(),this.h()},l(v){t=a(v,"DIV",{class:!0});var k=d(t);s=a(k,"DIV",{class:!0});var V=d(s);ot(o.$$.fragment,V),f=D(V),P=a(V,"SPAN",{});var N=d(P);h=z(N,_),N.forEach(i),V.forEach(i),q=D(k),w=a(k,"SPAN",{class:!0});var A=d(w);g=z(A,"+"),E=z(A,u),m=z(A,"%"),A.forEach(i),C=D(k),k.forEach(i),this.h()},h(){c(s,"class","trend-info svelte-vlqaw"),c(w,"class","growth-rate svelte-vlqaw"),c(t,"class","trending-item svelte-vlqaw")},m(v,k){we(v,t,k),e(t,s),nt(o,s,null),e(s,f),e(s,P),e(P,h),e(t,q),e(t,w),e(w,g),e(w,E),e(w,m),e(t,C),b=!0},p(v,k){(!b||k[0]&2)&&_!==(_=v[45].title+"")&&Z(h,_),(!b||k[0]&2)&&u!==(u=(v[45].growth_rate*100).toFixed(0)+"")&&Z(E,u)},i(v){b||(Ne(o.$$.fragment,v),b=!0)},o(v){ye(o.$$.fragment,v),b=!1},d(v){v&&i(t),at(o)}}}function nl(l){let t,s;return{c(){t=n("div"),this.h()},l(o){t=a(o,"DIV",{class:!0,style:!0,title:!0}),d(t).forEach(i),this.h()},h(){c(t,"class","severity-bar svelte-vlqaw"),Je(t,"background",gt(l[41])),Je(t,"width",l[42]/l[38].issue_count*100+"%"),c(t,"title",s=l[41]+": "+l[42])},m(o,f){we(o,t,f)},p(o,f){f[0]&4&&Je(t,"background",gt(o[41])),f[0]&4&&Je(t,"width",o[42]/o[38].issue_count*100+"%"),f[0]&4&&s!==(s=o[41]+": "+o[42])&&c(t,"title",s)},d(o){o&&i(t)}}}function ol(l){let t,s,o=l[38].page+"",f,P,_,h,q,w=l[38].issue_count+"",g,u,E=Se(Object.entries(l[38].severity_breakdown)),m=[];for(let C=0;C<E.length;C+=1)m[C]=nl(Zt(l,E,C));return{c(){t=n("div"),s=n("span"),f=B(o),P=T(),_=n("div");for(let C=0;C<m.length;C+=1)m[C].c();h=T(),q=n("span"),g=B(w),u=T(),this.h()},l(C){t=a(C,"DIV",{class:!0});var b=d(t);s=a(b,"SPAN",{class:!0});var v=d(s);f=z(v,o),v.forEach(i),P=D(b),_=a(b,"DIV",{class:!0});var k=d(_);for(let N=0;N<m.length;N+=1)m[N].l(k);k.forEach(i),h=D(b),q=a(b,"SPAN",{class:!0});var V=d(q);g=z(V,w),V.forEach(i),u=D(b),b.forEach(i),this.h()},h(){c(s,"class","page-url svelte-vlqaw"),c(_,"class","issue-bars svelte-vlqaw"),c(q,"class","total-count svelte-vlqaw"),c(t,"class","heatmap-row svelte-vlqaw")},m(C,b){we(C,t,b),e(t,s),e(s,f),e(t,P),e(t,_);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(_,null);e(t,h),e(t,q),e(q,g),e(t,u)},p(C,b){if(b[0]&4&&o!==(o=C[38].page+"")&&Z(f,o),b[0]&4){E=Se(Object.entries(C[38].severity_breakdown));let v;for(v=0;v<E.length;v+=1){const k=Zt(C,E,v);m[v]?m[v].p(k,b):(m[v]=nl(k),m[v].c(),m[v].m(_,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=E.length}b[0]&4&&w!==(w=C[38].issue_count+"")&&Z(g,w)},d(C){C&&i(t),it(m,C)}}}function rl(l){let t,s,o,f=l[35].id.slice(0,8)+"",P,_,h,q=l[35].title+"",w,g,u,E,m=l[35].type+"",C,b,v,k,V=l[35].severity+"",N,A,x,R,J=l[35].status.replace("_"," ")+"",H,Q,Ce,ce,j=(l[35].subscription_tier||"Guest")+"",ee,de,se,$=new Date(l[35].created_at).toLocaleDateString()+"",be,Ve,M,X,G,oe,qe="New",ve,Te="Investigating",ke,re="In Progress",Ee,ae="Resolved",Oe,Ie="Closed",Be,$e,L,ue;function te(...O){return l[24](l[35],...O)}return{c(){t=n("tr"),s=n("td"),o=B("#"),P=B(f),_=T(),h=n("td"),w=B(q),g=T(),u=n("td"),E=n("span"),C=B(m),b=T(),v=n("td"),k=n("span"),N=B(V),A=T(),x=n("td"),R=n("span"),H=B(J),Ce=T(),ce=n("td"),ee=B(j),de=T(),se=n("td"),be=B($),Ve=T(),M=n("td"),X=n("div"),G=n("select"),oe=n("option"),oe.textContent=qe,ve=n("option"),ve.textContent=Te,ke=n("option"),ke.textContent=re,Ee=n("option"),Ee.textContent=ae,Oe=n("option"),Oe.textContent=Ie,$e=T(),this.h()},l(O){t=a(O,"TR",{});var S=d(t);s=a(S,"TD",{class:!0});var I=d(s);o=z(I,"#"),P=z(I,f),I.forEach(i),_=D(S),h=a(S,"TD",{class:!0});var le=d(h);w=z(le,q),le.forEach(i),g=D(S),u=a(S,"TD",{class:!0});var ne=d(u);E=a(ne,"SPAN",{class:!0});var Fe=d(E);C=z(Fe,m),Fe.forEach(i),ne.forEach(i),b=D(S),v=a(S,"TD",{class:!0});var fe=d(v);k=a(fe,"SPAN",{class:!0,style:!0});var Le=d(k);N=z(Le,V),Le.forEach(i),fe.forEach(i),A=D(S),x=a(S,"TD",{class:!0});var he=d(x);R=a(he,"SPAN",{class:!0});var Ge=d(R);H=z(Ge,J),Ge.forEach(i),he.forEach(i),Ce=D(S),ce=a(S,"TD",{class:!0});var He=d(ce);ee=z(He,j),He.forEach(i),de=D(S),se=a(S,"TD",{class:!0});var Y=d(se);be=z(Y,$),Y.forEach(i),Ve=D(S),M=a(S,"TD",{class:!0});var xe=d(M);X=a(xe,"DIV",{class:!0});var mt=d(X);G=a(mt,"SELECT",{class:!0});var De=d(G);oe=a(De,"OPTION",{"data-svelte-h":!0}),F(oe)!=="svelte-yg62y6"&&(oe.textContent=qe),ve=a(De,"OPTION",{"data-svelte-h":!0}),F(ve)!=="svelte-1jiar9q"&&(ve.textContent=Te),ke=a(De,"OPTION",{"data-svelte-h":!0}),F(ke)!=="svelte-7y42mr"&&(ke.textContent=re),Ee=a(De,"OPTION",{"data-svelte-h":!0}),F(Ee)!=="svelte-1tursri"&&(Ee.textContent=ae),Oe=a(De,"OPTION",{"data-svelte-h":!0}),F(Oe)!=="svelte-106rur2"&&(Oe.textContent=Ie),De.forEach(i),mt.forEach(i),xe.forEach(i),$e=D(S),S.forEach(i),this.h()},h(){c(s,"class","id svelte-vlqaw"),c(h,"class","title svelte-vlqaw"),c(E,"class","type-badge svelte-vlqaw"),c(u,"class","svelte-vlqaw"),c(k,"class","severity-badge svelte-vlqaw"),Je(k,"background",gt(l[35].severity)),c(v,"class","svelte-vlqaw"),c(R,"class",Q="status-badge "+ul(l[35].status)+" svelte-vlqaw"),c(x,"class","svelte-vlqaw"),c(ce,"class","svelte-vlqaw"),c(se,"class","svelte-vlqaw"),oe.__value="new",W(oe,oe.__value),ve.__value="investigating",W(ve,ve.__value),ke.__value="in_progress",W(ke,ke.__value),Ee.__value="resolved",W(Ee,Ee.__value),Oe.__value="closed",W(Oe,Oe.__value),c(G,"class","svelte-vlqaw"),c(X,"class","actions svelte-vlqaw"),c(M,"class","svelte-vlqaw")},m(O,S){we(O,t,S),e(t,s),e(s,o),e(s,P),e(t,_),e(t,h),e(h,w),e(t,g),e(t,u),e(u,E),e(E,C),e(t,b),e(t,v),e(v,k),e(k,N),e(t,A),e(t,x),e(x,R),e(R,H),e(t,Ce),e(t,ce),e(ce,ee),e(t,de),e(t,se),e(se,be),e(t,Ve),e(t,M),e(M,X),e(X,G),e(G,oe),e(G,ve),e(G,ke),e(G,Ee),e(G,Oe),Ye(G,l[35].status),e(t,$e),L||(ue=Ae(G,"change",te),L=!0)},p(O,S){l=O,S[0]&4096&&f!==(f=l[35].id.slice(0,8)+"")&&Z(P,f),S[0]&4096&&q!==(q=l[35].title+"")&&Z(w,q),S[0]&4096&&m!==(m=l[35].type+"")&&Z(C,m),S[0]&4096&&V!==(V=l[35].severity+"")&&Z(N,V),S[0]&4096&&Je(k,"background",gt(l[35].severity)),S[0]&4096&&J!==(J=l[35].status.replace("_"," ")+"")&&Z(H,J),S[0]&4096&&Q!==(Q="status-badge "+ul(l[35].status)+" svelte-vlqaw")&&c(R,"class",Q),S[0]&4096&&j!==(j=(l[35].subscription_tier||"Guest")+"")&&Z(ee,j),S[0]&4096&&$!==($=new Date(l[35].created_at).toLocaleDateString()+"")&&Z(be,$),S[0]&4096&&Be!==(Be=l[35].status)&&Ye(G,l[35].status)},d(O){O&&i(t),L=!1,ue()}}}function il(l){let t,s,o,f="Pattern Analysis",P,_,h,q,w,g="Pattern ID:",u,E,m,C,b,v="Type:",k,V=l[7].pattern.pattern_type+"",N,A,x,R,J="Occurrences:",H,Q=l[7].pattern.occurrences+"",Ce,ce,j,ee,de="Affected Users:",se,$=l[7].pattern.affected_users+"",be,Ve,M,X="Suggested Fixes",G,oe,qe,ve,Te="Related Feedback",ke,re,Ee,ae,Oe="Close",Ie,Be,$e=Se(l[7].suggested_fixes),L=[];for(let O=0;O<$e.length;O+=1)L[O]=cl(Qt(l,$e,O));let ue=Se(l[7].related_feedback.slice(0,5)),te=[];for(let O=0;O<ue.length;O+=1)te[O]=vl(Jt(l,ue,O));return{c(){t=n("div"),s=n("div"),o=n("h2"),o.textContent=f,P=T(),_=n("div"),h=n("div"),q=n("p"),w=n("strong"),w.textContent=g,u=T(),E=B(l[6]),m=T(),C=n("p"),b=n("strong"),b.textContent=v,k=T(),N=B(V),A=T(),x=n("p"),R=n("strong"),R.textContent=J,H=T(),Ce=B(Q),ce=T(),j=n("p"),ee=n("strong"),ee.textContent=de,se=T(),be=B($),Ve=T(),M=n("h3"),M.textContent=X,G=T(),oe=n("ul");for(let O=0;O<L.length;O+=1)L[O].c();qe=T(),ve=n("h3"),ve.textContent=Te,ke=T(),re=n("div");for(let O=0;O<te.length;O+=1)te[O].c();Ee=T(),ae=n("button"),ae.textContent=Oe,this.h()},l(O){t=a(O,"DIV",{class:!0});var S=d(t);s=a(S,"DIV",{class:!0});var I=d(s);o=a(I,"H2",{class:!0,"data-svelte-h":!0}),F(o)!=="svelte-itgc52"&&(o.textContent=f),P=D(I),_=a(I,"DIV",{class:!0});var le=d(_);h=a(le,"DIV",{class:!0});var ne=d(h);q=a(ne,"P",{class:!0});var Fe=d(q);w=a(Fe,"STRONG",{"data-svelte-h":!0}),F(w)!=="svelte-pdzbf7"&&(w.textContent=g),u=D(Fe),E=z(Fe,l[6]),Fe.forEach(i),m=D(ne),C=a(ne,"P",{class:!0});var fe=d(C);b=a(fe,"STRONG",{"data-svelte-h":!0}),F(b)!=="svelte-1y9dw9w"&&(b.textContent=v),k=D(fe),N=z(fe,V),fe.forEach(i),A=D(ne),x=a(ne,"P",{class:!0});var Le=d(x);R=a(Le,"STRONG",{"data-svelte-h":!0}),F(R)!=="svelte-wbjwgs"&&(R.textContent=J),H=D(Le),Ce=z(Le,Q),Le.forEach(i),ce=D(ne),j=a(ne,"P",{class:!0});var he=d(j);ee=a(he,"STRONG",{"data-svelte-h":!0}),F(ee)!=="svelte-1eo43fk"&&(ee.textContent=de),se=D(he),be=z(he,$),he.forEach(i),ne.forEach(i),Ve=D(le),M=a(le,"H3",{"data-svelte-h":!0}),F(M)!=="svelte-1asikmq"&&(M.textContent=X),G=D(le),oe=a(le,"UL",{class:!0});var Ge=d(oe);for(let Y=0;Y<L.length;Y+=1)L[Y].l(Ge);Ge.forEach(i),qe=D(le),ve=a(le,"H3",{"data-svelte-h":!0}),F(ve)!=="svelte-ahg5m6"&&(ve.textContent=Te),ke=D(le),re=a(le,"DIV",{class:!0});var He=d(re);for(let Y=0;Y<te.length;Y+=1)te[Y].l(He);He.forEach(i),le.forEach(i),Ee=D(I),ae=a(I,"BUTTON",{class:!0,"data-svelte-h":!0}),F(ae)!=="svelte-1sjq49e"&&(ae.textContent=Oe),I.forEach(i),S.forEach(i),this.h()},h(){c(o,"class","svelte-vlqaw"),c(q,"class","svelte-vlqaw"),c(C,"class","svelte-vlqaw"),c(x,"class","svelte-vlqaw"),c(j,"class","svelte-vlqaw"),c(h,"class","pattern-info svelte-vlqaw"),c(oe,"class","suggested-fixes svelte-vlqaw"),c(re,"class","related-feedback svelte-vlqaw"),c(_,"class","pattern-details"),c(ae,"class","close-modal svelte-vlqaw"),c(s,"class","modal svelte-vlqaw"),c(t,"class","modal-overlay svelte-vlqaw")},m(O,S){we(O,t,S),e(t,s),e(s,o),e(s,P),e(s,_),e(_,h),e(h,q),e(q,w),e(q,u),e(q,E),e(h,m),e(h,C),e(C,b),e(C,k),e(C,N),e(h,A),e(h,x),e(x,R),e(x,H),e(x,Ce),e(h,ce),e(h,j),e(j,ee),e(j,se),e(j,be),e(_,Ve),e(_,M),e(_,G),e(_,oe);for(let I=0;I<L.length;I+=1)L[I]&&L[I].m(oe,null);e(_,qe),e(_,ve),e(_,ke),e(_,re);for(let I=0;I<te.length;I+=1)te[I]&&te[I].m(re,null);e(s,Ee),e(s,ae),Ie||(Be=[Ae(ae,"click",l[25]),Ae(s,"click",ml(l[18])),Ae(t,"click",l[26])],Ie=!0)},p(O,S){if(S[0]&64&&Z(E,O[6]),S[0]&128&&V!==(V=O[7].pattern.pattern_type+"")&&Z(N,V),S[0]&128&&Q!==(Q=O[7].pattern.occurrences+"")&&Z(Ce,Q),S[0]&128&&$!==($=O[7].pattern.affected_users+"")&&Z(be,$),S[0]&128){$e=Se(O[7].suggested_fixes);let I;for(I=0;I<$e.length;I+=1){const le=Qt(O,$e,I);L[I]?L[I].p(le,S):(L[I]=cl(le),L[I].c(),L[I].m(oe,null))}for(;I<L.length;I+=1)L[I].d(1);L.length=$e.length}if(S[0]&128){ue=Se(O[7].related_feedback.slice(0,5));let I;for(I=0;I<ue.length;I+=1){const le=Jt(O,ue,I);te[I]?te[I].p(le,S):(te[I]=vl(le),te[I].c(),te[I].m(re,null))}for(;I<te.length;I+=1)te[I].d(1);te.length=ue.length}},d(O){O&&i(t),it(L,O),it(te,O),Ie=!1,_l(Be)}}}function cl(l){let t,s=l[32]+"",o;return{c(){t=n("li"),o=B(s),this.h()},l(f){t=a(f,"LI",{class:!0});var P=d(t);o=z(P,s),P.forEach(i),this.h()},h(){c(t,"class","svelte-vlqaw")},m(f,P){we(f,t,P),e(t,o)},p(f,P){P[0]&128&&s!==(s=f[32]+"")&&Z(o,s)},d(f){f&&i(t)}}}function vl(l){let t,s,o=l[29].title+"",f,P,_,h=l[29].description.slice(0,200)+"",q,w,g,u,E=new Date(l[29].created_at).toLocaleDateString()+"",m,C;return{c(){t=n("div"),s=n("strong"),f=B(o),P=T(),_=n("p"),q=B(h),w=B("..."),g=T(),u=n("small"),m=B(E),C=T(),this.h()},l(b){t=a(b,"DIV",{class:!0});var v=d(t);s=a(v,"STRONG",{class:!0});var k=d(s);f=z(k,o),k.forEach(i),P=D(v),_=a(v,"P",{class:!0});var V=d(_);q=z(V,h),w=z(V,"..."),V.forEach(i),g=D(v),u=a(v,"SMALL",{class:!0});var N=d(u);m=z(N,E),N.forEach(i),C=D(v),v.forEach(i),this.h()},h(){c(s,"class","svelte-vlqaw"),c(_,"class","svelte-vlqaw"),c(u,"class","svelte-vlqaw"),c(t,"class","feedback-preview svelte-vlqaw")},m(b,v){we(b,t,v),e(t,s),e(s,f),e(t,P),e(t,_),e(_,q),e(_,w),e(t,g),e(t,u),e(u,m),e(t,C)},p(b,v){v[0]&128&&o!==(o=b[29].title+"")&&Z(f,o),v[0]&128&&h!==(h=b[29].description.slice(0,200)+"")&&Z(q,h),v[0]&128&&E!==(E=new Date(b[29].created_at).toLocaleDateString()+"")&&Z(m,E)},d(b){b&&i(t)}}}function Pl(l){let t,s,o,f="Feedback Analytics Dashboard",P,_,h,q="🤖 Retrain Pattern Detection",w,g,u,E,m,C,b;const v=[Ol,Tl],k=[];function V(A,x){return A[5]?0:A[1]?1:-1}~(g=V(l))&&(u=k[g]=v[g](l));let N=l[6]&&l[7]&&il(l);return{c(){t=n("div"),s=n("div"),o=n("h1"),o.textContent=f,P=T(),_=n("div"),h=n("button"),h.textContent=q,w=T(),u&&u.c(),E=T(),N&&N.c(),this.h()},l(A){t=a(A,"DIV",{class:!0});var x=d(t);s=a(x,"DIV",{class:!0});var R=d(s);o=a(R,"H1",{class:!0,"data-svelte-h":!0}),F(o)!=="svelte-1434ppb"&&(o.textContent=f),P=D(R),_=a(R,"DIV",{class:!0});var J=d(_);h=a(J,"BUTTON",{class:!0,"data-svelte-h":!0}),F(h)!=="svelte-1bwey2d"&&(h.textContent=q),J.forEach(i),R.forEach(i),w=D(x),u&&u.l(x),E=D(x),N&&N.l(x),x.forEach(i),this.h()},h(){c(o,"class","svelte-vlqaw"),c(h,"class","train-button svelte-vlqaw"),c(_,"class","header-actions svelte-vlqaw"),c(s,"class","dashboard-header svelte-vlqaw"),c(t,"class","feedback-dashboard svelte-vlqaw")},m(A,x){we(A,t,x),e(t,s),e(s,o),e(s,P),e(s,_),e(_,h),e(t,w),~g&&k[g].m(t,null),e(t,E),N&&N.m(t,null),m=!0,C||(b=Ae(h,"click",l[16]),C=!0)},p(A,x){let R=g;g=V(A),g===R?~g&&k[g].p(A,x):(u&&(At(),ye(k[R],1,1,()=>{k[R]=null}),yt()),~g?(u=k[g],u?u.p(A,x):(u=k[g]=v[g](A),u.c()),Ne(u,1),u.m(t,E)):u=null),A[6]&&A[7]?N?N.p(A,x):(N=il(A),N.c(),N.m(t,null)):N&&(N.d(1),N=null)},i(A){m||(Ne(u),m=!0)},o(A){ye(u),m=!1},d(A){A&&i(t),~g&&k[g].d(),N&&N.d(),C=!1,b()}}}function gt(l){return{critical:"#ef4444",high:"#f97316",medium:"#eab308",low:"#3b82f6"}[l]||"#6b7280"}function ul(l){return{new:"badge-new",investigating:"badge-investigating",in_progress:"badge-progress",resolved:"badge-resolved",closed:"badge-closed"}[l]||""}function Nl(l,t,s){let o,f=null,P=[],_=[],h=null,q=null,w=!0,g=null,u=null,E="",m="",C="",b="",v=[],k=[];gl(async()=>{await V();const $=setInterval(V,3e4);return()=>clearInterval($)});async function V(){try{const $=await pt.getDashboard();s(1,f=await pt.getAnalytics()),v=$.recent_feedback,s(11,k=$.critical_issues),s(2,_=$.feedback_heatmap),s(3,h=$.impact_analysis),s(4,q=$.resolution_stats),await N()}catch($){console.error("Failed to load dashboard data:",$)}finally{s(5,w=!1)}}async function N(){try{s(17,P=await pt.list({status:E||void 0,type:m||void 0,severity:C||void 0}))}catch($){console.error("Failed to load feedback list:",$)}}async function A($){s(6,g=$),s(7,u=await pt.getPatternDetails($))}async function x($,be){try{await pt.updateStatus($,be),await V()}catch(Ve){console.error("Failed to update status:",Ve)}}async function R(){try{const $=await pt.trainPatternDetection();alert(`Pattern detection updated! ${$.patterns_discovered} new patterns found.`),await V()}catch($){console.error("Failed to train pattern detection:",$)}}function J($){wl.call(this,l,$)}const H=$=>A($.pattern_id);function Q(){E=Vt(this),s(8,E)}function Ce(){m=Vt(this),s(9,m)}function ce(){C=Vt(this),s(10,C)}function j(){b=this.value,s(0,b)}const ee=($,be)=>x($.id,be.target.value),de=()=>s(6,g=null),se=()=>s(6,g=null);return l.$$.update=()=>{l.$$.dirty[0]&131073&&s(12,o=P.filter($=>!(b&&!$.title.toLowerCase().includes(b.toLowerCase()))))},[b,f,_,h,q,w,g,u,E,m,C,k,o,N,A,x,R,P,J,H,Q,Ce,ce,j,ee,de,se]}class Ul extends fl{constructor(t){super(),hl(this,t,Nl,Pl,pl,{},null,[-1,-1])}}export{Ul as component};
