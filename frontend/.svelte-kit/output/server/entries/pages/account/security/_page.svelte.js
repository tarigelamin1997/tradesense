import { c as create_ssr_component, v as validate_component } from "../../../../chunks/ssr.js";
import "../../../../chunks/client.js";
import { I as Icon } from "../../../../chunks/Icon.js";
import "qrcode";
const css = {
  code: ".spinner.svelte-1wneosv{width:2rem;height:2rem;border-width:4px;border-color:#c7d2fe;border-top-color:#4f46e5;border-radius:9999px;animation:svelte-1wneosv-spin 1s linear infinite}@keyframes svelte-1wneosv-spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.btn.svelte-1wneosv{padding:0.5rem 1rem;border-radius:0.375rem;font-weight:500;transition:background-color 0.2s, color 0.2s;display:inline-flex;align-items:center;justify-content:center}.btn-secondary.svelte-1wneosv{background-color:#e5e7eb;color:#1f2937}.btn-secondary.svelte-1wneosv:hover{background-color:#d1d5db}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n    import { onMount } from 'svelte';\\n    import { page } from '$app/stores';\\n    import { goto } from '$app/navigation';\\n    import MFASetup from '$lib/components/MFASetup.svelte';\\n    import Icon from '$lib/components/Icon.svelte';\\n    import { api } from '$lib/api/client-safe';\\n    \\n    let user = null;\\n    let trustedDevices = [];\\n    let loading = true;\\n    let error = null;\\n    \\n    async function loadSecurityData() {\\n        try {\\n            loading = true;\\n            error = null;\\n            \\n            // Get user data\\n            user = await api.get('/auth/me');\\n            \\n            // Get trusted devices\\n            const devicesData = await api.get('/mfa/trusted-devices');\\n            trustedDevices = devicesData.trusted_devices || [];\\n            \\n        } catch (err) {\\n            error = err.message || 'Failed to load security settings';\\n        } finally {\\n            loading = false;\\n        }\\n    }\\n    \\n    async function removeTrustedDevice(deviceId) {\\n        if (!confirm('Remove this trusted device?')) return;\\n        \\n        try {\\n            await api.delete(\`/mfa/trusted-devices/\${deviceId}\`);\\n            await loadSecurityData();\\n        } catch (err) {\\n            alert(err.message || 'Failed to remove device');\\n        }\\n    }\\n    \\n    function handleMFAComplete() {\\n        // Reload data after MFA setup\\n        loadSecurityData();\\n    }\\n    \\n    onMount(() => {\\n        loadSecurityData();\\n    });\\n<\/script>\\n\\n<svelte:head>\\n    <title>Security Settings - TradeSense</title>\\n</svelte:head>\\n\\n<div class=\\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\\">\\n    <!-- Header -->\\n    <div class=\\"mb-8\\">\\n        <div class=\\"flex items-center mb-4\\">\\n            <button\\n                on:click={() => goto('/account')}\\n                class=\\"text-gray-500 hover:text-gray-700 mr-3\\"\\n            >\\n                <Icon name=\\"arrow-left\\" class=\\"w-5 h-5\\" />\\n            </button>\\n            <h1 class=\\"text-3xl font-bold text-gray-900\\">Security Settings</h1>\\n        </div>\\n        <p class=\\"text-gray-600\\">\\n            Manage your account security and authentication settings\\n        </p>\\n    </div>\\n    \\n    {#if loading}\\n        <div class=\\"flex justify-center py-12\\">\\n            <div class=\\"spinner\\"></div>\\n        </div>\\n    {:else if error}\\n        <div class=\\"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700\\">\\n            {error}\\n        </div>\\n    {:else if user}\\n        <div class=\\"space-y-6\\">\\n            <!-- Two-Factor Authentication -->\\n            <MFASetup {user} onComplete={handleMFAComplete} />\\n            \\n            <!-- Trusted Devices -->\\n            {#if trustedDevices.length > 0}\\n                <div class=\\"bg-white rounded-lg shadow-sm border border-gray-200\\">\\n                    <div class=\\"p-6 border-b border-gray-200\\">\\n                        <h2 class=\\"text-xl font-bold text-gray-900\\">Trusted Devices</h2>\\n                        <p class=\\"mt-2 text-gray-600\\">\\n                            These devices won't require MFA for 30 days\\n                        </p>\\n                    </div>\\n                    \\n                    <div class=\\"p-6\\">\\n                        <div class=\\"space-y-3\\">\\n                            {#each trustedDevices as device}\\n                                <div class=\\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\\">\\n                                    <div>\\n                                        <p class=\\"font-medium text-gray-900\\">\\n                                            {device.name}\\n                                        </p>\\n                                        <p class=\\"text-sm text-gray-500\\">\\n                                            Added {new Date(device.created_at).toLocaleDateString()}\\n                                            • Last used {new Date(device.last_used_at).toLocaleDateString()}\\n                                            • From {device.last_ip}\\n                                        </p>\\n                                        <p class=\\"text-xs text-gray-500 mt-1\\">\\n                                            Expires {new Date(device.expires_at).toLocaleDateString()}\\n                                        </p>\\n                                    </div>\\n                                    <button\\n                                        on:click={() => removeTrustedDevice(device.id)}\\n                                        class=\\"text-red-600 hover:text-red-700\\"\\n                                        title=\\"Remove device\\"\\n                                    >\\n                                        <Icon name=\\"trash-2\\" class=\\"w-5 h-5\\" />\\n                                    </button>\\n                                </div>\\n                            {/each}\\n                        </div>\\n                    </div>\\n                </div>\\n            {/if}\\n            \\n            <!-- Password Change -->\\n            <div class=\\"bg-white rounded-lg shadow-sm border border-gray-200\\">\\n                <div class=\\"p-6 border-b border-gray-200\\">\\n                    <h2 class=\\"text-xl font-bold text-gray-900\\">Password</h2>\\n                    <p class=\\"mt-2 text-gray-600\\">\\n                        Change your account password\\n                    </p>\\n                </div>\\n                \\n                <div class=\\"p-6\\">\\n                    <button\\n                        on:click={() => goto('/account/change-password')}\\n                        class=\\"btn btn-secondary\\"\\n                    >\\n                        Change Password\\n                    </button>\\n                </div>\\n            </div>\\n            \\n            <!-- Security Recommendations -->\\n            <div class=\\"bg-blue-50 border border-blue-200 rounded-lg p-6\\">\\n                <div class=\\"flex\\">\\n                    <Icon name=\\"shield\\" class=\\"w-6 h-6 text-blue-600 mr-3 flex-shrink-0\\" />\\n                    <div>\\n                        <h3 class=\\"font-semibold text-blue-900 mb-2\\">Security Recommendations</h3>\\n                        <ul class=\\"space-y-1 text-sm text-blue-800\\">\\n                            <li class=\\"flex items-start\\">\\n                                <Icon name=\\"check\\" class=\\"w-4 h-4 mr-2 mt-0.5 flex-shrink-0\\" />\\n                                Use a unique, strong password for your TradeSense account\\n                            </li>\\n                            <li class=\\"flex items-start\\">\\n                                <Icon name=\\"check\\" class=\\"w-4 h-4 mr-2 mt-0.5 flex-shrink-0\\" />\\n                                Enable two-factor authentication for maximum security\\n                            </li>\\n                            <li class=\\"flex items-start\\">\\n                                <Icon name=\\"check\\" class=\\"w-4 h-4 mr-2 mt-0.5 flex-shrink-0\\" />\\n                                Regularly review and remove unused trusted devices\\n                            </li>\\n                            <li class=\\"flex items-start\\">\\n                                <Icon name=\\"check\\" class=\\"w-4 h-4 mr-2 mt-0.5 flex-shrink-0\\" />\\n                                Keep your authenticator app backed up or save your backup codes\\n                            </li>\\n                        </ul>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    {/if}\\n</div>\\n\\n<style>\\n    .spinner {\\n        width: 2rem;\\n        height: 2rem;\\n        border-width: 4px;\\n        border-color: #c7d2fe;\\n        border-top-color: #4f46e5;\\n        border-radius: 9999px;\\n        animation: spin 1s linear infinite;\\n    }\\n    \\n    @keyframes spin {\\n        from { transform: rotate(0deg); }\\n        to { transform: rotate(360deg); }\\n    }\\n    \\n    .btn {\\n        padding: 0.5rem 1rem;\\n        border-radius: 0.375rem;\\n        font-weight: 500;\\n        transition: background-color 0.2s, color 0.2s;\\n        display: inline-flex;\\n        align-items: center;\\n        justify-content: center;\\n    }\\n    \\n    .btn-secondary {\\n        background-color: #e5e7eb;\\n        color: #1f2937;\\n    }\\n    \\n    .btn-secondary:hover {\\n        background-color: #d1d5db;\\n    }\\n</style>"],"names":[],"mappings":"AAmLI,uBAAS,CACL,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,YAAY,CAAE,GAAG,CACjB,YAAY,CAAE,OAAO,CACrB,gBAAgB,CAAE,OAAO,CACzB,aAAa,CAAE,MAAM,CACrB,SAAS,CAAE,mBAAI,CAAC,EAAE,CAAC,MAAM,CAAC,QAC9B,CAEA,WAAW,mBAAK,CACZ,IAAK,CAAE,SAAS,CAAE,OAAO,IAAI,CAAG,CAChC,EAAG,CAAE,SAAS,CAAE,OAAO,MAAM,CAAG,CACpC,CAEA,mBAAK,CACD,OAAO,CAAE,MAAM,CAAC,IAAI,CACpB,aAAa,CAAE,QAAQ,CACvB,WAAW,CAAE,GAAG,CAChB,UAAU,CAAE,gBAAgB,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,CAC7C,OAAO,CAAE,WAAW,CACpB,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MACrB,CAEA,6BAAe,CACX,gBAAgB,CAAE,OAAO,CACzB,KAAK,CAAE,OACX,CAEA,6BAAc,MAAO,CACjB,gBAAgB,CAAE,OACtB"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  $$result.css.add(css);
  return `${$$result.head += `<!-- HEAD_svelte-1equq85_START -->${$$result.title = `<title>Security Settings - TradeSense</title>`, ""}<!-- HEAD_svelte-1equq85_END -->`, ""} <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"> <div class="mb-8"><div class="flex items-center mb-4"><button class="text-gray-500 hover:text-gray-700 mr-3">${validate_component(Icon, "Icon").$$render($$result, { name: "arrow-left", class: "w-5 h-5" }, {}, {})}</button> <h1 class="text-3xl font-bold text-gray-900" data-svelte-h="svelte-12bf19d">Security Settings</h1></div> <p class="text-gray-600" data-svelte-h="svelte-frwiw6">Manage your account security and authentication settings</p></div> ${`<div class="flex justify-center py-12" data-svelte-h="svelte-em5o00"><div class="spinner svelte-1wneosv"></div></div>`} </div>`;
});
export {
  Page as default
};
