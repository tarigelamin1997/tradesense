import{S as mt,i as ht,s as vt,d as c,t as $,a as w,I as Ne,f as M,h as o,D as a,E as bt,o as E,k as f,l as C,r as P,q as p,n as gt,y as R,z as j,A as J,m as Ee,B as W,N as wt,J as qe,e as We,G as ae,p as _e,v as me,j as ze,Z as ue,O as X}from"../chunks/Lbc7qOuA.js";import"../chunks/IHki7fMi.js";import{g as dt}from"../chunks/COKI2rXe.js";import{a as kt}from"../chunks/BaPb1MTw.js";import{C as Ue}from"../chunks/BGdJAnOw.js";import{L as Je}from"../chunks/Bq5Rfu0O.js";import{C as $t}from"../chunks/B5zPiAHL.js";import{E as Ye}from"../chunks/C4SabxlY.js";import{E as Ke}from"../chunks/CpvFwwJ8.js";function Ct(r){let e,l='<h1 class="svelte-8ld96d">Change Password</h1> <p class="svelte-8ld96d">Choose a strong password to keep your account secure</p>',t,s,n,d,v,h="Current Password",k,u,m,y,G,V,N,F,ce,I,B,he="New Password",de,D,H,fe,x,T,z,S,q,_,b,Z,ee="Confirm New Password",U,O,K,we,ve,Q,te,se,He,Ze,be,ie,Ge,Re,pe,Le=r[3]?"Changing...":"Change Password",Ae,Be,ke,je,Qe,L=r[4]&&ft(r);m=new Je({props:{size:20}});function Xe(i,g){return i[6]?Pt:Et}let Se=Xe(r),le=Se(r);const xe=[Dt,It],$e=[];function et(i,g){return i[6]?0:1}N=et(r),F=$e[N]=xe[N](r),H=new Je({props:{size:20}});function tt(i,g){return i[7]?Vt:Tt}let Oe=tt(r),re=Oe(r);const st=[Nt,zt],Ce=[];function lt(i,g){return i[7]?0:1}z=lt(r),S=Ce[z]=st[z](r);let A=r[0]&&pt(r);K=new Je({props:{size:20}});function rt(i,g){return i[8]?Ut:qt}let Me=rt(r),ne=Me(r);const nt=[At,Lt],ye=[];function at(i,g){return i[8]?0:1}te=at(r),se=ye[te]=nt[te](r);let Y=r[2]&&r[0]&&r[2]!==r[0]&&_t();return{c(){e=p("div"),e.innerHTML=l,t=P(),L&&L.c(),s=P(),n=p("form"),d=p("div"),v=p("label"),v.textContent=h,k=P(),u=p("div"),W(m.$$.fragment),y=P(),le.c(),G=P(),V=p("button"),F.c(),ce=P(),I=p("div"),B=p("label"),B.textContent=he,de=P(),D=p("div"),W(H.$$.fragment),fe=P(),re.c(),x=P(),T=p("button"),S.c(),q=P(),A&&A.c(),_=P(),b=p("div"),Z=p("label"),Z.textContent=ee,U=P(),O=p("div"),W(K.$$.fragment),we=P(),ne.c(),ve=P(),Q=p("button"),se.c(),He=P(),Y&&Y.c(),Ze=P(),be=p("div"),ie=p("button"),Ge=me("Cancel"),Re=P(),pe=p("button"),Ae=me(Le),this.h()},l(i){e=f(i,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-129asa9"&&(e.innerHTML=l),t=E(i),L&&L.l(i),s=E(i),n=f(i,"FORM",{});var g=C(n);d=f(g,"DIV",{class:!0});var ge=C(d);v=f(ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ee(v)!=="svelte-1fzlea0"&&(v.textContent=h),k=E(ge),u=f(ge,"DIV",{class:!0});var oe=C(u);J(m.$$.fragment,oe),y=E(oe),le.l(oe),G=E(oe),V=f(oe,"BUTTON",{type:!0,class:!0,"aria-label":!0});var Pe=C(V);F.l(Pe),Pe.forEach(c),oe.forEach(c),ge.forEach(c),ce=E(g),I=f(g,"DIV",{class:!0});var Ie=C(I);B=f(Ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ee(B)!=="svelte-imw5ia"&&(B.textContent=he),de=E(Ie),D=f(Ie,"DIV",{class:!0});var De=C(D);J(H.$$.fragment,De),fe=E(De),re.l(De),x=E(De),T=f(De,"BUTTON",{type:!0,class:!0,"aria-label":!0});var it=C(T);S.l(it),it.forEach(c),De.forEach(c),q=E(Ie),A&&A.l(Ie),Ie.forEach(c),_=E(g),b=f(g,"DIV",{class:!0});var Te=C(b);Z=f(Te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Ee(Z)!=="svelte-1lyfuh8"&&(Z.textContent=ee),U=E(Te),O=f(Te,"DIV",{class:!0});var Ve=C(O);J(K.$$.fragment,Ve),we=E(Ve),ne.l(Ve),ve=E(Ve),Q=f(Ve,"BUTTON",{type:!0,class:!0,"aria-label":!0});var ot=C(Q);se.l(ot),ot.forEach(c),Ve.forEach(c),He=E(Te),Y&&Y.l(Te),Te.forEach(c),Ze=E(g),be=f(g,"DIV",{class:!0});var Fe=C(be);ie=f(Fe,"BUTTON",{type:!0,class:!0});var ut=C(ie);Ge=_e(ut,"Cancel"),ut.forEach(c),Re=E(Fe),pe=f(Fe,"BUTTON",{type:!0,class:!0});var ct=C(pe);Ae=_e(ct,Le),ct.forEach(c),Fe.forEach(c),g.forEach(c),this.h()},h(){a(e,"class","header svelte-8ld96d"),a(v,"for","currentPassword"),a(v,"class","svelte-8ld96d"),a(V,"type","button"),a(V,"class","toggle-password svelte-8ld96d"),a(V,"aria-label","Toggle password visibility"),a(u,"class","password-input svelte-8ld96d"),a(d,"class","form-group svelte-8ld96d"),a(B,"for","newPassword"),a(B,"class","svelte-8ld96d"),a(T,"type","button"),a(T,"class","toggle-password svelte-8ld96d"),a(T,"aria-label","Toggle password visibility"),a(D,"class","password-input svelte-8ld96d"),a(I,"class","form-group svelte-8ld96d"),a(Z,"for","confirmPassword"),a(Z,"class","svelte-8ld96d"),a(Q,"type","button"),a(Q,"class","toggle-password svelte-8ld96d"),a(Q,"aria-label","Toggle password visibility"),a(O,"class","password-input svelte-8ld96d"),a(b,"class","form-group svelte-8ld96d"),a(ie,"type","button"),a(ie,"class","cancel-button svelte-8ld96d"),ie.disabled=r[3],a(pe,"type","submit"),a(pe,"class","submit-button svelte-8ld96d"),pe.disabled=Be=r[3]||!r[1]||!r[0]||!r[2],a(be,"class","form-actions svelte-8ld96d")},m(i,g){M(i,e,g),M(i,t,g),L&&L.m(i,g),M(i,s,g),M(i,n,g),o(n,d),o(d,v),o(d,k),o(d,u),j(m,u,null),o(u,y),le.m(u,null),o(u,G),o(u,V),$e[N].m(V,null),o(n,ce),o(n,I),o(I,B),o(I,de),o(I,D),j(H,D,null),o(D,fe),re.m(D,null),o(D,x),o(D,T),Ce[z].m(T,null),o(I,q),A&&A.m(I,null),o(n,_),o(n,b),o(b,Z),o(b,U),o(b,O),j(K,O,null),o(O,we),ne.m(O,null),o(O,ve),o(O,Q),ye[te].m(Q,null),o(b,He),Y&&Y.m(b,null),o(n,Ze),o(n,be),o(be,ie),o(ie,Ge),o(be,Re),o(be,pe),o(pe,Ae),ke=!0,je||(Qe=[ae(V,"click",r[13]),ae(T,"click",r[16]),ae(Q,"click",r[19]),ae(ie,"click",r[20]),ae(n,"submit",r[10])],je=!0)},p(i,g){i[4]?L?(L.p(i,g),g&16&&w(L,1)):(L=ft(i),L.c(),w(L,1),L.m(s.parentNode,s)):L&&(qe(),$(L,1,1,()=>{L=null}),Ne()),Se===(Se=Xe(i))&&le?le.p(i,g):(le.d(1),le=Se(i),le&&(le.c(),le.m(u,G)));let ge=N;N=et(i),N!==ge&&(qe(),$($e[ge],1,1,()=>{$e[ge]=null}),Ne(),F=$e[N],F||(F=$e[N]=xe[N](i),F.c()),w(F,1),F.m(V,null)),Oe===(Oe=tt(i))&&re?re.p(i,g):(re.d(1),re=Oe(i),re&&(re.c(),re.m(D,x)));let oe=z;z=lt(i),z!==oe&&(qe(),$(Ce[oe],1,1,()=>{Ce[oe]=null}),Ne(),S=Ce[z],S||(S=Ce[z]=st[z](i),S.c()),w(S,1),S.m(T,null)),i[0]?A?(A.p(i,g),g&1&&w(A,1)):(A=pt(i),A.c(),w(A,1),A.m(I,null)):A&&(qe(),$(A,1,1,()=>{A=null}),Ne()),Me===(Me=rt(i))&&ne?ne.p(i,g):(ne.d(1),ne=Me(i),ne&&(ne.c(),ne.m(O,ve)));let Pe=te;te=at(i),te!==Pe&&(qe(),$(ye[Pe],1,1,()=>{ye[Pe]=null}),Ne(),se=ye[te],se||(se=ye[te]=nt[te](i),se.c()),w(se,1),se.m(Q,null)),i[2]&&i[0]&&i[2]!==i[0]?Y||(Y=_t(),Y.c(),Y.m(b,null)):Y&&(Y.d(1),Y=null),(!ke||g&8)&&(ie.disabled=i[3]),(!ke||g&8)&&Le!==(Le=i[3]?"Changing...":"Change Password")&&We(Ae,Le),(!ke||g&15&&Be!==(Be=i[3]||!i[1]||!i[0]||!i[2]))&&(pe.disabled=Be)},i(i){ke||(w(L),w(m.$$.fragment,i),w(F),w(H.$$.fragment,i),w(S),w(A),w(K.$$.fragment,i),w(se),ke=!0)},o(i){$(L),$(m.$$.fragment,i),$(F),$(H.$$.fragment,i),$(S),$(A),$(K.$$.fragment,i),$(se),ke=!1},d(i){i&&(c(e),c(t),c(s),c(n)),L&&L.d(i),R(m),le.d(),$e[N].d(),R(H),re.d(),Ce[z].d(),A&&A.d(),R(K),ne.d(),ye[te].d(),Y&&Y.d(),je=!1,wt(Qe)}}}function yt(r){let e,l,t,s,n,d="Password Changed!",v,h,k="Your password has been successfully updated. Redirecting to settings...",u;return t=new Ue({props:{size:64}}),{c(){e=p("div"),l=p("div"),W(t.$$.fragment),s=P(),n=p("h1"),n.textContent=d,v=P(),h=p("p"),h.textContent=k,this.h()},l(m){e=f(m,"DIV",{class:!0});var y=C(e);l=f(y,"DIV",{class:!0});var G=C(l);J(t.$$.fragment,G),G.forEach(c),s=E(y),n=f(y,"H1",{class:!0,"data-svelte-h":!0}),Ee(n)!=="svelte-102tgia"&&(n.textContent=d),v=E(y),h=f(y,"P",{class:!0,"data-svelte-h":!0}),Ee(h)!=="svelte-y2kt6m"&&(h.textContent=k),y.forEach(c),this.h()},h(){a(l,"class","success-icon svelte-8ld96d"),a(n,"class","svelte-8ld96d"),a(h,"class","svelte-8ld96d"),a(e,"class","success-state svelte-8ld96d")},m(m,y){M(m,e,y),o(e,l),j(t,l,null),o(e,s),o(e,n),o(e,v),o(e,h),u=!0},p:gt,i(m){u||(w(t.$$.fragment,m),u=!0)},o(m){$(t.$$.fragment,m),u=!1},d(m){m&&c(e),R(t)}}}function ft(r){let e,l,t,s,n;return l=new $t({props:{size:18}}),{c(){e=p("div"),W(l.$$.fragment),t=P(),s=me(r[4]),this.h()},l(d){e=f(d,"DIV",{class:!0});var v=C(e);J(l.$$.fragment,v),t=E(v),s=_e(v,r[4]),v.forEach(c),this.h()},h(){a(e,"class","error-message svelte-8ld96d")},m(d,v){M(d,e,v),j(l,e,null),o(e,t),o(e,s),n=!0},p(d,v){(!n||v&16)&&We(s,d[4])},i(d){n||(w(l.$$.fragment,d),n=!0)},o(d){$(l.$$.fragment,d),n=!1},d(d){d&&c(e),R(l)}}}function Et(r){let e,l,t;return{c(){e=p("input"),this.h()},l(s){e=f(s,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","currentPassword"),a(e,"type","password"),a(e,"placeholder","Enter current password"),e.required=!0,e.disabled=r[3],a(e,"class","svelte-8ld96d")},m(s,n){M(s,e,n),X(e,r[1]),l||(t=ae(e,"input",r[12]),l=!0)},p(s,n){n&8&&(e.disabled=s[3]),n&2&&e.value!==s[1]&&X(e,s[1])},d(s){s&&c(e),l=!1,t()}}}function Pt(r){let e,l,t;return{c(){e=p("input"),this.h()},l(s){e=f(s,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","currentPassword"),a(e,"type","text"),a(e,"placeholder","Enter current password"),e.required=!0,e.disabled=r[3],a(e,"class","svelte-8ld96d")},m(s,n){M(s,e,n),X(e,r[1]),l||(t=ae(e,"input",r[11]),l=!0)},p(s,n){n&8&&(e.disabled=s[3]),n&2&&e.value!==s[1]&&X(e,s[1])},d(s){s&&c(e),l=!1,t()}}}function It(r){let e,l;return e=new Ke({props:{size:18}}),{c(){W(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){j(e,t,s),l=!0},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Dt(r){let e,l;return e=new Ye({props:{size:18}}),{c(){W(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){j(e,t,s),l=!0},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Tt(r){let e,l,t;return{c(){e=p("input"),this.h()},l(s){e=f(s,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","newPassword"),a(e,"type","password"),a(e,"placeholder","Enter new password"),e.required=!0,e.disabled=r[3],a(e,"class","svelte-8ld96d")},m(s,n){M(s,e,n),X(e,r[0]),l||(t=ae(e,"input",r[15]),l=!0)},p(s,n){n&8&&(e.disabled=s[3]),n&1&&e.value!==s[0]&&X(e,s[0])},d(s){s&&c(e),l=!1,t()}}}function Vt(r){let e,l,t;return{c(){e=p("input"),this.h()},l(s){e=f(s,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","newPassword"),a(e,"type","text"),a(e,"placeholder","Enter new password"),e.required=!0,e.disabled=r[3],a(e,"class","svelte-8ld96d")},m(s,n){M(s,e,n),X(e,r[0]),l||(t=ae(e,"input",r[14]),l=!0)},p(s,n){n&8&&(e.disabled=s[3]),n&1&&e.value!==s[0]&&X(e,s[0])},d(s){s&&c(e),l=!1,t()}}}function zt(r){let e,l;return e=new Ke({props:{size:18}}),{c(){W(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){j(e,t,s),l=!0},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Nt(r){let e,l;return e=new Ye({props:{size:18}}),{c(){W(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){j(e,t,s),l=!0},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function pt(r){let e,l,t,s,n,d=r[9].text+"",v,h,k,u,m,y,G,V,N,F,ce,I,B,he,de,D,H,fe,x,T,z,S,q;return m=new Ue({props:{size:14}}),N=new Ue({props:{size:14}}),B=new Ue({props:{size:14}}),H=new Ue({props:{size:14}}),z=new Ue({props:{size:14}}),{c(){e=p("div"),l=p("div"),t=p("div"),s=P(),n=p("span"),v=me(d),h=P(),k=p("div"),u=p("div"),W(m.$$.fragment),y=me(`
								At least 8 characters`),G=P(),V=p("div"),W(N.$$.fragment),F=me(`
								Contains lowercase letter`),ce=P(),I=p("div"),W(B.$$.fragment),he=me(`
								Contains uppercase letter`),de=P(),D=p("div"),W(H.$$.fragment),fe=me(`
								Contains number`),x=P(),T=p("div"),W(z.$$.fragment),S=me(`
								Contains special character`),this.h()},l(_){e=f(_,"DIV",{class:!0});var b=C(e);l=f(b,"DIV",{class:!0});var Z=C(l);t=f(Z,"DIV",{class:!0,style:!0}),C(t).forEach(c),Z.forEach(c),s=E(b),n=f(b,"SPAN",{class:!0,style:!0});var ee=C(n);v=_e(ee,d),ee.forEach(c),b.forEach(c),h=E(_),k=f(_,"DIV",{class:!0});var U=C(k);u=f(U,"DIV",{class:!0});var O=C(u);J(m.$$.fragment,O),y=_e(O,`
								At least 8 characters`),O.forEach(c),G=E(U),V=f(U,"DIV",{class:!0});var K=C(V);J(N.$$.fragment,K),F=_e(K,`
								Contains lowercase letter`),K.forEach(c),ce=E(U),I=f(U,"DIV",{class:!0});var we=C(I);J(B.$$.fragment,we),he=_e(we,`
								Contains uppercase letter`),we.forEach(c),de=E(U),D=f(U,"DIV",{class:!0});var ve=C(D);J(H.$$.fragment,ve),fe=_e(ve,`
								Contains number`),ve.forEach(c),x=E(U),T=f(U,"DIV",{class:!0});var Q=C(T);J(z.$$.fragment,Q),S=_e(Q,`
								Contains special character`),Q.forEach(c),U.forEach(c),this.h()},h(){var _,b,Z,ee,U;a(t,"class","strength-fill svelte-8ld96d"),ze(t,"width",r[9].score+"%"),ze(t,"background-color",r[9].color),a(l,"class","strength-bar svelte-8ld96d"),a(n,"class","strength-text svelte-8ld96d"),ze(n,"color",r[9].color),a(e,"class","password-strength svelte-8ld96d"),a(u,"class","requirement svelte-8ld96d"),ue(u,"met",(_=r[9].checks)==null?void 0:_.length),a(V,"class","requirement svelte-8ld96d"),ue(V,"met",(b=r[9].checks)==null?void 0:b.lowercase),a(I,"class","requirement svelte-8ld96d"),ue(I,"met",(Z=r[9].checks)==null?void 0:Z.uppercase),a(D,"class","requirement svelte-8ld96d"),ue(D,"met",(ee=r[9].checks)==null?void 0:ee.numbers),a(T,"class","requirement svelte-8ld96d"),ue(T,"met",(U=r[9].checks)==null?void 0:U.special),a(k,"class","password-requirements svelte-8ld96d")},m(_,b){M(_,e,b),o(e,l),o(l,t),o(e,s),o(e,n),o(n,v),M(_,h,b),M(_,k,b),o(k,u),j(m,u,null),o(u,y),o(k,G),o(k,V),j(N,V,null),o(V,F),o(k,ce),o(k,I),j(B,I,null),o(I,he),o(k,de),o(k,D),j(H,D,null),o(D,fe),o(k,x),o(k,T),j(z,T,null),o(T,S),q=!0},p(_,b){var Z,ee,U,O,K;(!q||b&512)&&ze(t,"width",_[9].score+"%"),(!q||b&512)&&ze(t,"background-color",_[9].color),(!q||b&512)&&d!==(d=_[9].text+"")&&We(v,d),(!q||b&512)&&ze(n,"color",_[9].color),(!q||b&512)&&ue(u,"met",(Z=_[9].checks)==null?void 0:Z.length),(!q||b&512)&&ue(V,"met",(ee=_[9].checks)==null?void 0:ee.lowercase),(!q||b&512)&&ue(I,"met",(U=_[9].checks)==null?void 0:U.uppercase),(!q||b&512)&&ue(D,"met",(O=_[9].checks)==null?void 0:O.numbers),(!q||b&512)&&ue(T,"met",(K=_[9].checks)==null?void 0:K.special)},i(_){q||(w(m.$$.fragment,_),w(N.$$.fragment,_),w(B.$$.fragment,_),w(H.$$.fragment,_),w(z.$$.fragment,_),q=!0)},o(_){$(m.$$.fragment,_),$(N.$$.fragment,_),$(B.$$.fragment,_),$(H.$$.fragment,_),$(z.$$.fragment,_),q=!1},d(_){_&&(c(e),c(h),c(k)),R(m),R(N),R(B),R(H),R(z)}}}function qt(r){let e,l,t;return{c(){e=p("input"),this.h()},l(s){e=f(s,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","confirmPassword"),a(e,"type","password"),a(e,"placeholder","Confirm new password"),e.required=!0,e.disabled=r[3],a(e,"class","svelte-8ld96d")},m(s,n){M(s,e,n),X(e,r[2]),l||(t=ae(e,"input",r[18]),l=!0)},p(s,n){n&8&&(e.disabled=s[3]),n&4&&e.value!==s[2]&&X(e,s[2])},d(s){s&&c(e),l=!1,t()}}}function Ut(r){let e,l,t;return{c(){e=p("input"),this.h()},l(s){e=f(s,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","confirmPassword"),a(e,"type","text"),a(e,"placeholder","Confirm new password"),e.required=!0,e.disabled=r[3],a(e,"class","svelte-8ld96d")},m(s,n){M(s,e,n),X(e,r[2]),l||(t=ae(e,"input",r[17]),l=!0)},p(s,n){n&8&&(e.disabled=s[3]),n&4&&e.value!==s[2]&&X(e,s[2])},d(s){s&&c(e),l=!1,t()}}}function Lt(r){let e,l;return e=new Ke({props:{size:18}}),{c(){W(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){j(e,t,s),l=!0},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function At(r){let e,l;return e=new Ye({props:{size:18}}),{c(){W(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,s){j(e,t,s),l=!0},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function _t(r){let e,l="Passwords do not match";return{c(){e=p("p"),e.textContent=l,this.h()},l(t){e=f(t,"P",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-5ktzd5"&&(e.textContent=l),this.h()},h(){a(e,"class","field-error svelte-8ld96d")},m(t,s){M(t,e,s)},d(t){t&&c(e)}}}function Bt(r){let e,l,t,s,n,d;const v=[yt,Ct],h=[];function k(u,m){return u[5]?0:1}return s=k(r),n=h[s]=v[s](r),{c(){e=P(),l=p("div"),t=p("div"),n.c(),this.h()},l(u){bt("svelte-coqgxy",document.head).forEach(c),e=E(u),l=f(u,"DIV",{class:!0});var y=C(l);t=f(y,"DIV",{class:!0});var G=C(t);n.l(G),G.forEach(c),y.forEach(c),this.h()},h(){document.title="Change Password - TradeSense",a(t,"class","password-card svelte-8ld96d"),a(l,"class","container svelte-8ld96d")},m(u,m){M(u,e,m),M(u,l,m),o(l,t),h[s].m(t,null),d=!0},p(u,[m]){let y=s;s=k(u),s===y?h[s].p(u,m):(qe(),$(h[y],1,1,()=>{h[y]=null}),Ne(),n=h[s],n?n.p(u,m):(n=h[s]=v[s](u),n.c()),w(n,1),n.m(t,null))},i(u){d||(w(n),d=!0)},o(u){$(n),d=!1},d(u){u&&(c(e),c(l)),h[s].d()}}}function St(r){if(!r)return{score:0,text:"",color:""};let e=0;const l={length:r.length>=8,lowercase:/[a-z]/.test(r),uppercase:/[A-Z]/.test(r),numbers:/[0-9]/.test(r),special:/[^A-Za-z0-9]/.test(r)};l.length&&(e+=20),l.lowercase&&(e+=20),l.uppercase&&(e+=20),l.numbers&&(e+=20),l.special&&(e+=20),r.length>=12&&(e+=10),r.length>=16&&(e+=10);let t="",s="";return e<=40?(t="Weak",s="#ef4444"):e<=60?(t="Fair",s="#f59e0b"):e<=80?(t="Good",s="#3b82f6"):(t="Strong",s="#10b981"),{score:Math.min(e,100),text:t,color:s,checks:l}}function Ot(r,e,l){let t,s="",n="",d="",v=!1,h="",k=!1,u=!1,m=!1,y=!1;async function G(fe){var x,T,z,S;if(fe.preventDefault(),l(4,h=""),!s||!n||!d){l(4,h="Please fill in all fields");return}if(n!==d){l(4,h="New passwords do not match");return}if(n===s){l(4,h="New password must be different from current password");return}if(n.length<8){l(4,h="Password must be at least 8 characters long");return}if(!((x=t.checks)!=null&&x.lowercase)||!((T=t.checks)!=null&&T.numbers)){l(4,h="Password must contain both letters and numbers");return}l(3,v=!0);try{await kt.post("/api/v1/auth/change-password",{current_password:s,new_password:n}),l(5,k=!0),setTimeout(()=>{dt("/settings")},2e3)}catch(q){(z=q.message)!=null&&z.includes("incorrect")||(S=q.message)!=null&&S.includes("wrong")?l(4,h="Current password is incorrect"):l(4,h=q.message||"Failed to change password. Please try again.")}finally{l(3,v=!1)}}function V(){s=this.value,l(1,s)}function N(){s=this.value,l(1,s)}const F=()=>l(6,u=!u);function ce(){n=this.value,l(0,n)}function I(){n=this.value,l(0,n)}const B=()=>l(7,m=!m);function he(){d=this.value,l(2,d)}function de(){d=this.value,l(2,d)}const D=()=>l(8,y=!y),H=()=>dt("/settings");return r.$$.update=()=>{r.$$.dirty&1&&l(9,t=St(n))},[n,s,d,v,h,k,u,m,y,t,G,V,N,F,ce,I,B,he,de,D,H]}class Yt extends mt{constructor(e){super(),ht(this,e,Ot,Bt,vt,{})}}export{Yt as component};
