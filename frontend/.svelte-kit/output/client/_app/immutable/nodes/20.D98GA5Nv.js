const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/BP_Vl66U.js","../chunks/C1FmrZbK.js"])))=>i.map(i=>d[i]);
var mi=Object.defineProperty;var _i=(n,e,t)=>e in n?mi(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ke=(n,e,t)=>_i(n,typeof e!="symbol"?e+"":e,t);import{_ as xr}from"../chunks/C1FmrZbK.js";import{n as he,a9 as bi,ad as wi,ae as ki,af as yi,ag as Ei,a3 as Bs,S as Dt,i as Tt,s as xt,d as _,j as ue,f as U,h,D as v,k,l as T,q as y,w as cn,a8 as un,a2 as yn,H as $e,e as de,_ as wt,o as R,p as te,$ as kt,r as M,v as ne,m as ge,Z as vt,t as ie,a as ee,J as Ne,I as Fe,L as mt,y as Te,B as xe,z as Se,A as Re,N as St,G as ve,M as Ke,O as Ct,ah as Di,ai as Ti,E as xi,F as Si,Y as Ii,V as Ai,R as Ws,aj as Ci,P as Sr,T as Oi,X as Ri,U as Mi,x as En}from"../chunks/Lbc7qOuA.js";import{g as Pi}from"../chunks/D0QH3NT1.js";import{e as be,u as Li,g as Dn,a as Tn,f as Ni}from"../chunks/BPb2qfkA.js";import"../chunks/IHki7fMi.js";import{p as Fi}from"../chunks/C_IIl28G.js";import"../chunks/KzgLiahW.js";import{c as zi}from"../chunks/CvmYViMX.js";import{c as Vi,d as lt}from"../chunks/DcxUVAUi.js";import{b as Bi}from"../chunks/BkRuTgEo.js";import{L as cr}from"../chunks/yBtR4AKW.js";import{M as Wi}from"../chunks/4fbhx4SE.js";import{T as qi,P as Hi,E as Gi}from"../chunks/BV3OcYMB.js";import{s as Ir,C as sn,r as Ui,f as Ft,a as ji,b as Zi,e as Yi}from"../chunks/CShZGXat.js";import{T as Qn}from"../chunks/BXNpXYMZ.js";import{T as Xi}from"../chunks/DXycaVAh.js";import{M as $i}from"../chunks/D0PyiF5G.js";import{n as ur,c as qs,i as Qi}from"../chunks/ebsVarF6.js";import{A as Zn}from"../chunks/Exexrrot.js";import{C as jt}from"../chunks/CJoRKabc.js";import{F as Ki}from"../chunks/BVoy4-16.js";import{C as Ji}from"../chunks/DSnWZT4c.js";import{D as el}from"../chunks/DmVDXxKx.js";import{T as tl}from"../chunks/C6q2ekXb.js";import{C as nl,S as rl,F as sl,a as Ar,b as il,M as ll}from"../chunks/D6NmKuu7.js";import{D as al}from"../chunks/-mP7Un7Q.js";import{P as ol}from"../chunks/bUqTUu5f.js";import{E as cl}from"../chunks/CpvFwwJ8.js";import{E as ul}from"../chunks/C4SabxlY.js";import{X as dl}from"../chunks/D9QBKBPx.js";function fl(n,e,t,r){if(!e)return he;const s=n.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return he;const{delay:i=0,duration:a=300,easing:l=bi,start:o=wi()+i,end:c=o+a,tick:u=he,css:f}=t(n,{from:e,to:s},r);let d=!0,p=!1,g;function m(){f&&(g=Ei(n,0,1,a,i,l,f)),i||(p=!0)}function w(){f&&yi(n,g),d=!1}return ki(b=>{if(!p&&b>=o&&(p=!0),p&&b>=c&&(u(1,0),w()),!d)return!1;if(p){const E=b-o,x=0+1*l(E/a);u(x,1-x)}return!0}),m(),u(0,1),w}function hl(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,s=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,gl(n,s)}}function gl(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),s=r.transform==="none"?"":r.transform;n.style.transform=`${s} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function pl(n,e,t){const[r,s]=ur(t==null?void 0:t.in,n,e);return+Ir(r)==+Ir(s)}function vl(n,e){const[t,r]=ur(n,e.start,e.end);return{start:t,end:r}}function ml(n,e){const{start:t,end:r}=vl(e==null?void 0:e.in,n);let s=+t>+r;const i=s?+t:+r,a=s?r:t;a.setHours(0,0,0,0);let l=1;const o=[];for(;+a<=i;)o.push(qs(t,a)),a.setDate(a.getDate()+l),a.setHours(0,0,0,0);return s?o.reverse():o}function _l(n,e,t){const[r,s]=ur(t==null?void 0:t.in,n,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function bl(n,e){return pl(qs(n,n),Vi(n))}function Cr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function xn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Cr(Object(t),!0).forEach(function(r){Zt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Cr(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qt(n){"@babel/helpers - typeof";return qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(n)}function Zt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wl(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function kl(n,e){if(n==null)return{};var t=wl(n,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function yl(n,e){return Dl(n)||xl(n,e)||dr(n,e)||Il()}function rt(n){return El(n)||Tl(n)||dr(n)||Sl()}function El(n){if(Array.isArray(n))return Kn(n)}function Dl(n){if(Array.isArray(n))return n}function Tl(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function xl(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],s=!0,i=!1,a,l;try{for(t=t.call(n);!(s=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(o){i=!0,l=o}finally{try{!s&&t.return!=null&&t.return()}finally{if(i)throw l}}return r}}function dr(n,e){if(n){if(typeof n=="string")return Kn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Kn(n,e)}}function Kn(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Sl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Il(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dn(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=dr(n))||e){t&&(n=t);var r=0,s=function(){};return{s,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(o){throw o},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,l;return{s:function(){t=t.call(n)},n:function(){var o=t.next();return i=o.done,o},e:function(o){a=!0,l=o},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw l}}}}var Al="finalize",Cl="consider";function Yt(n,e,t){n.dispatchEvent(new CustomEvent(Al,{detail:{items:e,info:t}}))}function Mt(n,e,t){n.dispatchEvent(new CustomEvent(Cl,{detail:{items:e,info:t}}))}var Nn="draggedEntered",fn="draggedLeft",Fn="draggedOverIndex",fr="draggedLeftDocument",Sn={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Ol(n,e,t){n.dispatchEvent(new CustomEvent(Nn,{detail:{indexObj:e,draggedEl:t}}))}function Rl(n,e,t){n.dispatchEvent(new CustomEvent(fn,{detail:{draggedEl:e,type:Sn.LEFT_FOR_ANOTHER,theOtherDz:t}}))}function Ml(n,e){n.dispatchEvent(new CustomEvent(fn,{detail:{draggedEl:e,type:Sn.OUTSIDE_OF_ANY}}))}function Pl(n,e,t){n.dispatchEvent(new CustomEvent(Fn,{detail:{indexObj:e,draggedEl:t}}))}function Ll(n){window.dispatchEvent(new CustomEvent(fr,{detail:{draggedEl:n}}))}var je={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Nn,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Fn,DRAGGED_LEFT:fn,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},Qe={POINTER:"pointer",KEYBOARD:"keyboard"},zn="isDndShadowItem",Vn="data-is-dnd-shadow-item-internal",Nl="data-is-dnd-shadow-item-hint",Fl="id:dnd-shadow-placeholder-0000",zl="dnd-action-dragged-el",ze="id",Jn=0;function Hs(){Jn++}function Gs(){if(Jn===0)throw new Error("Bug! trying to decrement when there are no dropzones");Jn--}var hr=typeof window>"u";function er(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t,r=e?ql(n):n.getBoundingClientRect(),s=getComputedStyle(n),i=s.transform;if(i){var a,l,o,c;if(i.startsWith("matrix3d("))t=i.slice(9,-1).split(/, /),a=+t[0],l=+t[5],o=+t[12],c=+t[13];else if(i.startsWith("matrix("))t=i.slice(7,-1).split(/, /),a=+t[0],l=+t[3],o=+t[4],c=+t[5];else return r;var u=s.transformOrigin,f=r.x-o-(1-a)*parseFloat(u),d=r.y-c-(1-l)*parseFloat(u.slice(u.indexOf(" ")+1)),p=a?r.width/a:n.offsetWidth,g=l?r.height/l:n.offsetHeight;return{x:f,y:d,width:p,height:g,top:d,right:f+p,bottom:d+g,left:f}}else return r}function Us(n){var e=er(n);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function js(n){var e=n.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function Zs(n){return{x:(n.left+n.right)/2,y:(n.top+n.bottom)/2}}function Vl(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function Bn(n,e){return n.y<=e.bottom&&n.y>=e.top&&n.x>=e.left&&n.x<=e.right}function ln(n){return Zs(js(n))}function Or(n,e){var t=ln(n),r=Us(e);return Bn(t,r)}function Bl(n,e){var t=ln(n),r=ln(e);return Vl(t,r)}function Wl(n){var e=js(n);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}function ql(n){for(var e=n.getBoundingClientRect(),t={top:e.top,bottom:e.bottom,left:e.left,right:e.right},r=n.parentElement;r&&r!==document.body;){var s=r.getBoundingClientRect(),i=window.getComputedStyle(r).overflowY,a=window.getComputedStyle(r).overflowX,l=i==="scroll"||i==="auto",o=a==="scroll"||a==="auto";l&&(t.top=Math.max(t.top,s.top),t.bottom=Math.min(t.bottom,s.bottom)),o&&(t.left=Math.max(t.left,s.left),t.right=Math.min(t.right,s.right)),r=r.parentElement}return t.top=Math.max(t.top,0),t.bottom=Math.min(t.bottom,window.innerHeight),t.left=Math.max(t.left,0),t.right=Math.min(t.right,window.innerWidth),{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var Gt;function gr(){Gt=new Map}gr();function Hl(n){var e=Array.from(n.children).findIndex(function(t){return t.getAttribute(Vn)});if(e>=0)return Gt.has(n)||Gt.set(n,new Map),Gt.get(n).set(e,Us(n.children[e])),e}function Gl(n,e){if(!Or(n,e))return null;var t=e.children;if(t.length===0)return{index:0,isProximityBased:!0};for(var r=Hl(e),s=0;s<t.length;s++)if(Or(n,t[s])){var i=Gt.has(e)&&Gt.get(e).get(s);return i&&!Bn(ln(n),i)?{index:r,isProximityBased:!1}:{index:s,isProximityBased:!1}}for(var a=Number.MAX_VALUE,l=void 0,o=0;o<t.length;o++){var c=Bl(n,t[o]);c<a&&(a=c,l=o)}return{index:l,isProximityBased:!0}}function $t(n){return JSON.stringify(n,null,2)}function In(n){if(!n)throw new Error("cannot get depth of a falsy node");return Ys(n,0)}function Ys(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.parentElement?Ys(n.parentElement,e+1):e-1}function Ul(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(var t in n)if(!{}.hasOwnProperty.call(e,t)||e[t]!==n[t])return!1;return!0}function jl(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var Zl=200,Rr=10,tr;function Yl(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zl,r=arguments.length>3?arguments[3]:void 0,s,i,a=!1,l,o=Array.from(e).sort(function(u,f){return In(f)-In(u)});function c(){var u=ln(n),f=r.multiScrollIfNeeded();if(!f&&l&&Math.abs(l.x-u.x)<Rr&&Math.abs(l.y-u.y)<Rr){tr=window.setTimeout(c,t);return}if(Wl(n)){Ll(n);return}l=u;var d=!1,p=dn(o),g;try{for(p.s();!(g=p.n()).done;){var m=g.value;f&&gr();var w=Gl(n,m);if(w!==null){var b=w.index;d=!0,m!==s?(s&&Rl(s,n,m),Ol(m,w,n),s=m):b!==i&&(Pl(m,w,n),i=b);break}}}catch(E){p.e(E)}finally{p.f()}!d&&a&&s?(Ml(s,n),s=void 0,i=void 0,a=!1):a=!0,tr=window.setTimeout(c,t)}c()}function Xl(){clearTimeout(tr),gr()}var Qt=30;function $l(){var n;function e(){n={directionObj:void 0,stepPx:0}}e();function t(i){var a=n,l=a.directionObj,o=a.stepPx;l&&(i.scrollBy(l.x*o,l.y*o),window.requestAnimationFrame(function(){return t(i)}))}function r(i){return Qt-i}function s(i,a){if(!a)return!1;var l=Ql(i,a),o=!!n.directionObj;if(l===null)return o&&e(),!1;var c=!1,u=!1;return a.scrollHeight>a.clientHeight&&(l.bottom<Qt?(c=!0,n.directionObj={x:0,y:1},n.stepPx=r(l.bottom)):l.top<Qt&&(c=!0,n.directionObj={x:0,y:-1},n.stepPx=r(l.top)),!o&&c)||a.scrollWidth>a.clientWidth&&(l.right<Qt?(u=!0,n.directionObj={x:1,y:0},n.stepPx=r(l.right)):l.left<Qt&&(u=!0,n.directionObj={x:-1,y:0},n.stepPx=r(l.left)),!o&&u)?(t(a),!0):(e(),!1)}return{scrollIfNeeded:s,resetScrolling:e}}function Ql(n,e){var t=e===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:e.getBoundingClientRect();return Bn(n,t)?{top:n.y-t.top,bottom:t.bottom-n.y,left:n.x-t.left,right:t.right-n.x}:null}function Kl(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,t=ea(n),r=Array.from(t).sort(function(o,c){return In(c)-In(o)}),s=$l(),i=s.scrollIfNeeded,a=s.resetScrolling;function l(){var o=e();if(!o||!r)return!1;for(var c=r.filter(function(d){return Bn(o,d.getBoundingClientRect())||d===document.scrollingElement}),u=0;u<c.length;u++){var f=i(o,c[u]);if(f)return!0}return!1}return{multiScrollIfNeeded:t.size>0?l:function(){return!1},destroy:function(){return a()}}}function Jl(n){if(!n)return[];for(var e=[],t=n;t;){var r=window.getComputedStyle(t),s=r.overflow;s.split(" ").some(function(i){return i.includes("auto")||i.includes("scroll")})&&e.push(t),t=t.parentElement}return e}function ea(n){var e=new Set,t=dn(n),r;try{for(t.s();!(r=t.n()).done;){var s=r.value;Jl(s).forEach(function(i){return e.add(i)})}}catch(i){t.e(i)}finally{t.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&e.add(document.scrollingElement),e}function ta(n){var e=n.cloneNode(!0),t=[],r=n.tagName==="SELECT",s=r?[n]:rt(n.querySelectorAll("select")),i=dn(s),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;t.push(l.value)}}catch(x){i.e(x)}finally{i.f()}if(s.length>0)for(var o=r?[e]:rt(e.querySelectorAll("select")),c=0;c<o.length;c++){var u=o[c],f=t[c],d=u.querySelector('option[value="'.concat(f,'"'));d&&d.setAttribute("selected",!0)}var p=n.tagName==="CANVAS",g=p?[n]:rt(n.querySelectorAll("canvas"));if(g.length>0)for(var m=p?[e]:rt(e.querySelectorAll("canvas")),w=0;w<m.length;w++){var b=g[w],E=m[w];E.width=b.width,E.height=b.height,b.width>0&&b.height>0&&E.getContext("2d").drawImage(b,0,0)}return e}var an=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),na=Zt({},an.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function Xs(n){if(!an[n])throw new Error("Can't get non existing feature flag ".concat(n,"! Supported flags: ").concat(Object.keys(an)));return na[n]}var ra=.2;function Lt(n){return"".concat(n," ").concat(ra,"s ease")}function sa(n,e){var t=n.getBoundingClientRect(),r=ta(n);$s(n,r),r.id=zl,r.style.position="fixed";var s=t.top,i=t.left;if(r.style.top="".concat(s,"px"),r.style.left="".concat(i,"px"),e){var a=Zs(t);s-=a.y-e.y,i-=a.x-e.x,window.setTimeout(function(){r.style.top="".concat(s,"px"),r.style.left="".concat(i,"px")},0)}return r.style.margin="0",r.style.boxSizing="border-box",r.style.height="".concat(t.height,"px"),r.style.width="".concat(t.width,"px"),r.style.transition="".concat(Lt("top"),", ").concat(Lt("left"),", ").concat(Lt("background-color"),", ").concat(Lt("opacity"),", ").concat(Lt("color")," "),window.setTimeout(function(){return r.style.transition+=", ".concat(Lt("width"),", ").concat(Lt("height"))},0),r.style.zIndex="9999",r.style.cursor="grabbing",r}function ia(n){n.style.cursor="grab"}function la(n,e,t,r){$s(e,n);var s=e.getBoundingClientRect(),i=n.getBoundingClientRect(),a=s.width-i.width,l=s.height-i.height;if(a||l){var o={left:(t-i.left)/i.width,top:(r-i.top)/i.height};Xs(an.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(n.style.height="".concat(s.height,"px"),n.style.width="".concat(s.width,"px")),n.style.left="".concat(parseFloat(n.style.left)-o.left*a,"px"),n.style.top="".concat(parseFloat(n.style.top)-o.top*l,"px")}}function $s(n,e){var t=window.getComputedStyle(n);Array.from(t).filter(function(r){return r.startsWith("background")||r.startsWith("padding")||r.startsWith("font")||r.startsWith("text")||r.startsWith("align")||r.startsWith("justify")||r.startsWith("display")||r.startsWith("flex")||r.startsWith("border")||r==="opacity"||r==="color"||r==="list-style-type"||Xs(an.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(r==="width"||r==="height")}).forEach(function(r){return e.style.setProperty(r,t.getPropertyValue(r),t.getPropertyPriority(r))})}function aa(n,e){n.draggable=!1,n.ondragstart=function(){return!1},e?(n.style.userSelect="",n.style.WebkitUserSelect="",n.style.cursor=""):(n.style.userSelect="none",n.style.WebkitUserSelect="none",n.style.cursor="grab")}function Qs(n){n.style.display="none",n.style.position="fixed",n.style.zIndex="-5"}function oa(n){n.style.visibility="hidden",n.setAttribute(Vn,"true")}function ca(n){n.style.visibility="",n.removeAttribute(Vn)}function bn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};n.forEach(function(r){var s=e(r);Object.keys(s).forEach(function(i){r.style[i]=s[i]}),t(r).forEach(function(i){return r.classList.add(i)})})}function An(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};n.forEach(function(r){var s=e(r);Object.keys(s).forEach(function(i){r.style[i]=""}),t(r).forEach(function(i){return r.classList.contains(i)&&r.classList.remove(i)})})}function ua(n){var e=n.style.minHeight;n.style.minHeight=window.getComputedStyle(n).getPropertyValue("height");var t=n.style.minWidth;return n.style.minWidth=window.getComputedStyle(n).getPropertyValue("width"),function(){n.style.minHeight=e,n.style.minWidth=t}}var da="--any--",fa=100,ha=20,vn=3,ga=80,Mr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Pr="data-is-dnd-original-dragged-item",Ye,Le,Xe,Wn,De,qn,Rt,Be,ht,He,At=!1,pr=!1,vr,hn=!1,wn=[],tn,gt,en=!1,ot=new Map,Ce=new Map,Yn=new WeakMap;function pa(n,e){ot.has(e)||ot.set(e,new Set),ot.get(e).has(n)||(ot.get(e).add(n),Hs())}function Lr(n,e){ot.get(e).delete(n),Gs(),ot.get(e).size===0&&ot.delete(e)}function va(){var n=ot.get(Wn),e=dn(n),t;try{for(e.s();!(t=e.n()).done;){var r=t.value;r.addEventListener(Nn,Ks),r.addEventListener(fn,Js),r.addEventListener(Fn,ei)}}catch(a){e.e(a)}finally{e.f()}window.addEventListener(fr,Xt);var s=Math.max.apply(Math,rt(Array.from(n.keys()).map(function(a){return Ce.get(a).dropAnimationDurationMs}))),i=s===0?ha:Math.max(s,fa);tn=Kl(n,function(){return He}),Yl(Le,n,i*1.07,tn)}function ma(){var n=ot.get(Wn),e=dn(n),t;try{for(e.s();!(t=e.n()).done;){var r=t.value;r.removeEventListener(Nn,Ks),r.removeEventListener(fn,Js),r.removeEventListener(Fn,ei)}}catch(s){e.e(s)}finally{e.f()}window.removeEventListener(fr,Xt),tn&&(tn.destroy(),tn=void 0),Xl()}function Hn(n){return n.findIndex(function(e){return!!e[zn]})}function _a(n){var e;return xn(xn({},n),{},(e={},Zt(e,zn,!0),Zt(e,ze,Fl),e))}function Ks(n){var e=Ce.get(n.currentTarget),t=e.items,r=e.dropFromOthersDisabled;if(!(r&&n.currentTarget!==De)){if(hn=!1,t=t.filter(function(u){return u[ze]!==Rt[ze]}),De!==n.currentTarget){var s=Ce.get(De).items,i=s.filter(function(u){return!u[zn]});Mt(De,i,{trigger:je.DRAGGED_ENTERED_ANOTHER,id:Xe[ze],source:Qe.POINTER})}var a=n.detail.indexObj,l=a.index,o=a.isProximityBased,c=o&&l===n.currentTarget.children.length-1?l+1:l;Be=n.currentTarget,t.splice(c,0,Rt),Mt(n.currentTarget,t,{trigger:je.DRAGGED_ENTERED,id:Xe[ze],source:Qe.POINTER})}}function Js(n){if(At){var e=Ce.get(n.currentTarget),t=e.items,r=e.dropFromOthersDisabled;if(!(r&&n.currentTarget!==De&&n.currentTarget!==Be)){var s=rt(t),i=Hn(s);i!==-1&&s.splice(i,1);var a=Be;Be=void 0;var l=n.detail,o=l.type,c=l.theOtherDz;if(o===Sn.OUTSIDE_OF_ANY||o===Sn.LEFT_FOR_ANOTHER&&c!==De&&Ce.get(c).dropFromOthersDisabled){hn=!0,Be=De;var u=a===De?s:rt(Ce.get(De).items);u.splice(qn,0,Rt),Mt(De,u,{trigger:je.DRAGGED_LEFT_ALL,id:Xe[ze],source:Qe.POINTER})}Mt(n.currentTarget,s,{trigger:je.DRAGGED_LEFT,id:Xe[ze],source:Qe.POINTER})}}}function ei(n){var e=Ce.get(n.currentTarget),t=e.items,r=e.dropFromOthersDisabled;if(!(r&&n.currentTarget!==De)){var s=rt(t);hn=!1;var i=n.detail.indexObj.index,a=Hn(s);a!==-1&&s.splice(a,1),s.splice(i,0,Rt),Mt(n.currentTarget,s,{trigger:je.DRAGGED_OVER_INDEX,id:Xe[ze],source:Qe.POINTER})}}function Cn(n){n.preventDefault();var e=n.touches?n.touches[0]:n;He={x:e.clientX,y:e.clientY},Le.style.transform="translate3d(".concat(He.x-ht.x,"px, ").concat(He.y-ht.y,"px, 0)")}function Xt(){pr=!0,window.removeEventListener("mousemove",Cn),window.removeEventListener("touchmove",Cn),window.removeEventListener("mouseup",Xt),window.removeEventListener("touchend",Xt),ma(),ia(Le),Be||(Be=De);var n=Ce.get(Be),e=n.items,t=n.type;An(ot.get(t),function(i){return Ce.get(i).dropTargetStyle},function(i){return Ce.get(i).dropTargetClasses});var r=Hn(e);r===-1&&Be===De&&(r=qn),e=e.map(function(i){return i[zn]?Xe:i});function s(){vr(),Yt(Be,e,{trigger:hn?je.DROPPED_OUTSIDE_OF_ANY:je.DROPPED_INTO_ZONE,id:Xe[ze],source:Qe.POINTER}),Be!==De&&Yt(De,Ce.get(De).items,{trigger:je.DROPPED_INTO_ANOTHER,id:Xe[ze],source:Qe.POINTER});var i=Array.from(Be.children).find(function(a){return a.getAttribute(Vn)});i&&ca(i),ka()}Ce.get(Be).dropAnimationDisabled?s():ba(r,s)}function ba(n,e){var t=n>-1?er(Be.children[n],!1):er(Be,!1),r={x:t.left-parseFloat(Le.style.left),y:t.top-parseFloat(Le.style.top)},s=Ce.get(Be),i=s.dropAnimationDurationMs,a="transform ".concat(i,"ms ease");Le.style.transition=Le.style.transition?Le.style.transition+","+a:a,Le.style.transform="translate3d(".concat(r.x,"px, ").concat(r.y,"px, 0)"),window.setTimeout(e,i)}function wa(n,e){wn.push({dz:n,destroy:e}),window.requestAnimationFrame(function(){Qs(n),document.body.appendChild(n)})}function ka(){Le&&Le.remove&&Le.remove(),Ye&&Ye.remove&&Ye.remove(),Le=void 0,Ye=void 0,Xe=void 0,Wn=void 0,De=void 0,qn=void 0,Rt=void 0,Be=void 0,ht=void 0,He=void 0,At=!1,pr=!1,vr=void 0,hn=!1,gt&&clearTimeout(gt),gt=void 0,en=!1,wn.length&&(wn.forEach(function(n){var e=n.dz,t=n.destroy;t(),e.remove()}),wn=[])}function ya(n,e){var t=!1,r={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Mr,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},s=new Map;function i(){window.addEventListener("mousemove",o,{passive:!1}),window.addEventListener("touchmove",o,{passive:!1,capture:!1}),window.addEventListener("mouseup",l,{passive:!1}),window.addEventListener("touchend",l,{passive:!1})}function a(){window.removeEventListener("mousemove",o),window.removeEventListener("touchmove",o),window.removeEventListener("mouseup",l),window.removeEventListener("touchend",l),gt&&(clearTimeout(gt),gt=void 0,en=!1)}function l(d){if(a(),Ye=void 0,ht=void 0,He=void 0,d.type==="touchend"){var p=new Event("click",{bubbles:!0,cancelable:!0});d.target.dispatchEvent(p)}}function o(d){var p=!!d.touches,g=p?d.touches[0]:d;if(p&&r.delayTouchStartMs>0&&!en){He={x:g.clientX,y:g.clientY},(Math.abs(He.x-ht.x)>=vn||Math.abs(He.y-ht.y)>=vn)&&(gt&&(clearTimeout(gt),gt=void 0),l(d));return}d.preventDefault(),He={x:g.clientX,y:g.clientY},(Math.abs(He.x-ht.x)>=vn||Math.abs(He.y-ht.y)>=vn)&&(a(),u())}function c(d){if(!(d.target!==d.currentTarget&&(d.target.value!==void 0||d.target.isContentEditable))&&!d.button&&!At){var p=!!d.touches,g=p&&r.delayTouchStartMs>0;g||d.preventDefault(),d.stopPropagation();var m=p?d.touches[0]:d;ht={x:m.clientX,y:m.clientY},He=xn({},ht),Ye=d.currentTarget,g&&(en=!1,gt=window.setTimeout(function(){Ye&&(en=!0,a(),u())},r.delayTouchStartMs)),i()}}function u(){At=!0;var d=s.get(Ye);qn=d,De=Ye.parentElement;var p=De.closest("dialog")||De.closest("[popover]")||De.getRootNode(),g=p.body||p,m=r.items,w=r.type,b=r.centreDraggedOnCursor,E=rt(m);Xe=E[d],Wn=w,Rt=_a(Xe),Le=sa(Ye,b&&He),g.appendChild(Le);function x(){Ye.parentElement?window.requestAnimationFrame(x):(Ye.setAttribute(Pr,!0),g.appendChild(Ye),va(),Qs(Ye),Rt[ze]=Xe[ze],Le.focus())}window.requestAnimationFrame(x),bn(Array.from(ot.get(r.type)).filter(function(D){return D===De||!Ce.get(D).dropFromOthersDisabled}),function(D){return Ce.get(D).dropTargetStyle},function(D){return Ce.get(D).dropTargetClasses}),E.splice(d,1,Rt),vr=ua(De),Mt(De,E,{trigger:je.DRAG_STARTED,id:Xe[ze],source:Qe.POINTER}),window.addEventListener("mousemove",Cn,{passive:!1}),window.addEventListener("touchmove",Cn,{passive:!1,capture:!1}),window.addEventListener("mouseup",Xt,{passive:!1}),window.addEventListener("touchend",Xt,{passive:!1})}function f(d){var p=d.items,g=p===void 0?void 0:p,m=d.flipDurationMs,w=m===void 0?0:m,b=d.type,E=b===void 0?da:b,x=d.dragDisabled,D=x===void 0?!1:x,A=d.morphDisabled,S=A===void 0?!1:A,P=d.dropFromOthersDisabled,L=P===void 0?!1:P,B=d.dropTargetStyle,F=B===void 0?Mr:B,ae=d.dropTargetClasses,Y=ae===void 0?[]:ae,$=d.transformDraggedElement,I=$===void 0?function(){}:$,j=d.centreDraggedOnCursor,C=j===void 0?!1:j,H=d.dropAnimationDisabled,Z=H===void 0?!1:H,X=d.delayTouchStart,G=X===void 0?!1:X;r.dropAnimationDurationMs=w;var Q=0;G===!0?Q=ga:typeof G=="number"&&isFinite(G)&&G>=0&&(Q=G),r.delayTouchStartMs=Q,r.type&&E!==r.type&&Lr(n,r.type),r.type=E,r.items=rt(g),r.dragDisabled=D,r.morphDisabled=S,r.transformDraggedElement=I,r.centreDraggedOnCursor=C,r.dropAnimationDisabled=Z,t&&At&&!pr&&(!Ul(F,r.dropTargetStyle)||!jl(Y,r.dropTargetClasses))&&(An([n],function(){return r.dropTargetStyle},function(){return Y}),bn([n],function(){return F},function(){return Y})),r.dropTargetStyle=F,r.dropTargetClasses=rt(Y);function W(re,se){return Ce.get(re)?Ce.get(re)[se]:r[se]}t&&At&&r.dropFromOthersDisabled!==L&&(L?An([n],function(re){return W(re,"dropTargetStyle")},function(re){return W(re,"dropTargetClasses")}):bn([n],function(re){return W(re,"dropTargetStyle")},function(re){return W(re,"dropTargetClasses")})),r.dropFromOthersDisabled=L,Ce.set(n,r),pa(n,E);for(var K=At?Hn(r.items):-1,O=0;O<n.children.length;O++){var N=n.children[O];if(aa(N,D),O===K){S||la(Le,N,He.x,He.y),r.transformDraggedElement(Le,Xe,O),oa(N);continue}N.removeEventListener("mousedown",Yn.get(N)),N.removeEventListener("touchstart",Yn.get(N)),D||(N.addEventListener("mousedown",c),N.addEventListener("touchstart",c),Yn.set(N,c)),s.set(N,O),t||(t=!0)}}return f(e),{update:function(p){f(p)},destroy:function(){function p(){Lr(n,Ce.get(n).type),Ce.delete(n)}At&&!n.closest("[".concat(Pr,"]"))?wa(n,p):p()}}}var mn,nr={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},ti=(mn={},Zt(mn,nr.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Zt(mn,nr.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),mn),Ea="dnd-action-aria-alert",Oe;function rr(){Oe||(Oe=document.createElement("div"),function(){Oe.id=Ea,Oe.style.position="fixed",Oe.style.bottom="0",Oe.style.left="0",Oe.style.zIndex="-5",Oe.style.opacity="0",Oe.style.height="0",Oe.style.width="0",Oe.setAttribute("role","alert")}(),document.body.prepend(Oe),Object.entries(ti).forEach(function(n){var e=yl(n,2),t=e[0],r=e[1];return document.body.prepend(xa(t,r))}))}function Da(){return hr?null:(document.readyState==="complete"?rr():window.addEventListener("DOMContentLoaded",rr),xn({},nr))}function Ta(){hr||!Oe||(Object.keys(ti).forEach(function(n){var e;return(e=document.getElementById(n))===null||e===void 0?void 0:e.remove()}),Oe.remove(),Oe=void 0)}function xa(n,e){var t=document.createElement("div");return t.id=n,t.innerHTML="<p>".concat(e,"</p>"),t.style.display="none",t.style.position="fixed",t.style.zIndex="-5",t}function Ut(n){if(!hr){Oe||rr(),Oe.innerHTML="";var e=document.createTextNode(n);Oe.appendChild(e),Oe.style.display="none",Oe.style.display="inline"}}var Sa="--any--",Nr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},nt=!1,sr,Ge,zt="",Nt,pt,Ot="",On=new WeakSet,Fr=new WeakMap,zr=new WeakMap,ir=new Map,Ve=new Map,at=new Map,Rn;function Ia(n,e){at.size===0&&(Rn=Da(),window.addEventListener("keydown",ni),window.addEventListener("click",ri)),at.has(e)||at.set(e,new Set),at.get(e).has(n)||(at.get(e).add(n),Hs())}function Vr(n,e){Ge===n&&on(),at.get(e).delete(n),Gs(),at.get(e).size===0&&at.delete(e),at.size===0&&(window.removeEventListener("keydown",ni),window.removeEventListener("click",ri),Rn=void 0,Ta())}function ni(n){if(nt)switch(n.key){case"Escape":{on();break}}}function ri(){nt&&(On.has(document.activeElement)||on())}function Aa(n){if(nt){var e=n.currentTarget;if(e!==Ge){zt=e.getAttribute("aria-label")||"";var t=Ve.get(Ge),r=t.items,s=r.find(function(f){return f[ze]===pt}),i=r.indexOf(s),a=r.splice(i,1)[0],l=Ve.get(e),o=l.items,c=l.autoAriaDisabled;e.getBoundingClientRect().top<Ge.getBoundingClientRect().top||e.getBoundingClientRect().left<Ge.getBoundingClientRect().left?(o.push(a),c||Ut("Moved item ".concat(Ot," to the end of the list ").concat(zt))):(o.unshift(a),c||Ut("Moved item ".concat(Ot," to the beginning of the list ").concat(zt)));var u=Ge;Yt(u,r,{trigger:je.DROPPED_INTO_ANOTHER,id:pt,source:Qe.KEYBOARD}),Yt(e,o,{trigger:je.DROPPED_INTO_ZONE,id:pt,source:Qe.KEYBOARD}),Ge=e}}}function si(){ir.forEach(function(n,e){var t=n.update;return t(Ve.get(e))})}function on(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Ve.get(Ge).autoAriaDisabled||Ut("Stopped dragging item ".concat(Ot)),On.has(document.activeElement)&&document.activeElement.blur(),n&&Mt(Ge,Ve.get(Ge).items,{trigger:je.DRAG_STOPPED,id:pt,source:Qe.KEYBOARD}),An(at.get(sr),function(e){return Ve.get(e).dropTargetStyle},function(e){return Ve.get(e).dropTargetClasses}),Nt=null,pt=null,Ot="",sr=null,Ge=null,zt="",nt=!1,si()}function Ca(n,e){var t={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Nr,dropTargetClasses:[],autoAriaDisabled:!1};function r(u,f,d){u.length<=1||u.splice(d,1,u.splice(f,1,u[d])[0])}function s(u){switch(u.key){case"Enter":case" ":{if((u.target.disabled!==void 0||u.target.href||u.target.isContentEditable)&&!On.has(u.target))return;u.preventDefault(),u.stopPropagation(),nt?on():i(u);break}case"ArrowDown":case"ArrowRight":{if(!nt)return;u.preventDefault(),u.stopPropagation();var f=Ve.get(n),d=f.items,p=Array.from(n.children),g=p.indexOf(u.currentTarget);g<p.length-1&&(t.autoAriaDisabled||Ut("Moved item ".concat(Ot," to position ").concat(g+2," in the list ").concat(zt)),r(d,g,g+1),Yt(n,d,{trigger:je.DROPPED_INTO_ZONE,id:pt,source:Qe.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!nt)return;u.preventDefault(),u.stopPropagation();var m=Ve.get(n),w=m.items,b=Array.from(n.children),E=b.indexOf(u.currentTarget);E>0&&(t.autoAriaDisabled||Ut("Moved item ".concat(Ot," to position ").concat(E," in the list ").concat(zt)),r(w,E,E-1),Yt(n,w,{trigger:je.DROPPED_INTO_ZONE,id:pt,source:Qe.KEYBOARD}));break}}}function i(u){l(u.currentTarget),Ge=n,sr=t.type,nt=!0;var f=Array.from(at.get(t.type)).filter(function(p){return p===Ge||!Ve.get(p).dropFromOthersDisabled});if(bn(f,function(p){return Ve.get(p).dropTargetStyle},function(p){return Ve.get(p).dropTargetClasses}),!t.autoAriaDisabled){var d="Started dragging item ".concat(Ot,". Use the arrow keys to move it within its list ").concat(zt);f.length>1&&(d+=", or tab to another list in order to move the item into it"),Ut(d)}Mt(n,Ve.get(n).items,{trigger:je.DRAG_STARTED,id:pt,source:Qe.KEYBOARD}),si()}function a(u){nt&&u.currentTarget!==Nt&&(u.stopPropagation(),on(!1),i(u))}function l(u){var f=Ve.get(n),d=f.items,p=Array.from(n.children),g=p.indexOf(u);Nt=u,Nt.tabIndex=t.zoneItemTabIndex,pt=d[g][ze],Ot=p[g].getAttribute("aria-label")||""}function o(u){var f=u.items,d=f===void 0?[]:f,p=u.type,g=p===void 0?Sa:p,m=u.dragDisabled,w=m===void 0?!1:m,b=u.zoneTabIndex,E=b===void 0?0:b,x=u.zoneItemTabIndex,D=x===void 0?0:x,A=u.dropFromOthersDisabled,S=A===void 0?!1:A,P=u.dropTargetStyle,L=P===void 0?Nr:P,B=u.dropTargetClasses,F=B===void 0?[]:B,ae=u.autoAriaDisabled,Y=ae===void 0?!1:ae;t.items=rt(d),t.dragDisabled=w,t.dropFromOthersDisabled=S,t.zoneTabIndex=E,t.zoneItemTabIndex=D,t.dropTargetStyle=L,t.dropTargetClasses=F,t.autoAriaDisabled=Y,t.type&&g!==t.type&&Vr(n,t.type),t.type=g,Ia(n,g),Y||(n.setAttribute("aria-disabled",w),n.setAttribute("role","list"),n.setAttribute("aria-describedby",w?Rn.DND_ZONE_DRAG_DISABLED:Rn.DND_ZONE_ACTIVE)),Ve.set(n,t),nt?n.tabIndex=n===Ge||Nt.contains(n)||t.dropFromOthersDisabled||Ge&&t.type!==Ve.get(Ge).type?-1:0:n.tabIndex=t.zoneTabIndex,n.addEventListener("focus",Aa);for(var $=function(C){var H=n.children[C];On.add(H),H.tabIndex=nt?-1:t.zoneItemTabIndex,Y||H.setAttribute("role","listitem"),H.removeEventListener("keydown",Fr.get(H)),H.removeEventListener("click",zr.get(H)),w||(H.addEventListener("keydown",s),Fr.set(H,s),H.addEventListener("click",a),zr.set(H,a)),nt&&t.items[C][ze]===pt&&(Nt=H,Nt.tabIndex=t.zoneItemTabIndex,H.focus())},I=0;I<n.children.length;I++)$(I)}o(e);var c={update:function(f){o(f)},destroy:function(){Vr(n,t.type),Ve.delete(n),ir.delete(n)}};return ir.set(n,c),c}var Oa=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function Ra(n,e){if(Ma(n))return{update:function(){},destroy:function(){}};Br(e);var t=ya(n,e),r=Ca(n,e);return{update:function(i){Br(i),t.update(i),r.update(i)},destroy:function(){t.destroy(),r.destroy()}}}function Ma(n){return!!n.closest("[".concat(Nl,'="true"]'))}function Br(n){var e=n.items;n.flipDurationMs,n.type,n.dragDisabled,n.morphDisabled,n.dropFromOthersDisabled;var t=n.zoneTabIndex,r=n.zoneItemTabIndex;n.dropTargetStyle;var s=n.dropTargetClasses;n.transformDraggedElement,n.autoAriaDisabled,n.centreDraggedOnCursor;var i=n.delayTouchStart;n.dropAnimationDisabled;var a=kl(n,Oa);if(Object.keys(a).length>0&&console.warn("dndzone will ignore unknown options",a),!e)throw new Error("no 'items' key provided to dndzone");var l=e.find(function(u){return!{}.hasOwnProperty.call(u,ze)});if(l)throw new Error("missing '".concat(ze,"' property for item ").concat($t(l)));if(s&&!Array.isArray(s))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(qt(s),", ").concat($t(s)));if(t&&!Wr(t))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(qt(t),", ").concat($t(t)));if(r&&!Wr(r))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(qt(r),", ").concat($t(r)));if(i!==void 0&&i!==!1){var o=i===!0,c=typeof i=="number"&&isFinite(i)&&i>=0;if(!o&&!c)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(qt(i),", ").concat($t(i)))}}function Wr(n){return!isNaN(n)&&function(e){return(e|0)===e}(parseFloat(n))}function Pa(n,{from:e,to:t},r={}){const s=getComputedStyle(n),i=s.transform==="none"?"":s.transform,[a,l]=s.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*a/t.width-(t.left+a),c=e.top+e.height*l/t.height-(t.top+l),{delay:u=0,duration:f=p=>Math.sqrt(p)*120,easing:d=zi}=r;return{delay:u,duration:Bs(f)?f(Math.sqrt(o*o+c*c)):f,easing:d,css:(p,g)=>{const m=g*o,w=g*c,b=p+g*e.width/t.width,E=p+g*e.height/t.height;return`transform: ${i} translate(${m}px, ${w}px) scale(${b}, ${E});`}}}sn.register(...Ui);function La(n){let e,t;return{c(){e=y("div"),t=y("canvas"),this.h()},l(r){e=k(r,"DIV",{class:!0,style:!0});var s=T(e);t=k(s,"CANVAS",{style:!0,class:!0}),T(t).forEach(_),s.forEach(_),this.h()},h(){ue(t,"max-height",n[2]-20+"px"),v(t,"class","svelte-gb08a5"),v(e,"class","pie-chart-widget svelte-gb08a5"),ue(e,"height",n[0])},m(r,s){U(r,e,s),h(e,t),n[8](t)},p(r,[s]){s&4&&ue(t,"max-height",r[2]-20+"px"),s&1&&ue(e,"height",r[0])},i:he,o:he,d(r){r&&_(e),n[8](null)}}}function Na(n,e,t){let{data:r={labels:[],datasets:[]}}=e,{title:s="Pie Chart"}=e,{showLegend:i=!0}=e,{showTooltips:a=!0}=e,{height:l="100%"}=e,o,c=null,u=300;const f=["#10B981","#3B82F6","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#84CC16"];function d(){if(!o||!r.labels.length)return;const m=o.getContext("2d");m&&(r.datasets[0]&&!r.datasets[0].backgroundColor&&t(3,r.datasets[0].backgroundColor=f.slice(0,r.labels.length),r),t(7,c=new sn(m,{type:"pie",data:r,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:i,position:"bottom",labels:{padding:15,font:{size:12}}},tooltip:{enabled:a,callbacks:{label(w){const b=w.label||"",E=w.parsed||0,x=w.dataset.data.reduce((A,S)=>A+S,0),D=(E/x*100).toFixed(1);return`${b}: ${E} (${D}%)`}}}}}})))}function p(){if(!c){d();return}t(7,c.data=r,c),c.update()}cn(()=>{const m=new ResizeObserver(w=>{for(const b of w)t(2,u=b.contentRect.height||300)});return o&&o.parentElement&&m.observe(o.parentElement),d(),()=>{m.disconnect()}}),un(()=>{c&&c.destroy()});function g(m){yn[m?"unshift":"push"](()=>{o=m,t(1,o)})}return n.$$set=m=>{"data"in m&&t(3,r=m.data),"title"in m&&t(4,s=m.title),"showLegend"in m&&t(5,i=m.showLegend),"showTooltips"in m&&t(6,a=m.showTooltips),"height"in m&&t(0,l=m.height)},n.$$.update=()=>{n.$$.dirty&136&&c&&r&&p()},[l,o,u,r,s,i,a,c,g]}class Fa extends Dt{constructor(e){super(),Tt(this,e,Na,La,xt,{data:3,title:4,showLegend:5,showTooltips:6,height:0})}}function qr(n,e,t){const r=n.slice();r[12]=e[t],r[16]=t;const s=r[16]===0?r[1]:r[5][r[16]-1].value*(r[2]-r[1])/100+r[1];r[13]=s;const i=r[12].value*(r[2]-r[1])/100+r[1];return r[14]=i,r}function Hr(n){let e,t,r;return{c(){e=kt("path"),this.h()},l(s){e=wt(s,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,opacity:!0}),T(e).forEach(_),this.h()},h(){v(e,"d",t=n[10](n[13],n[14])),v(e,"fill","none"),v(e,"stroke",r=n[12].color),v(e,"stroke-width","8"),v(e,"stroke-linecap","round"),v(e,"opacity","0.3")},m(s,i){U(s,e,i)},p(s,i){i&38&&t!==(t=s[10](s[13],s[14]))&&v(e,"d",t),i&32&&r!==(r=s[12].color)&&v(e,"stroke",r)},d(s){s&&_(e)}}}function Gr(n){let e,t,r,s,i,a;return{c(){e=kt("text"),t=ne(n[1]),r=ne(n[3]),s=kt("text"),i=ne(n[2]),a=ne(n[3]),this.h()},l(l){e=wt(l,"text",{x:!0,y:!0,"text-anchor":!0,class:!0});var o=T(e);t=te(o,n[1]),r=te(o,n[3]),o.forEach(_),s=wt(l,"text",{x:!0,y:!0,"text-anchor":!0,class:!0});var c=T(s);i=te(c,n[2]),a=te(c,n[3]),c.forEach(_),this.h()},h(){v(e,"x","10"),v(e,"y","58"),v(e,"text-anchor","start"),v(e,"class","gauge-label svelte-k3vrd6"),v(s,"x","90"),v(s,"y","58"),v(s,"text-anchor","end"),v(s,"class","gauge-label svelte-k3vrd6")},m(l,o){U(l,e,o),h(e,t),h(e,r),U(l,s,o),h(s,i),h(s,a)},p(l,o){o&2&&de(t,l[1]),o&8&&de(r,l[3]),o&4&&de(i,l[2]),o&8&&de(a,l[3])},d(l){l&&(_(e),_(s))}}}function Ur(n){let e,t=n[0].toFixed(1)+"",r,s;return{c(){e=y("div"),r=ne(t),s=ne(n[3]),this.h()},l(i){e=k(i,"DIV",{class:!0,style:!0});var a=T(e);r=te(a,t),s=te(a,n[3]),a.forEach(_),this.h()},h(){v(e,"class","gauge-value svelte-k3vrd6"),ue(e,"color",n[11](n[0]))},m(i,a){U(i,e,a),h(e,r),h(e,s)},p(i,a){a&1&&t!==(t=i[0].toFixed(1)+"")&&de(r,t),a&8&&de(s,i[3]),a&1&&ue(e,"color",i[11](i[0]))},d(i){i&&_(e)}}}function za(n){let e,t,r,s,i,a,l,o,c,u,f,d,p,g,m,w=be(n[5]),b=[];for(let D=0;D<w.length;D+=1)b[D]=Hr(qr(n,w,D));let E=n[7]&&Gr(n),x=n[6]&&Ur(n);return{c(){e=y("div"),t=y("div"),r=kt("svg"),s=kt("path");for(let D=0;D<b.length;D+=1)b[D].c();i=kt("path"),o=kt("g"),c=kt("line"),f=kt("circle"),E&&E.c(),d=M(),x&&x.c(),p=M(),g=y("div"),m=ne(n[4]),this.h()},l(D){e=k(D,"DIV",{class:!0,style:!0});var A=T(e);t=k(A,"DIV",{class:!0});var S=T(t);r=wt(S,"svg",{viewBox:!0,class:!0});var P=T(r);s=wt(P,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),T(s).forEach(_);for(let F=0;F<b.length;F+=1)b[F].l(P);i=wt(P,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-dasharray":!0}),T(i).forEach(_),o=wt(P,"g",{transform:!0});var L=T(o);c=wt(L,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,transform:!0}),T(c).forEach(_),f=wt(L,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),T(f).forEach(_),L.forEach(_),E&&E.l(P),P.forEach(_),d=R(S),x&&x.l(S),p=R(S),g=k(S,"DIV",{class:!0});var B=T(g);m=te(B,n[4]),B.forEach(_),S.forEach(_),A.forEach(_),this.h()},h(){v(s,"d","M 10,50 A 40,40 0 0 1 90,50"),v(s,"fill","none"),v(s,"stroke","#E5E7EB"),v(s,"stroke-width","8"),v(s,"stroke-linecap","round"),v(i,"d","M 10,50 A 40,40 0 0 1 90,50"),v(i,"fill","none"),v(i,"stroke",a=n[11](n[0])),v(i,"stroke-width","8"),v(i,"stroke-linecap","round"),v(i,"stroke-dasharray",l=`${(n[0]-n[1])/(n[2]-n[1])*126} 126`),v(c,"x1","0"),v(c,"y1","0"),v(c,"x2","30"),v(c,"y2","0"),v(c,"stroke","#374151"),v(c,"stroke-width","2"),v(c,"stroke-linecap","round"),v(c,"transform",u="rotate("+n[9]+")"),v(f,"cx","0"),v(f,"cy","0"),v(f,"r","3"),v(f,"fill","#374151"),v(o,"transform","translate(50, 50)"),v(r,"viewBox","0 0 100 60"),v(r,"class","gauge-svg svelte-k3vrd6"),v(g,"class","gauge-title svelte-k3vrd6"),v(t,"class","gauge-container svelte-k3vrd6"),v(e,"class","gauge-widget svelte-k3vrd6"),ue(e,"height",n[8])},m(D,A){U(D,e,A),h(e,t),h(t,r),h(r,s);for(let S=0;S<b.length;S+=1)b[S]&&b[S].m(r,null);h(r,i),h(r,o),h(o,c),h(o,f),E&&E.m(r,null),h(t,d),x&&x.m(t,null),h(t,p),h(t,g),h(g,m)},p(D,[A]){if(A&1062){w=be(D[5]);let S;for(S=0;S<w.length;S+=1){const P=qr(D,w,S);b[S]?b[S].p(P,A):(b[S]=Hr(P),b[S].c(),b[S].m(r,i))}for(;S<b.length;S+=1)b[S].d(1);b.length=w.length}A&1&&a!==(a=D[11](D[0]))&&v(i,"stroke",a),A&7&&l!==(l=`${(D[0]-D[1])/(D[2]-D[1])*126} 126`)&&v(i,"stroke-dasharray",l),A&512&&u!==(u="rotate("+D[9]+")")&&v(c,"transform",u),D[7]?E?E.p(D,A):(E=Gr(D),E.c(),E.m(r,null)):E&&(E.d(1),E=null),D[6]?x?x.p(D,A):(x=Ur(D),x.c(),x.m(t,p)):x&&(x.d(1),x=null),A&16&&de(m,D[4]),A&256&&ue(e,"height",D[8])},i:he,o:he,d(D){D&&_(e),$e(b,D),E&&E.d(),x&&x.d()}}}function Va(n,e,t){let{value:r=0}=e,{min:s=0}=e,{max:i=100}=e,{unit:a="%"}=e,{title:l="Gauge"}=e,{segments:o=[{value:33,color:"#EF4444"},{value:66,color:"#F59E0B"},{value:100,color:"#10B981"}]}=e,{showValue:c=!0}=e,{showMinMax:u=!0}=e,{height:f="100%"}=e,d=-90;function p(m,w){const b=(m-s)/(i-s)*Math.PI,E=(w-s)/(i-s)*Math.PI,x=50+40*Math.cos(Math.PI-b),D=50+40*Math.sin(Math.PI-b),A=50+40*Math.cos(Math.PI-E),S=50+40*Math.sin(Math.PI-E),P=E-b>Math.PI/2?1:0;return`M ${x},${D} A 40,40 0 ${P} 1 ${A},${S}`}function g(m){for(let w=o.length-1;w>=0;w--)if(m>=o[w].value*(i-s)/100+s)return o[w].color;return o[0].color}return n.$$set=m=>{"value"in m&&t(0,r=m.value),"min"in m&&t(1,s=m.min),"max"in m&&t(2,i=m.max),"unit"in m&&t(3,a=m.unit),"title"in m&&t(4,l=m.title),"segments"in m&&t(5,o=m.segments),"showValue"in m&&t(6,c=m.showValue),"showMinMax"in m&&t(7,u=m.showMinMax),"height"in m&&t(8,f=m.height)},n.$$.update=()=>{if(n.$$.dirty&7){const m=(r-s)/(i-s);t(9,d=-90+m*180)}},[r,s,i,a,l,o,c,u,f,d,p,g]}class Ba extends Dt{constructor(e){super(),Tt(this,e,Va,za,xt,{value:0,min:1,max:2,unit:3,title:4,segments:5,showValue:6,showMinMax:7,height:8})}}function jr(n,e,t){const r=n.slice();return r[11]=e[t],r}function Zr(n,e,t){const r=n.slice();r[14]=e[t];const s=r[9](r[14],r[11]);return r[15]=s,r}function Yr(n,e,t){const r=n.slice();return r[18]=e[t],r}function Xr(n,e,t){const r=n.slice();return r[18]=e[t],r}function Wa(n){let e,t="No data available";return{c(){e=y("div"),e.textContent=t,this.h()},l(r){e=k(r,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-oq4agj"&&(e.textContent=t),this.h()},h(){v(e,"class","no-data svelte-1isxltf")},m(r,s){U(r,e,s)},p:he,d(r){r&&_(e)}}}function qa(n){let e,t,r,s,i,a,l,o,c,u,f,d,p,g,m,w=Ht(n[6])+"",b,E,x,D,A=Ht(n[7])+"",S,P=be(n[2]),L=[];for(let I=0;I<P.length;I+=1)L[I]=$r(Xr(n,P,I));let B=be(n[1]),F=[];for(let I=0;I<B.length;I+=1)F[I]=Qr(Yr(n,B,I));let ae=be(n[2]),Y=[];for(let I=0;I<ae.length;I+=1)Y[I]=es(jr(n,ae,I));let $=n[3]==="diverging"&&ts();return{c(){e=y("div"),t=y("div"),r=y("div"),s=M();for(let I=0;I<L.length;I+=1)L[I].c();i=M(),a=y("div"),l=y("div");for(let I=0;I<F.length;I+=1)F[I].c();o=M(),c=y("div");for(let I=0;I<Y.length;I+=1)Y[I].c();u=M(),f=y("div"),d=y("div"),p=M(),g=y("div"),m=y("span"),b=ne(w),E=M(),$&&$.c(),x=M(),D=y("span"),S=ne(A),this.h()},l(I){e=k(I,"DIV",{class:!0});var j=T(e);t=k(j,"DIV",{class:!0});var C=T(t);r=k(C,"DIV",{class:!0}),T(r).forEach(_),s=R(C);for(let N=0;N<L.length;N+=1)L[N].l(C);C.forEach(_),i=R(j),a=k(j,"DIV",{class:!0});var H=T(a);l=k(H,"DIV",{class:!0});var Z=T(l);for(let N=0;N<F.length;N+=1)F[N].l(Z);Z.forEach(_),o=R(H),c=k(H,"DIV",{class:!0});var X=T(c);for(let N=0;N<Y.length;N+=1)Y[N].l(X);X.forEach(_),H.forEach(_),j.forEach(_),u=R(I),f=k(I,"DIV",{class:!0});var G=T(f);d=k(G,"DIV",{class:!0,style:!0});var Q=T(d);Q.forEach(_),p=R(G),g=k(G,"DIV",{class:!0});var W=T(g);m=k(W,"SPAN",{});var K=T(m);b=te(K,w),K.forEach(_),E=R(W),$&&$.l(W),x=R(W),D=k(W,"SPAN",{});var O=T(D);S=te(O,A),O.forEach(_),W.forEach(_),G.forEach(_),this.h()},h(){v(r,"class","empty-cell svelte-1isxltf"),v(t,"class","y-labels svelte-1isxltf"),v(l,"class","x-labels svelte-1isxltf"),v(c,"class","cells svelte-1isxltf"),v(a,"class","grid-content svelte-1isxltf"),v(e,"class","heatmap-grid svelte-1isxltf"),v(d,"class","legend-bar svelte-1isxltf"),ue(d,"background","linear-gradient(to right, "+(n[3]==="diverging"?"rgba(239, 68, 68, 1)":"rgba(255, 255, 255, 0)")+", "+(n[3]==="diverging"?"rgba(255, 255, 255, 1)":n[8](n[6]))+", "+n[8](n[7])+")"),v(g,"class","legend-labels svelte-1isxltf"),v(f,"class","legend svelte-1isxltf")},m(I,j){U(I,e,j),h(e,t),h(t,r),h(t,s);for(let C=0;C<L.length;C+=1)L[C]&&L[C].m(t,null);h(e,i),h(e,a),h(a,l);for(let C=0;C<F.length;C+=1)F[C]&&F[C].m(l,null);h(a,o),h(a,c);for(let C=0;C<Y.length;C+=1)Y[C]&&Y[C].m(c,null);U(I,u,j),U(I,f,j),h(f,d),h(f,p),h(f,g),h(g,m),h(m,b),h(g,E),$&&$.m(g,null),h(g,x),h(g,D),h(D,S)},p(I,j){if(j&4){P=be(I[2]);let C;for(C=0;C<P.length;C+=1){const H=Xr(I,P,C);L[C]?L[C].p(H,j):(L[C]=$r(H),L[C].c(),L[C].m(t,null))}for(;C<L.length;C+=1)L[C].d(1);L.length=P.length}if(j&2){B=be(I[1]);let C;for(C=0;C<B.length;C+=1){const H=Yr(I,B,C);F[C]?F[C].p(H,j):(F[C]=Qr(H),F[C].c(),F[C].m(l,null))}for(;C<F.length;C+=1)F[C].d(1);F.length=B.length}if(j&534){ae=be(I[2]);let C;for(C=0;C<ae.length;C+=1){const H=jr(I,ae,C);Y[C]?Y[C].p(H,j):(Y[C]=es(H),Y[C].c(),Y[C].m(c,null))}for(;C<Y.length;C+=1)Y[C].d(1);Y.length=ae.length}j&200&&ue(d,"background","linear-gradient(to right, "+(I[3]==="diverging"?"rgba(239, 68, 68, 1)":"rgba(255, 255, 255, 0)")+", "+(I[3]==="diverging"?"rgba(255, 255, 255, 1)":I[8](I[6]))+", "+I[8](I[7])+")"),j&64&&w!==(w=Ht(I[6])+"")&&de(b,w),I[3]==="diverging"?$||($=ts(),$.c(),$.m(g,x)):$&&($.d(1),$=null),j&128&&A!==(A=Ht(I[7])+"")&&de(S,A)},d(I){I&&(_(e),_(u),_(f)),$e(L,I),$e(F,I),$e(Y,I),$&&$.d()}}}function $r(n){let e,t=n[18]+"",r;return{c(){e=y("div"),r=ne(t),this.h()},l(s){e=k(s,"DIV",{class:!0});var i=T(e);r=te(i,t),i.forEach(_),this.h()},h(){v(e,"class","y-label svelte-1isxltf")},m(s,i){U(s,e,i),h(e,r)},p(s,i){i&4&&t!==(t=s[18]+"")&&de(r,t)},d(s){s&&_(e)}}}function Qr(n){let e,t=n[18]+"",r;return{c(){e=y("div"),r=ne(t),this.h()},l(s){e=k(s,"DIV",{class:!0});var i=T(e);r=te(i,t),i.forEach(_),this.h()},h(){v(e,"class","x-label svelte-1isxltf")},m(s,i){U(s,e,i),h(e,r)},p(s,i){i&2&&t!==(t=s[18]+"")&&de(r,t)},d(s){s&&_(e)}}}function Kr(n){let e,t=Ht(n[15].value)+"",r;return{c(){e=y("span"),r=ne(t),this.h()},l(s){e=k(s,"SPAN",{class:!0});var i=T(e);r=te(i,t),i.forEach(_),this.h()},h(){v(e,"class","cell-value svelte-1isxltf")},m(s,i){U(s,e,i),h(e,r)},p(s,i){i&6&&t!==(t=Ht(s[15].value)+"")&&de(r,t)},d(s){s&&_(e)}}}function Jr(n){let e,t,r=n[4]&&n[15]&&Kr(n);return{c(){e=y("div"),r&&r.c(),this.h()},l(s){e=k(s,"DIV",{class:!0,style:!0,title:!0});var i=T(e);r&&r.l(i),i.forEach(_),this.h()},h(){v(e,"class","cell svelte-1isxltf"),ue(e,"background-color",n[15]?n[15].color:"#F3F4F6"),v(e,"title",t=n[14]+", "+n[11]+": "+(n[15]?n[15].value:"N/A"))},m(s,i){U(s,e,i),r&&r.m(e,null)},p(s,i){s[4]&&s[15]?r?r.p(s,i):(r=Kr(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null),i&6&&ue(e,"background-color",s[15]?s[15].color:"#F3F4F6"),i&6&&t!==(t=s[14]+", "+s[11]+": "+(s[15]?s[15].value:"N/A"))&&v(e,"title",t)},d(s){s&&_(e),r&&r.d()}}}function es(n){let e,t,r=be(n[1]),s=[];for(let i=0;i<r.length;i+=1)s[i]=Jr(Zr(n,r,i));return{c(){e=y("div");for(let i=0;i<s.length;i+=1)s[i].c();t=M(),this.h()},l(i){e=k(i,"DIV",{class:!0});var a=T(e);for(let l=0;l<s.length;l+=1)s[l].l(a);t=R(a),a.forEach(_),this.h()},h(){v(e,"class","cell-row svelte-1isxltf")},m(i,a){U(i,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);h(e,t)},p(i,a){if(a&534){r=be(i[1]);let l;for(l=0;l<r.length;l+=1){const o=Zr(i,r,l);s[l]?s[l].p(o,a):(s[l]=Jr(o),s[l].c(),s[l].m(e,t))}for(;l<s.length;l+=1)s[l].d(1);s.length=r.length}},d(i){i&&_(e),$e(s,i)}}}function ts(n){let e,t="0";return{c(){e=y("span"),e.textContent=t},l(r){e=k(r,"SPAN",{"data-svelte-h":!0}),ge(e)!=="svelte-spsr2y"&&(e.textContent=t)},m(r,s){U(r,e,s)},d(r){r&&_(e)}}}function Ha(n){let e,t;function r(a,l){return a[0].length>0?qa:Wa}let s=r(n),i=s(n);return{c(){e=y("div"),t=y("div"),i.c(),this.h()},l(a){e=k(a,"DIV",{class:!0,style:!0});var l=T(e);t=k(l,"DIV",{class:!0});var o=T(t);i.l(o),o.forEach(_),l.forEach(_),this.h()},h(){v(t,"class","heatmap-container svelte-1isxltf"),v(e,"class","heatmap-widget svelte-1isxltf"),ue(e,"height",n[5])},m(a,l){U(a,e,l),h(e,t),i.m(t,null)},p(a,[l]){s===(s=r(a))&&i?i.p(a,l):(i.d(1),i=s(a),i&&(i.c(),i.m(t,null))),l&32&&ue(e,"height",a[5])},i:he,o:he,d(a){a&&_(e),i.d()}}}function Ht(n){return Math.abs(n)>=1e3?(n/1e3).toFixed(1)+"k":Math.abs(n)>=1?n.toFixed(1):n.toFixed(2)}function Ga(n,e,t){let{data:r=[]}=e,{title:s="Heatmap"}=e,{xLabels:i=[]}=e,{yLabels:a=[]}=e,{colorScale:l="green"}=e,{showValues:o=!0}=e,{height:c="100%"}=e,u=0,f=0;function d(g){const m=(g-u)/(f-u);switch(l){case"green":return`rgba(16, 185, 129, ${m})`;case"red":return`rgba(239, 68, 68, ${m})`;case"blue":return`rgba(59, 130, 246, ${m})`;case"diverging":return g<0?`rgba(239, 68, 68, ${Math.abs(g)/Math.abs(u)})`:`rgba(16, 185, 129, ${g/f})`;default:return`rgba(156, 163, 175, ${m})`}}function p(g,m){const w=r.find(b=>String(b.x)===g&&String(b.y)===m);return w?{value:w.value,color:d(w.value)}:null}return n.$$set=g=>{"data"in g&&t(0,r=g.data),"title"in g&&t(10,s=g.title),"xLabels"in g&&t(1,i=g.xLabels),"yLabels"in g&&t(2,a=g.yLabels),"colorScale"in g&&t(3,l=g.colorScale),"showValues"in g&&t(4,o=g.showValues),"height"in g&&t(5,c=g.height)},n.$$.update=()=>{n.$$.dirty&1&&r.length>0&&(t(6,u=Math.min(...r.map(g=>g.value))),t(7,f=Math.max(...r.map(g=>g.value))))},[r,i,a,l,o,c,u,f,d,p,s]}class Ua extends Dt{constructor(e){super(),Tt(this,e,Ga,Ha,xt,{data:0,title:10,xLabels:1,yLabels:2,colorScale:3,showValues:4,height:5})}}function ns(n){let e,t;return{c(){e=y("div"),t=y("canvas"),this.h()},l(r){e=k(r,"DIV",{class:!0});var s=T(e);t=k(s,"CANVAS",{class:!0}),T(t).forEach(_),s.forEach(_),this.h()},h(){v(t,"class","svelte-1lzrt88"),v(e,"class","volume-chart svelte-1lzrt88")},m(r,s){U(r,e,s),h(e,t),n[7](t)},p:he,d(r){r&&_(e),n[7](null)}}}function ja(n){let e,t,r,s,i,a=n[0]&&ns(n);return{c(){e=y("div"),t=y("div"),r=y("div"),s=y("canvas"),i=M(),a&&a.c(),this.h()},l(l){e=k(l,"DIV",{class:!0,style:!0});var o=T(e);t=k(o,"DIV",{class:!0});var c=T(t);r=k(c,"DIV",{class:!0});var u=T(r);s=k(u,"CANVAS",{class:!0}),T(s).forEach(_),u.forEach(_),i=R(c),a&&a.l(c),c.forEach(_),o.forEach(_),this.h()},h(){v(s,"class","svelte-1lzrt88"),v(r,"class","price-chart svelte-1lzrt88"),v(t,"class","chart-container svelte-1lzrt88"),vt(t,"with-volume",n[0]),v(e,"class","candlestick-widget svelte-1lzrt88"),ue(e,"height",n[1])},m(l,o){U(l,e,o),h(e,t),h(t,r),h(r,s),n[6](s),h(t,i),a&&a.m(t,null)},p(l,[o]){l[0]?a?a.p(l,o):(a=ns(l),a.c(),a.m(t,null)):a&&(a.d(1),a=null),o&1&&vt(t,"with-volume",l[0]),o&2&&ue(e,"height",l[1])},i:he,o:he,d(l){l&&_(e),n[6](null),a&&a.d()}}}function Za(n,e,t){let{data:r=[]}=e,{title:s="Price Chart"}=e,{showVolume:i=!0}=e,{height:a="100%"}=e,l,o,c=null,u=null;function f(){if(!l||!r.length)return;const m=l.getContext("2d");if(!m)return;const w={id:"candlestick",beforeDatasetsDraw:b=>{const E=b.ctx;b.getDatasetMeta(0).data.forEach((D,A)=>{const{x:S,y:P}=D,L=r[A];if(!L)return;const B=b.scales.y,F=B.getPixelForValue(L.o),ae=B.getPixelForValue(L.h),Y=B.getPixelForValue(L.l),$=B.getPixelForValue(L.c),j=L.c>=L.o?"#10B981":"#EF4444";E.save(),E.beginPath(),E.moveTo(S,ae),E.lineTo(S,Y),E.strokeStyle=j,E.lineWidth=1,E.stroke(),E.fillStyle=j,E.fillRect(S-4,Math.min(F,$),8,Math.abs($-F)||1),E.restore()})}};if(c=new sn(m,{type:"line",data:{datasets:[{label:s,data:r.map(b=>({x:b.x,y:b.c})),borderColor:"transparent",backgroundColor:"transparent",pointRadius:0,pointHoverRadius:0}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},tooltip:{callbacks:{title:b=>new Date(b[0].parsed.x).toLocaleDateString(),label:b=>{const E=b.dataIndex,x=r[E];return x?[`Open: ${x.o.toFixed(2)}`,`High: ${x.h.toFixed(2)}`,`Low: ${x.l.toFixed(2)}`,`Close: ${x.c.toFixed(2)}`,x.v?`Volume: ${x.v.toLocaleString()}`:""].filter(Boolean):""}}}},scales:{x:{type:"time",time:{unit:"day"},grid:{display:!1}},y:{position:"right",grid:{color:"#E5E7EB"}}}},plugins:[w]}),i&&o&&r.some(b=>b.v)){const b=o.getContext("2d");if(!b)return;u=new sn(b,{type:"bar",data:{datasets:[{label:"Volume",data:r.map(E=>({x:E.x,y:E.v||0})),backgroundColor:r.map(E=>E.c>=E.o?"rgba(16, 185, 129, 0.5)":"rgba(239, 68, 68, 0.5)"),borderWidth:0,barPercentage:.8,categoryPercentage:1}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{type:"time",time:{unit:"day"},display:!1},y:{position:"right",grid:{display:!1},ticks:{callback(E){return(E/1e6).toFixed(0)+"M"}}}}}})}}function d(){if(!c){f();return}c.data.datasets[0].data=r.map(m=>({x:m.x,y:m.c})),c.update("none"),u&&(u.data.datasets[0].data=r.map(m=>({x:m.x,y:m.v||0})),u.data.datasets[0].backgroundColor=r.map(m=>m.c>=m.o?"rgba(16, 185, 129, 0.5)":"rgba(239, 68, 68, 0.5)"),u.update("none"))}cn(()=>{f()}),un(()=>{c&&c.destroy(),u&&u.destroy()});function p(m){yn[m?"unshift":"push"](()=>{l=m,t(2,l)})}function g(m){yn[m?"unshift":"push"](()=>{o=m,t(3,o)})}return n.$$set=m=>{"data"in m&&t(4,r=m.data),"title"in m&&t(5,s=m.title),"showVolume"in m&&t(0,i=m.showVolume),"height"in m&&t(1,a=m.height)},n.$$.update=()=>{n.$$.dirty&16&&r&&d()},[i,a,l,o,r,s,p,g]}class Ya extends Dt{constructor(e){super(),Tt(this,e,Za,ja,xt,{data:4,title:5,showVolume:0,height:1})}}function Xa(n){let e,t,r,s,i="Current Drawdown",a,l,o=n[3].toFixed(2)+"",c,u,f,d,p,g="Max Drawdown",m,w,b=n[2].toFixed(2)+"",E,x,D,A,S,P="Recovery Required",L,B,F=Math.abs(n[3]/(1+n[3]/100)*100).toFixed(1)+"",ae,Y,$,I,j,C,H,Z="Drawdown measures the peak-to-trough decline in account value";return{c(){e=y("div"),t=y("div"),r=y("div"),s=y("span"),s.textContent=i,a=M(),l=y("span"),c=ne(o),u=ne("%"),f=M(),d=y("div"),p=y("span"),p.textContent=g,m=M(),w=y("span"),E=ne(b),x=ne("%"),D=M(),A=y("div"),S=y("span"),S.textContent=P,L=M(),B=y("span"),ae=ne(F),Y=ne("%"),$=M(),I=y("div"),j=y("canvas"),C=M(),H=y("div"),H.textContent=Z,this.h()},l(X){e=k(X,"DIV",{class:!0,style:!0});var G=T(e);t=k(G,"DIV",{class:!0});var Q=T(t);r=k(Q,"DIV",{class:!0});var W=T(r);s=k(W,"SPAN",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-1gfx3eh"&&(s.textContent=i),a=R(W),l=k(W,"SPAN",{class:!0,style:!0});var K=T(l);c=te(K,o),u=te(K,"%"),K.forEach(_),W.forEach(_),f=R(Q),d=k(Q,"DIV",{class:!0});var O=T(d);p=k(O,"SPAN",{class:!0,"data-svelte-h":!0}),ge(p)!=="svelte-1hu1fk6"&&(p.textContent=g),m=R(O),w=k(O,"SPAN",{class:!0,style:!0});var N=T(w);E=te(N,b),x=te(N,"%"),N.forEach(_),O.forEach(_),D=R(Q),A=k(Q,"DIV",{class:!0});var re=T(A);S=k(re,"SPAN",{class:!0,"data-svelte-h":!0}),ge(S)!=="svelte-1p1qara"&&(S.textContent=P),L=R(re),B=k(re,"SPAN",{class:!0});var se=T(B);ae=te(se,F),Y=te(se,"%"),se.forEach(_),re.forEach(_),Q.forEach(_),$=R(G),I=k(G,"DIV",{class:!0});var J=T(I);j=k(J,"CANVAS",{class:!0}),T(j).forEach(_),J.forEach(_),C=R(G),H=k(G,"DIV",{class:!0,"data-svelte-h":!0}),ge(H)!=="svelte-lc11d9"&&(H.textContent=Z),G.forEach(_),this.h()},h(){v(s,"class","stat-label svelte-14e0md5"),v(l,"class","stat-value svelte-14e0md5"),ue(l,"color",n[3]<-5?"#EF4444":"#6B7280"),v(r,"class","stat svelte-14e0md5"),v(p,"class","stat-label svelte-14e0md5"),v(w,"class","stat-value svelte-14e0md5"),ue(w,"color","#DC2626"),v(d,"class","stat svelte-14e0md5"),v(S,"class","stat-label svelte-14e0md5"),v(B,"class","stat-value svelte-14e0md5"),v(A,"class","stat svelte-14e0md5"),v(t,"class","stats-row svelte-14e0md5"),v(j,"class","svelte-14e0md5"),v(I,"class","chart-container svelte-14e0md5"),v(H,"class","info-text svelte-14e0md5"),v(e,"class","drawdown-widget svelte-14e0md5"),ue(e,"height",n[0])},m(X,G){U(X,e,G),h(e,t),h(t,r),h(r,s),h(r,a),h(r,l),h(l,c),h(l,u),h(t,f),h(t,d),h(d,p),h(d,m),h(d,w),h(w,E),h(w,x),h(t,D),h(t,A),h(A,S),h(A,L),h(A,B),h(B,ae),h(B,Y),h(e,$),h(e,I),h(I,j),n[8](j),h(e,C),h(e,H)},p(X,[G]){G&8&&o!==(o=X[3].toFixed(2)+"")&&de(c,o),G&8&&ue(l,"color",X[3]<-5?"#EF4444":"#6B7280"),G&4&&b!==(b=X[2].toFixed(2)+"")&&de(E,b),G&8&&F!==(F=Math.abs(X[3]/(1+X[3]/100)*100).toFixed(1)+"")&&de(ae,F),G&1&&ue(e,"height",X[0])},i:he,o:he,d(X){X&&_(e),n[8](null)}}}function $a(n,e,t){let r,s,{data:i=[]}=e,{title:a="Drawdown Analysis"}=e,{showMaxDrawdown:l=!0}=e,{height:o="100%"}=e,c,u=null;function f(){if(!c||!i.length)return;const g=c.getContext("2d");g&&t(7,u=new sn(g,{type:"line",data:{labels:i.map(m=>m.date),datasets:[{label:"Drawdown %",data:i.map(m=>m.drawdown),borderColor:"#EF4444",backgroundColor:m=>{const b=m.chart.ctx.createLinearGradient(0,0,0,m.chart.height);return b.addColorStop(0,"rgba(239, 68, 68, 0.1)"),b.addColorStop(1,"rgba(239, 68, 68, 0.3)"),b},fill:!0,tension:.1,pointRadius:0,pointHoverRadius:4,pointBackgroundColor:"#EF4444",pointBorderColor:"#fff",pointBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},tooltip:{callbacks:{title:m=>new Date(m[0].parsed.x).toLocaleDateString(),label:m=>{var x;const w=m.parsed.y,b=m.dataIndex,E=((x=i[b])==null?void 0:x.equity)||0;return[`Drawdown: ${w.toFixed(2)}%`,`Equity: $${E.toLocaleString()}`]}}},annotation:l?{annotations:{maxLine:{type:"line",yMin:r,yMax:r,borderColor:"#DC2626",borderWidth:2,borderDash:[5,5],label:{content:`Max: ${r.toFixed(2)}%`,enabled:!0,position:"end",backgroundColor:"#DC2626",color:"white",padding:4,font:{size:11}}}}}:{}},scales:{x:{type:"time",time:{unit:"day"},grid:{display:!1}},y:{position:"right",grid:{color:"#E5E7EB"},ticks:{callback(m){return m+"%"}},max:0,suggestedMin:r*1.1}}}}))}function d(){var g,m,w,b;if(!u){f();return}t(7,u.data.labels=i.map(E=>E.date),u),t(7,u.data.datasets[0].data=i.map(E=>E.drawdown),u),(w=(m=(g=u.options.plugins)==null?void 0:g.annotation)==null?void 0:m.annotations)!=null&&w.maxLine&&(t(7,u.options.plugins.annotation.annotations.maxLine.yMin=r,u),t(7,u.options.plugins.annotation.annotations.maxLine.yMax=r,u),t(7,u.options.plugins.annotation.annotations.maxLine.label.content=`Max: ${r.toFixed(2)}%`,u)),(b=u.options.scales)!=null&&b.y&&t(7,u.options.scales.y.suggestedMin=r*1.1,u),u.update()}cn(()=>{f()}),un(()=>{u&&u.destroy()});function p(g){yn[g?"unshift":"push"](()=>{c=g,t(1,c)})}return n.$$set=g=>{"data"in g&&t(4,i=g.data),"title"in g&&t(5,a=g.title),"showMaxDrawdown"in g&&t(6,l=g.showMaxDrawdown),"height"in g&&t(0,o=g.height)},n.$$.update=()=>{n.$$.dirty&16&&t(2,r=i.length>0?Math.min(...i.map(g=>g.drawdown)):0),n.$$.dirty&16&&t(3,s=i.length>0?i[i.length-1].drawdown:0),n.$$.dirty&144&&u&&i&&d()},[o,c,r,s,i,a,l,u,p]}class Qa extends Dt{constructor(e){super(),Tt(this,e,$a,Xa,xt,{data:4,title:5,showMaxDrawdown:6,height:0})}}function rs(n,e,t){const r=n.slice();return r[11]=e[t],r}function Ka(n){let e,t,r,s,i=new Date().toLocaleTimeString()+"",a,l,o=be(n[1]),c=[];for(let f=0;f<o.length;f+=1)c[f]=ss(rs(n,o,f));const u=f=>ie(c[f],1,1,()=>{c[f]=null});return{c(){e=y("div");for(let f=0;f<c.length;f+=1)c[f].c();t=M(),r=y("div"),s=ne("Last updated: "),a=ne(i),this.h()},l(f){e=k(f,"DIV",{class:!0});var d=T(e);for(let g=0;g<c.length;g+=1)c[g].l(d);d.forEach(_),t=R(f),r=k(f,"DIV",{class:!0});var p=T(r);s=te(p,"Last updated: "),a=te(p,i),p.forEach(_),this.h()},h(){v(e,"class","market-grid svelte-co5cbq"),v(r,"class","update-time svelte-co5cbq")},m(f,d){U(f,e,d);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);U(f,t,d),U(f,r,d),h(r,s),h(r,a),l=!0},p(f,d){if(d&18){o=be(f[1]);let p;for(p=0;p<o.length;p+=1){const g=rs(f,o,p);c[p]?(c[p].p(g,d),ee(c[p],1)):(c[p]=ss(g),c[p].c(),ee(c[p],1),c[p].m(e,null))}for(Ne(),p=o.length;p<c.length;p+=1)u(p);Fe()}},i(f){if(!l){for(let d=0;d<o.length;d+=1)ee(c[d]);l=!0}},o(f){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)ie(c[d]);l=!1},d(f){f&&(_(e),_(t),_(r)),$e(c,f)}}}function Ja(n){let e,t;return{c(){e=y("div"),t=ne(n[3]),this.h()},l(r){e=k(r,"DIV",{class:!0});var s=T(e);t=te(s,n[3]),s.forEach(_),this.h()},h(){v(e,"class","error svelte-co5cbq")},m(r,s){U(r,e,s),h(e,t)},p(r,s){s&8&&de(t,r[3])},i:he,o:he,d(r){r&&_(e)}}}function eo(n){let e,t="Loading market data...";return{c(){e=y("div"),e.textContent=t,this.h()},l(r){e=k(r,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1r5ajnj"&&(e.textContent=t),this.h()},h(){v(e,"class","loading svelte-co5cbq")},m(r,s){U(r,e,s)},p:he,i:he,o:he,d(r){r&&_(e)}}}function ss(n){let e,t,r,s=n[11].symbol+"",i,a,l,o,c,u,f,d=n[11].price.toFixed(2)+"",p,g,m,w,b=n[11].change>=0?"+":"",E,x=n[11].change.toFixed(2)+"",D,A,S,P,L=n[11].changePercent>=0?"+":"",B,F=n[11].changePercent.toFixed(2)+"",ae,Y,$,I,j,C,H="Vol",Z,X,G=is(n[11].volume)+"",Q,W,K,O,N="High",re,se,J,oe=n[11].high.toFixed(2)+"",q,z,le,Ie,We="Low",st,Ae,Je,qe=n[11].low.toFixed(2)+"",Ze,et,ye;var _t=n[4](n[11].change);function pn(_e,we){return{props:{size:16,color:Wt(_e[11].change)}}}return _t&&(l=mt(_t,pn(n))),{c(){e=y("div"),t=y("div"),r=y("span"),i=ne(s),a=M(),l&&xe(l.$$.fragment),o=M(),c=y("div"),u=y("span"),f=ne("$"),p=ne(d),g=M(),m=y("div"),w=y("span"),E=ne(b),D=ne(x),A=M(),S=y("span"),P=ne("("),B=ne(L),ae=ne(F),Y=ne("%)"),$=M(),I=y("div"),j=y("div"),C=y("span"),C.textContent=H,Z=M(),X=y("span"),Q=ne(G),W=M(),K=y("div"),O=y("span"),O.textContent=N,re=M(),se=y("span"),J=ne("$"),q=ne(oe),z=M(),le=y("div"),Ie=y("span"),Ie.textContent=We,st=M(),Ae=y("span"),Je=ne("$"),Ze=ne(qe),et=M(),this.h()},l(_e){e=k(_e,"DIV",{class:!0});var we=T(e);t=k(we,"DIV",{class:!0});var it=T(t);r=k(it,"SPAN",{class:!0});var V=T(r);i=te(V,s),V.forEach(_),a=R(it),l&&Re(l.$$.fragment,it),it.forEach(_),o=R(we),c=k(we,"DIV",{class:!0});var ce=T(c);u=k(ce,"SPAN",{class:!0});var fe=T(u);f=te(fe,"$"),p=te(fe,d),fe.forEach(_),ce.forEach(_),g=R(we),m=k(we,"DIV",{class:!0});var Ee=T(m);w=k(Ee,"SPAN",{class:!0,style:!0});var tt=T(w);E=te(tt,b),D=te(tt,x),tt.forEach(_),A=R(Ee),S=k(Ee,"SPAN",{class:!0,style:!0});var Me=T(S);P=te(Me,"("),B=te(Me,L),ae=te(Me,F),Y=te(Me,"%)"),Me.forEach(_),Ee.forEach(_),$=R(we),I=k(we,"DIV",{class:!0});var bt=T(I);j=k(bt,"DIV",{class:!0});var ct=T(j);C=k(ct,"SPAN",{class:!0,"data-svelte-h":!0}),ge(C)!=="svelte-hqu26z"&&(C.textContent=H),Z=R(ct),X=k(ct,"SPAN",{class:!0});var Pe=T(X);Q=te(Pe,G),Pe.forEach(_),ct.forEach(_),W=R(bt),K=k(bt,"DIV",{class:!0});var ut=T(K);O=k(ut,"SPAN",{class:!0,"data-svelte-h":!0}),ge(O)!=="svelte-nhlr22"&&(O.textContent=N),re=R(ut),se=k(ut,"SPAN",{class:!0});var dt=T(se);J=te(dt,"$"),q=te(dt,oe),dt.forEach(_),ut.forEach(_),z=R(bt),le=k(bt,"DIV",{class:!0});var Pt=T(le);Ie=k(Pt,"SPAN",{class:!0,"data-svelte-h":!0}),ge(Ie)!=="svelte-vynjs4"&&(Ie.textContent=We),st=R(Pt),Ae=k(Pt,"SPAN",{class:!0});var It=T(Ae);Je=te(It,"$"),Ze=te(It,qe),It.forEach(_),Pt.forEach(_),bt.forEach(_),et=R(we),we.forEach(_),this.h()},h(){v(r,"class","symbol svelte-co5cbq"),v(t,"class","symbol-row svelte-co5cbq"),v(u,"class","price svelte-co5cbq"),v(c,"class","price-row svelte-co5cbq"),v(w,"class","change"),ue(w,"color",Wt(n[11].change)),v(S,"class","change-percent"),ue(S,"color",Wt(n[11].change)),v(m,"class","change-row svelte-co5cbq"),v(C,"class","stat-label svelte-co5cbq"),v(X,"class","stat-value svelte-co5cbq"),v(j,"class","stat svelte-co5cbq"),v(O,"class","stat-label svelte-co5cbq"),v(se,"class","stat-value svelte-co5cbq"),v(K,"class","stat svelte-co5cbq"),v(Ie,"class","stat-label svelte-co5cbq"),v(Ae,"class","stat-value svelte-co5cbq"),v(le,"class","stat svelte-co5cbq"),v(I,"class","stats-row svelte-co5cbq"),v(e,"class","market-card svelte-co5cbq")},m(_e,we){U(_e,e,we),h(e,t),h(t,r),h(r,i),h(t,a),l&&Se(l,t,null),h(e,o),h(e,c),h(c,u),h(u,f),h(u,p),h(e,g),h(e,m),h(m,w),h(w,E),h(w,D),h(m,A),h(m,S),h(S,P),h(S,B),h(S,ae),h(S,Y),h(e,$),h(e,I),h(I,j),h(j,C),h(j,Z),h(j,X),h(X,Q),h(I,W),h(I,K),h(K,O),h(K,re),h(K,se),h(se,J),h(se,q),h(I,z),h(I,le),h(le,Ie),h(le,st),h(le,Ae),h(Ae,Je),h(Ae,Ze),h(e,et),ye=!0},p(_e,we){if((!ye||we&2)&&s!==(s=_e[11].symbol+"")&&de(i,s),we&2&&_t!==(_t=_e[4](_e[11].change))){if(l){Ne();const it=l;ie(it.$$.fragment,1,0,()=>{Te(it,1)}),Fe()}_t?(l=mt(_t,pn(_e)),xe(l.$$.fragment),ee(l.$$.fragment,1),Se(l,t,null)):l=null}else if(_t){const it={};we&2&&(it.color=Wt(_e[11].change)),l.$set(it)}(!ye||we&2)&&d!==(d=_e[11].price.toFixed(2)+"")&&de(p,d),(!ye||we&2)&&b!==(b=_e[11].change>=0?"+":"")&&de(E,b),(!ye||we&2)&&x!==(x=_e[11].change.toFixed(2)+"")&&de(D,x),(!ye||we&2)&&ue(w,"color",Wt(_e[11].change)),(!ye||we&2)&&L!==(L=_e[11].changePercent>=0?"+":"")&&de(B,L),(!ye||we&2)&&F!==(F=_e[11].changePercent.toFixed(2)+"")&&de(ae,F),(!ye||we&2)&&ue(S,"color",Wt(_e[11].change)),(!ye||we&2)&&G!==(G=is(_e[11].volume)+"")&&de(Q,G),(!ye||we&2)&&oe!==(oe=_e[11].high.toFixed(2)+"")&&de(q,oe),(!ye||we&2)&&qe!==(qe=_e[11].low.toFixed(2)+"")&&de(Ze,qe)},i(_e){ye||(l&&ee(l.$$.fragment,_e),ye=!0)},o(_e){l&&ie(l.$$.fragment,_e),ye=!1},d(_e){_e&&_(e),l&&Te(l)}}}function to(n){let e,t,r,s;const i=[eo,Ja,Ka],a=[];function l(o,c){return o[2]?0:o[3]?1:2}return t=l(n),r=a[t]=i[t](n),{c(){e=y("div"),r.c(),this.h()},l(o){e=k(o,"DIV",{class:!0,style:!0});var c=T(e);r.l(c),c.forEach(_),this.h()},h(){v(e,"class","live-market-widget svelte-co5cbq"),ue(e,"height",n[0])},m(o,c){U(o,e,c),a[t].m(e,null),s=!0},p(o,[c]){let u=t;t=l(o),t===u?a[t].p(o,c):(Ne(),ie(a[u],1,1,()=>{a[u]=null}),Fe(),r=a[t],r?r.p(o,c):(r=a[t]=i[t](o),r.c()),ee(r,1),r.m(e,null)),(!s||c&1)&&ue(e,"height",o[0])},i(o){s||(ee(r),s=!0)},o(o){ie(r),s=!1},d(o){o&&_(e),a[t].d()}}}function Wt(n){return n>0?"#10B981":n<0?"#EF4444":"#6B7280"}function is(n){return n>=1e9?(n/1e9).toFixed(1)+"B":n>=1e6?(n/1e6).toFixed(1)+"M":n>=1e3?(n/1e3).toFixed(1)+"K":n.toString()}function no(n,e,t){let{symbols:r=["SPY","QQQ","IWM","DIA"]}=e,{title:s="Market Overview"}=e,{refreshInterval:i=5e3}=e,{height:a="100%"}=e,l=[],o=!0,c="",u;function f(){return r.map(g=>{const m={SPY:450,QQQ:380,IWM:220,DIA:380,AAPL:185,TSLA:250,MSFT:380,GOOGL:140}[g]||100,w=(Math.random()-.5)*5,b=m+w;return{symbol:g,price:b,change:w,changePercent:w/m*100,volume:Math.floor(Math.random()*1e8),high:b+Math.random()*2,low:b-Math.random()*2,open:m,previousClose:m,lastUpdate:new Date}})}async function d(){try{t(1,l=f()),t(2,o=!1)}catch{t(3,c="Failed to fetch market data"),t(2,o=!1)}}function p(g){return g>0?Qn:g<0?Xi:$i}return cn(()=>{d(),i>0&&(u=setInterval(d,i))}),un(()=>{u&&clearInterval(u)}),n.$$set=g=>{"symbols"in g&&t(5,r=g.symbols),"title"in g&&t(6,s=g.title),"refreshInterval"in g&&t(7,i=g.refreshInterval),"height"in g&&t(0,a=g.height)},[a,l,o,c,p,r,s,i]}class ro extends Dt{constructor(e){super(),Tt(this,e,no,to,xt,{symbols:5,title:6,refreshInterval:7,height:0})}}function ls(n,e,t){const r=n.slice();r[14]=e[t];const s=r[5](r[14]);r[15]=s;const i=_l(r[14],r[3]);r[16]=i;const a=bl(r[14]);return r[17]=a,r}function as(n,e,t){const r=n.slice();return r[14]=e[t],r}function os(n){let e,t=n[14]+"",r;return{c(){e=y("div"),r=ne(t),this.h()},l(s){e=k(s,"DIV",{class:!0});var i=T(e);r=te(i,t),i.forEach(_),this.h()},h(){v(e,"class","weekday svelte-1yyise5")},m(s,i){U(s,e,i),h(e,r)},p:he,d(s){s&&_(e)}}}function cs(n){let e,t=hs(n[15].value)+"",r,s,i,a=n[15].trades&&us(n);return{c(){e=y("span"),r=ne(t),s=M(),a&&a.c(),i=Ke(),this.h()},l(l){e=k(l,"SPAN",{class:!0});var o=T(e);r=te(o,t),o.forEach(_),s=R(l),a&&a.l(l),i=Ke(),this.h()},h(){v(e,"class","day-value svelte-1yyise5")},m(l,o){U(l,e,o),h(e,r),U(l,s,o),a&&a.m(l,o),U(l,i,o)},p(l,o){o&16&&t!==(t=hs(l[15].value)+"")&&de(r,t),l[15].trades?a?a.p(l,o):(a=us(l),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},d(l){l&&(_(e),_(s),_(i)),a&&a.d(l)}}}function us(n){let e,t=n[15].trades+"",r;return{c(){e=y("span"),r=ne(t),this.h()},l(s){e=k(s,"SPAN",{class:!0});var i=T(e);r=te(i,t),i.forEach(_),this.h()},h(){v(e,"class","trade-count svelte-1yyise5")},m(s,i){U(s,e,i),h(e,r)},p(s,i){i&16&&t!==(t=s[15].trades+"")&&de(r,t)},d(s){s&&_(e)}}}function ds(n){let e,t,r=Ft(n[14],"d")+"",s,i,a,l,o=n[15]&&cs(n);return{c(){e=y("div"),t=y("span"),s=ne(r),i=M(),o&&o.c(),a=M(),this.h()},l(c){e=k(c,"DIV",{class:!0,style:!0,title:!0});var u=T(e);t=k(u,"SPAN",{class:!0});var f=T(t);s=te(f,r),f.forEach(_),i=R(u),o&&o.l(u),a=R(u),u.forEach(_),this.h()},h(){var c;v(t,"class","day-number svelte-1yyise5"),v(e,"class","day svelte-1yyise5"),ue(e,"background-color",n[6]((c=n[15])==null?void 0:c.value)),v(e,"title",l=Ft(n[14],"MMM d, yyyy")+": "+(n[15]?`$${n[15].value.toFixed(2)}`:"No trades")),vt(e,"other-month",!n[16]),vt(e,"today",n[17])},m(c,u){U(c,e,u),h(e,t),h(t,s),h(e,i),o&&o.m(e,null),h(e,a)},p(c,u){var f;u&16&&r!==(r=Ft(c[14],"d")+"")&&de(s,r),c[15]?o?o.p(c,u):(o=cs(c),o.c(),o.m(e,a)):o&&(o.d(1),o=null),u&16&&ue(e,"background-color",c[6]((f=c[15])==null?void 0:f.value)),u&16&&l!==(l=Ft(c[14],"MMM d, yyyy")+": "+(c[15]?`$${c[15].value.toFixed(2)}`:"No trades"))&&v(e,"title",l),u&24&&vt(e,"other-month",!c[16]),u&16&&vt(e,"today",c[17])},d(c){c&&_(e),o&&o.d()}}}function fs(n){let e,t='<div class="legend-item svelte-1yyise5"><div class="legend-color svelte-1yyise5" style="background-color: rgba(239, 68, 68, 0.8)"></div> <span class="svelte-1yyise5">Loss</span></div> <div class="legend-item svelte-1yyise5"><div class="legend-color svelte-1yyise5" style="background-color: #E5E7EB"></div> <span class="svelte-1yyise5">Break Even</span></div> <div class="legend-item svelte-1yyise5"><div class="legend-color svelte-1yyise5" style="background-color: rgba(16, 185, 129, 0.8)"></div> <span class="svelte-1yyise5">Profit</span></div>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(r){e=k(r,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1hpuhxa"&&(e.innerHTML=t),this.h()},h(){v(e,"class","legend svelte-1yyise5")},m(r,s){U(r,e,s)},d(r){r&&_(e)}}}function so(n){let e,t,r,s,i='<svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',a,l,o=Ft(n[3],"MMMM yyyy")+"",c,u,f,d='<svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',p,g,m,w,b,E,x,D,A,S,P="Month Total:",L,B,F,ae=n[0].reduce(gs,0).toFixed(2)+"",Y,$,I,j,C="Trading Days:",H,Z,X=n[0].length+"",G,Q,W,K=be(n[8]),O=[];for(let J=0;J<K.length;J+=1)O[J]=os(as(n,K,J));let N=be(n[4]),re=[];for(let J=0;J<N.length;J+=1)re[J]=ds(ls(n,N,J));let se=n[2]&&fs();return{c(){e=y("div"),t=y("div"),r=y("div"),s=y("button"),s.innerHTML=i,a=M(),l=y("h3"),c=ne(o),u=M(),f=y("button"),f.innerHTML=d,p=M(),g=y("div"),m=y("div");for(let J=0;J<O.length;J+=1)O[J].c();w=M(),b=y("div");for(let J=0;J<re.length;J+=1)re[J].c();E=M(),se&&se.c(),x=M(),D=y("div"),A=y("div"),S=y("span"),S.textContent=P,L=M(),B=y("span"),F=ne("$"),Y=ne(ae),$=M(),I=y("div"),j=y("span"),j.textContent=C,H=M(),Z=y("span"),G=ne(X),this.h()},l(J){e=k(J,"DIV",{class:!0,style:!0});var oe=T(e);t=k(oe,"DIV",{class:!0});var q=T(t);r=k(q,"DIV",{class:!0});var z=T(r);s=k(z,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-orgp0f"&&(s.innerHTML=i),a=R(z),l=k(z,"H3",{class:!0});var le=T(l);c=te(le,o),le.forEach(_),u=R(z),f=k(z,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(f)!=="svelte-1tgss9j"&&(f.innerHTML=d),z.forEach(_),p=R(q),g=k(q,"DIV",{class:!0});var Ie=T(g);m=k(Ie,"DIV",{class:!0});var We=T(m);for(let ye=0;ye<O.length;ye+=1)O[ye].l(We);We.forEach(_),w=R(Ie),b=k(Ie,"DIV",{class:!0});var st=T(b);for(let ye=0;ye<re.length;ye+=1)re[ye].l(st);st.forEach(_),Ie.forEach(_),E=R(q),se&&se.l(q),x=R(q),D=k(q,"DIV",{class:!0});var Ae=T(D);A=k(Ae,"DIV",{class:!0});var Je=T(A);S=k(Je,"SPAN",{class:!0,"data-svelte-h":!0}),ge(S)!=="svelte-bbp2m8"&&(S.textContent=P),L=R(Je),B=k(Je,"SPAN",{class:!0,style:!0});var qe=T(B);F=te(qe,"$"),Y=te(qe,ae),qe.forEach(_),Je.forEach(_),$=R(Ae),I=k(Ae,"DIV",{class:!0});var Ze=T(I);j=k(Ze,"SPAN",{class:!0,"data-svelte-h":!0}),ge(j)!=="svelte-1xs9ztw"&&(j.textContent=C),H=R(Ze),Z=k(Ze,"SPAN",{class:!0});var et=T(Z);G=te(et,X),et.forEach(_),Ze.forEach(_),Ae.forEach(_),q.forEach(_),oe.forEach(_),this.h()},h(){v(s,"class","nav-button svelte-1yyise5"),v(l,"class","svelte-1yyise5"),v(f,"class","nav-button svelte-1yyise5"),v(r,"class","calendar-header svelte-1yyise5"),v(m,"class","weekdays svelte-1yyise5"),v(b,"class","days svelte-1yyise5"),v(g,"class","calendar-grid svelte-1yyise5"),v(S,"class","summary-label svelte-1yyise5"),v(B,"class","summary-value svelte-1yyise5"),ue(B,"color",n[0].reduce(ps,0)>=0?"#10B981":"#EF4444"),v(A,"class","summary-item svelte-1yyise5"),v(j,"class","summary-label svelte-1yyise5"),v(Z,"class","summary-value svelte-1yyise5"),v(I,"class","summary-item svelte-1yyise5"),v(D,"class","summary svelte-1yyise5"),v(t,"class","calendar-container svelte-1yyise5"),v(e,"class","pnl-calendar-widget svelte-1yyise5"),ue(e,"height",n[1])},m(J,oe){U(J,e,oe),h(e,t),h(t,r),h(r,s),h(r,a),h(r,l),h(l,c),h(r,u),h(r,f),h(t,p),h(t,g),h(g,m);for(let q=0;q<O.length;q+=1)O[q]&&O[q].m(m,null);h(g,w),h(g,b);for(let q=0;q<re.length;q+=1)re[q]&&re[q].m(b,null);h(t,E),se&&se.m(t,null),h(t,x),h(t,D),h(D,A),h(A,S),h(A,L),h(A,B),h(B,F),h(B,Y),h(D,$),h(D,I),h(I,j),h(I,H),h(I,Z),h(Z,G),Q||(W=[ve(s,"click",n[10]),ve(f,"click",n[11])],Q=!0)},p(J,[oe]){if(oe&8&&o!==(o=Ft(J[3],"MMMM yyyy")+"")&&de(c,o),oe&256){K=be(J[8]);let q;for(q=0;q<K.length;q+=1){const z=as(J,K,q);O[q]?O[q].p(z,oe):(O[q]=os(z),O[q].c(),O[q].m(m,null))}for(;q<O.length;q+=1)O[q].d(1);O.length=K.length}if(oe&120){N=be(J[4]);let q;for(q=0;q<N.length;q+=1){const z=ls(J,N,q);re[q]?re[q].p(z,oe):(re[q]=ds(z),re[q].c(),re[q].m(b,null))}for(;q<re.length;q+=1)re[q].d(1);re.length=N.length}J[2]?se||(se=fs(),se.c(),se.m(t,x)):se&&(se.d(1),se=null),oe&1&&ae!==(ae=J[0].reduce(gs,0).toFixed(2)+"")&&de(Y,ae),oe&1&&ue(B,"color",J[0].reduce(ps,0)>=0?"#10B981":"#EF4444"),oe&1&&X!==(X=J[0].length+"")&&de(G,X),oe&2&&ue(e,"height",J[1])},i:he,o:he,d(J){J&&_(e),$e(O,J),$e(re,J),se&&se.d(),Q=!1,St(W)}}}function hs(n){return Math.abs(n)>=1e3?(n/1e3).toFixed(1)+"k":n.toFixed(0)}const gs=(n,e)=>n+e.value,ps=(n,e)=>n+e.value;function io(n,e,t){let{data:r=[]}=e,{title:s="P&L Calendar"}=e,{height:i="100%"}=e,{showLegend:a=!0}=e,l=new Date,o=[],c=0,u=0;function f(b){const E=Ft(b,"yyyy-MM-dd");return r.find(x=>x.date===E)}function d(b){return b===void 0?"#F3F4F6":b===0?"#E5E7EB":b>0?`rgba(16, 185, 129, ${.2+Math.min(b/u,1)*.8})`:`rgba(239, 68, 68, ${.2+Math.min(Math.abs(b)/Math.abs(c),1)*.8})`}function p(b){t(3,l=new Date(l.getFullYear(),l.getMonth()+b,1))}const g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=()=>p(-1),w=()=>p(1);return n.$$set=b=>{"data"in b&&t(0,r=b.data),"title"in b&&t(9,s=b.title),"height"in b&&t(1,i=b.height),"showLegend"in b&&t(2,a=b.showLegend)},n.$$.update=()=>{if(n.$$.dirty&9){const b=ji(l),E=Qi(l),x=Zi(b),D=Yi(E);t(4,o=ml({start:x,end:D}));const A=r.map(S=>S.value);A.length>0&&(c=Math.min(...A,0),u=Math.max(...A,0))}},[r,i,a,l,o,f,d,p,g,s,m,w]}class lo extends Dt{constructor(e){super(),Tt(this,e,io,so,xt,{data:0,title:9,height:1,showLegend:2})}}function mr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Bt=mr();function ii(n){Bt=n}var nn={exec:()=>null};function pe(n,e=""){let t=typeof n=="string"?n:n.source,r={replace:(s,i)=>{let a=typeof i=="string"?i:i.source;return a=a.replace(Ue.caret,"$1"),t=t.replace(s,a),r},getRegex:()=>new RegExp(t,e)};return r}var Ue={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},ao=/^(?:[ \t]*(?:\n|$))+/,oo=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,co=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,gn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,uo=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,_r=/(?:[*+-]|\d{1,9}[.)])/,li=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ai=pe(li).replace(/bull/g,_r).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),fo=pe(li).replace(/bull/g,_r).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),br=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ho=/^[^\n]+/,wr=/(?!\s*\])(?:\\.|[^\[\]\\])+/,go=pe(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",wr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),po=pe(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,_r).getRegex(),Gn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",kr=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,vo=pe("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",kr).replace("tag",Gn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),oi=pe(br).replace("hr",gn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gn).getRegex(),mo=pe(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",oi).getRegex(),yr={blockquote:mo,code:oo,def:go,fences:co,heading:uo,hr:gn,html:vo,lheading:ai,list:po,newline:ao,paragraph:oi,table:nn,text:ho},vs=pe("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",gn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gn).getRegex(),_o={...yr,lheading:fo,table:vs,paragraph:pe(br).replace("hr",gn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",vs).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gn).getRegex()},bo={...yr,html:pe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",kr).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:nn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:pe(br).replace("hr",gn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ai).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},wo=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ko=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ci=/^( {2,}|\\)\n(?!\s*$)/,yo=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Un=/[\p{P}\p{S}]/u,Er=/[\s\p{P}\p{S}]/u,ui=/[^\s\p{P}\p{S}]/u,Eo=pe(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Er).getRegex(),di=/(?!~)[\p{P}\p{S}]/u,Do=/(?!~)[\s\p{P}\p{S}]/u,To=/(?:[^\s\p{P}\p{S}]|~)/u,xo=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,fi=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,So=pe(fi,"u").replace(/punct/g,Un).getRegex(),Io=pe(fi,"u").replace(/punct/g,di).getRegex(),hi="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Ao=pe(hi,"gu").replace(/notPunctSpace/g,ui).replace(/punctSpace/g,Er).replace(/punct/g,Un).getRegex(),Co=pe(hi,"gu").replace(/notPunctSpace/g,To).replace(/punctSpace/g,Do).replace(/punct/g,di).getRegex(),Oo=pe("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ui).replace(/punctSpace/g,Er).replace(/punct/g,Un).getRegex(),Ro=pe(/\\(punct)/,"gu").replace(/punct/g,Un).getRegex(),Mo=pe(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Po=pe(kr).replace("(?:-->|$)","-->").getRegex(),Lo=pe("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Po).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Mn=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,No=pe(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Mn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),gi=pe(/^!?\[(label)\]\[(ref)\]/).replace("label",Mn).replace("ref",wr).getRegex(),pi=pe(/^!?\[(ref)\](?:\[\])?/).replace("ref",wr).getRegex(),Fo=pe("reflink|nolink(?!\\()","g").replace("reflink",gi).replace("nolink",pi).getRegex(),Dr={_backpedal:nn,anyPunctuation:Ro,autolink:Mo,blockSkip:xo,br:ci,code:ko,del:nn,emStrongLDelim:So,emStrongRDelimAst:Ao,emStrongRDelimUnd:Oo,escape:wo,link:No,nolink:pi,punctuation:Eo,reflink:gi,reflinkSearch:Fo,tag:Lo,text:yo,url:nn},zo={...Dr,link:pe(/^!?\[(label)\]\((.*?)\)/).replace("label",Mn).getRegex(),reflink:pe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Mn).getRegex()},lr={...Dr,emStrongRDelimAst:Co,emStrongLDelim:Io,url:pe(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Vo={...lr,br:pe(ci).replace("{2,}","*").getRegex(),text:pe(lr.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},_n={normal:yr,gfm:_o,pedantic:bo},Kt={normal:Dr,gfm:lr,breaks:Vo,pedantic:zo},Bo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ms=n=>Bo[n];function ft(n,e){if(e){if(Ue.escapeTest.test(n))return n.replace(Ue.escapeReplace,ms)}else if(Ue.escapeTestNoEncode.test(n))return n.replace(Ue.escapeReplaceNoEncode,ms);return n}function _s(n){try{n=encodeURI(n).replace(Ue.percentDecode,"%")}catch{return null}return n}function bs(n,e){var i;let t=n.replace(Ue.findPipe,(a,l,o)=>{let c=!1,u=l;for(;--u>=0&&o[u]==="\\";)c=!c;return c?"|":" |"}),r=t.split(Ue.splitPipe),s=0;if(r[0].trim()||r.shift(),r.length>0&&!((i=r.at(-1))!=null&&i.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(Ue.slashPipe,"|");return r}function Jt(n,e,t){let r=n.length;if(r===0)return"";let s=0;for(;s<r&&n.charAt(r-s-1)===e;)s++;return n.slice(0,r-s)}function Wo(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<n.length;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])t++;else if(n[r]===e[1]&&(t--,t<0))return r;return t>0?-2:-1}function ws(n,e,t,r,s){let i=e.href,a=e.title||null,l=n[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;let o={type:n[0].charAt(0)==="!"?"image":"link",raw:t,href:i,title:a,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,o}function qo(n,e,t){let r=n.match(t.other.indentCodeCompensation);if(r===null)return e;let s=r[1];return e.split(`
`).map(i=>{let a=i.match(t.other.beginningSpace);if(a===null)return i;let[l]=a;return l.length>=s.length?i.slice(s.length):i}).join(`
`)}var Pn=class{constructor(n){ke(this,"options");ke(this,"rules");ke(this,"lexer");this.options=n||Bt}space(n){let e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){let e=this.rules.block.code.exec(n);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Jt(t,`
`)}}}fences(n){let e=this.rules.block.fences.exec(n);if(e){let t=e[0],r=qo(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(n){let e=this.rules.block.heading.exec(n);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let r=Jt(t,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(t=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(n){let e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:Jt(e[0],`
`)}}blockquote(n){let e=this.rules.block.blockquote.exec(n);if(e){let t=Jt(e[0],`
`).split(`
`),r="",s="",i=[];for(;t.length>0;){let a=!1,l=[],o;for(o=0;o<t.length;o++)if(this.rules.other.blockquoteStart.test(t[o]))l.push(t[o]),a=!0;else if(!a)l.push(t[o]);else break;t=t.slice(o);let c=l.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,s=s?`${s}
${u}`:u;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,i,!0),this.lexer.state.top=f,t.length===0)break;let d=i.at(-1);if((d==null?void 0:d.type)==="code")break;if((d==null?void 0:d.type)==="blockquote"){let p=d,g=p.raw+`
`+t.join(`
`),m=this.blockquote(g);i[i.length-1]=m,r=r.substring(0,r.length-p.raw.length)+m.raw,s=s.substring(0,s.length-p.text.length)+m.text;break}else if((d==null?void 0:d.type)==="list"){let p=d,g=p.raw+`
`+t.join(`
`),m=this.list(g);i[i.length-1]=m,r=r.substring(0,r.length-d.raw.length)+m.raw,s=s.substring(0,s.length-p.raw.length)+m.raw,t=g.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(n){let e=this.rules.block.list.exec(n);if(e){let t=e[1].trim(),r=t.length>1,s={type:"list",raw:"",ordered:r,start:r?+t.slice(0,-1):"",loose:!1,items:[]};t=r?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=r?t:"[*+-]");let i=this.rules.other.listItemRegex(t),a=!1;for(;n;){let o=!1,c="",u="";if(!(e=i.exec(n))||this.rules.block.hr.test(n))break;c=e[0],n=n.substring(c.length);let f=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,b=>" ".repeat(3*b.length)),d=n.split(`
`,1)[0],p=!f.trim(),g=0;if(this.options.pedantic?(g=2,u=f.trimStart()):p?g=e[1].length+1:(g=e[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,u=f.slice(g),g+=e[1].length),p&&this.rules.other.blankLine.test(d)&&(c+=d+`
`,n=n.substring(d.length+1),o=!0),!o){let b=this.rules.other.nextBulletRegex(g),E=this.rules.other.hrRegex(g),x=this.rules.other.fencesBeginRegex(g),D=this.rules.other.headingBeginRegex(g),A=this.rules.other.htmlBeginRegex(g);for(;n;){let S=n.split(`
`,1)[0],P;if(d=S,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),P=d):P=d.replace(this.rules.other.tabCharGlobal,"    "),x.test(d)||D.test(d)||A.test(d)||b.test(d)||E.test(d))break;if(P.search(this.rules.other.nonSpaceChar)>=g||!d.trim())u+=`
`+P.slice(g);else{if(p||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||x.test(f)||D.test(f)||E.test(f))break;u+=`
`+d}!p&&!d.trim()&&(p=!0),c+=S+`
`,n=n.substring(S.length+1),f=P.slice(g)}}s.loose||(a?s.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(a=!0));let m=null,w;this.options.gfm&&(m=this.rules.other.listIsTask.exec(u),m&&(w=m[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:c,task:!!m,checked:w,loose:!1,text:u,tokens:[]}),s.raw+=c}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let o=0;o<s.items.length;o++)if(this.lexer.state.top=!1,s.items[o].tokens=this.lexer.blockTokens(s.items[o].text,[]),!s.loose){let c=s.items[o].tokens.filter(f=>f.type==="space"),u=c.length>0&&c.some(f=>this.rules.other.anyLine.test(f.raw));s.loose=u}if(s.loose)for(let o=0;o<s.items.length;o++)s.items[o].loose=!0;return s}}html(n){let e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){let e=this.rules.block.def.exec(n);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:r,title:s}}}table(n){var a;let e=this.rules.block.table.exec(n);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=bs(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(a=e[3])!=null&&a.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===r.length){for(let l of r)this.rules.other.tableAlignRight.test(l)?i.align.push("right"):this.rules.other.tableAlignCenter.test(l)?i.align.push("center"):this.rules.other.tableAlignLeft.test(l)?i.align.push("left"):i.align.push(null);for(let l=0;l<t.length;l++)i.header.push({text:t[l],tokens:this.lexer.inline(t[l]),header:!0,align:i.align[l]});for(let l of s)i.rows.push(bs(l,i.header.length).map((o,c)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:i.align[c]})));return i}}lheading(n){let e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){let e=this.rules.block.paragraph.exec(n);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(n){let e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){let e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(n){let e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){let e=this.rules.inline.link.exec(n);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let i=Jt(t.slice(0,-1),"\\");if((t.length-i.length)%2===0)return}else{let i=Wo(e[2],"()");if(i===-2)return;if(i>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let r=e[2],s="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],s=i[3])}else s=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?r=r.slice(1):r=r.slice(1,-1)),ws(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(n,e){let t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){let r=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[r.toLowerCase()];if(!s){let i=t[0].charAt(0);return{type:"text",raw:i,text:i}}return ws(t,s,t[0],this.lexer,this.rules)}}emStrong(n,e,t=""){let r=this.rules.inline.emStrongLDelim.exec(n);if(!(!r||r[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!t||this.rules.inline.punctuation.exec(t))){let s=[...r[0]].length-1,i,a,l=s,o=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*n.length+s);(r=c.exec(e))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(a=[...i].length,r[3]||r[4]){l+=a;continue}else if((r[5]||r[6])&&s%3&&!((s+a)%3)){o+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+o);let u=[...r[0]][0].length,f=n.slice(0,s+r.index+u+a);if(Math.min(s,a)%2){let p=f.slice(1,-1);return{type:"em",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}let d=f.slice(2,-2);return{type:"strong",raw:f,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(n){let e=this.rules.inline.code.exec(n);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(t),s=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return r&&s&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(n){let e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){let e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){let e=this.rules.inline.autolink.exec(n);if(e){let t,r;return e[2]==="@"?(t=e[1],r="mailto:"+t):(t=e[1],r=t),{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(n){var t;let e;if(e=this.rules.inline.url.exec(n)){let r,s;if(e[2]==="@")r=e[0],s="mailto:"+r;else{let i;do i=e[0],e[0]=((t=this.rules.inline._backpedal.exec(e[0]))==null?void 0:t[0])??"";while(i!==e[0]);r=e[0],e[1]==="www."?s="http://"+e[0]:s=e[0]}return{type:"link",raw:e[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(n){let e=this.rules.inline.text.exec(n);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},yt=class ar{constructor(e){ke(this,"tokens");ke(this,"options");ke(this,"state");ke(this,"tokenizer");ke(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Bt,this.options.tokenizer=this.options.tokenizer||new Pn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:Ue,block:_n.normal,inline:Kt.normal};this.options.pedantic?(t.block=_n.pedantic,t.inline=Kt.pedantic):this.options.gfm&&(t.block=_n.gfm,this.options.breaks?t.inline=Kt.breaks:t.inline=Kt.gfm),this.tokenizer.rules=t}static get rules(){return{block:_n,inline:Kt}}static lex(e,t){return new ar(t).lex(e)}static lexInline(e,t){return new ar(t).inlineTokens(e)}lex(e){e=e.replace(Ue.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){var s,i,a;for(this.options.pedantic&&(e=e.replace(Ue.tabCharGlobal,"    ").replace(Ue.spaceLine,""));e;){let l;if((i=(s=this.options.extensions)==null?void 0:s.block)!=null&&i.some(c=>(l=c.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length);let c=t.at(-1);l.raw.length===1&&c!==void 0?c.raw+=`
`:t.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length);let c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+l.raw,c.text+=`
`+l.text,this.inlineQueue.at(-1).src=c.text):t.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length);let c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+l.raw,c.text+=`
`+l.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),t.push(l);continue}let o=e;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0,u=e.slice(1),f;this.options.extensions.startBlock.forEach(d=>{f=d.call({lexer:this},u),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(o=e.substring(0,c+1))}if(this.state.top&&(l=this.tokenizer.paragraph(o))){let c=t.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+l.raw,c.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(l),r=o.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length);let c=t.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+l.raw,c.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(l);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var l,o,c;let r=e,s=null;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,a="";for(;e;){i||(a=""),i=!1;let u;if((o=(l=this.options.extensions)==null?void 0:l.inline)!=null&&o.some(d=>(u=d.call({lexer:this},e,t))?(e=e.substring(u.raw.length),t.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);let d=t.at(-1);u.type==="text"&&(d==null?void 0:d.type)==="text"?(d.raw+=u.raw,d.text+=u.text):t.push(u);continue}if(u=this.tokenizer.emStrong(e,r,a)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),t.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),t.push(u);continue}let f=e;if((c=this.options.extensions)!=null&&c.startInline){let d=1/0,p=e.slice(1),g;this.options.extensions.startInline.forEach(m=>{g=m.call({lexer:this},p),typeof g=="number"&&g>=0&&(d=Math.min(d,g))}),d<1/0&&d>=0&&(f=e.substring(0,d+1))}if(u=this.tokenizer.inlineText(f)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(a=u.raw.slice(-1)),i=!0;let d=t.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=u.raw,d.text+=u.text):t.push(u);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}},Ln=class{constructor(n){ke(this,"options");ke(this,"parser");this.options=n||Bt}space(n){return""}code({text:n,lang:e,escaped:t}){var i;let r=(i=(e||"").match(Ue.notSpaceStart))==null?void 0:i[0],s=n.replace(Ue.endingNewline,"")+`
`;return r?'<pre><code class="language-'+ft(r)+'">'+(t?s:ft(s,!0))+`</code></pre>
`:"<pre><code>"+(t?s:ft(s,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}heading({tokens:n,depth:e}){return`<h${e}>${this.parser.parseInline(n)}</h${e}>
`}hr(n){return`<hr>
`}list(n){let e=n.ordered,t=n.start,r="";for(let a=0;a<n.items.length;a++){let l=n.items[a];r+=this.listitem(l)}let s=e?"ol":"ul",i=e&&t!==1?' start="'+t+'"':"";return"<"+s+i+`>
`+r+"</"+s+`>
`}listitem(n){var t;let e="";if(n.task){let r=this.checkbox({checked:!!n.checked});n.loose?((t=n.tokens[0])==null?void 0:t.type)==="paragraph"?(n.tokens[0].text=r+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&n.tokens[0].tokens[0].type==="text"&&(n.tokens[0].tokens[0].text=r+" "+ft(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(n.tokens,!!n.loose),`<li>${e}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let e="",t="";for(let s=0;s<n.header.length;s++)t+=this.tablecell(n.header[s]);e+=this.tablerow({text:t});let r="";for(let s=0;s<n.rows.length;s++){let i=n.rows[s];t="";for(let a=0;a<i.length;a++)t+=this.tablecell(i[a]);r+=this.tablerow({text:t})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){let e=this.parser.parseInline(n.tokens),t=n.header?"th":"td";return(n.align?`<${t} align="${n.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${ft(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:e,tokens:t}){let r=this.parser.parseInline(t),s=_s(n);if(s===null)return r;n=s;let i='<a href="'+n+'"';return e&&(i+=' title="'+ft(e)+'"'),i+=">"+r+"</a>",i}image({href:n,title:e,text:t,tokens:r}){r&&(t=this.parser.parseInline(r,this.parser.textRenderer));let s=_s(n);if(s===null)return ft(t);n=s;let i=`<img src="${n}" alt="${t}"`;return e&&(i+=` title="${ft(e)}"`),i+=">",i}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:ft(n.text)}},Tr=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}},Et=class or{constructor(e){ke(this,"options");ke(this,"renderer");ke(this,"textRenderer");this.options=e||Bt,this.options.renderer=this.options.renderer||new Ln,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Tr}static parse(e,t){return new or(t).parse(e)}static parseInline(e,t){return new or(t).parseInline(e)}parse(e,t=!0){var s,i;let r="";for(let a=0;a<e.length;a++){let l=e[a];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[l.type]){let c=l,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){r+=u||"";continue}}let o=l;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let c=o,u=this.renderer.text(c);for(;a+1<e.length&&e[a+1].type==="text";)c=e[++a],u+=`
`+this.renderer.text(c);t?r+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):r+=u;continue}default:{let c='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,t=this.renderer){var s,i;let r="";for(let a=0;a<e.length;a++){let l=e[a];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[l.type]){let c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){r+=c||"";continue}}let o=l;switch(o.type){case"escape":{r+=t.text(o);break}case"html":{r+=t.html(o);break}case"link":{r+=t.link(o);break}case"image":{r+=t.image(o);break}case"strong":{r+=t.strong(o);break}case"em":{r+=t.em(o);break}case"codespan":{r+=t.codespan(o);break}case"br":{r+=t.br(o);break}case"del":{r+=t.del(o);break}case"text":{r+=t.text(o);break}default:{let c='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},$n,kn=($n=class{constructor(n){ke(this,"options");ke(this,"block");this.options=n||Bt}preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}provideLexer(){return this.block?yt.lex:yt.lexInline}provideParser(){return this.block?Et.parse:Et.parseInline}},ke($n,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),$n),Ho=class{constructor(...n){ke(this,"defaults",mr());ke(this,"options",this.setOptions);ke(this,"parse",this.parseMarkdown(!0));ke(this,"parseInline",this.parseMarkdown(!1));ke(this,"Parser",Et);ke(this,"Renderer",Ln);ke(this,"TextRenderer",Tr);ke(this,"Lexer",yt);ke(this,"Tokenizer",Pn);ke(this,"Hooks",kn);this.use(...n)}walkTokens(n,e){var r,s;let t=[];for(let i of n)switch(t=t.concat(e.call(this,i)),i.type){case"table":{let a=i;for(let l of a.header)t=t.concat(this.walkTokens(l.tokens,e));for(let l of a.rows)for(let o of l)t=t.concat(this.walkTokens(o.tokens,e));break}case"list":{let a=i;t=t.concat(this.walkTokens(a.items,e));break}default:{let a=i;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{let o=a[l].flat(1/0);t=t.concat(this.walkTokens(o,e))}):a.tokens&&(t=t.concat(this.walkTokens(a.tokens,e)))}}return t}use(...n){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{let r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let i=e.renderers[s.name];i?e.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=i.apply(this,a)),l}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[s.level];i?i.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),t.renderer){let s=this.defaults.renderer||new Ln(this.defaults);for(let i in t.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let a=i,l=t.renderer[a],o=s[a];s[a]=(...c)=>{let u=l.apply(s,c);return u===!1&&(u=o.apply(s,c)),u||""}}r.renderer=s}if(t.tokenizer){let s=this.defaults.tokenizer||new Pn(this.defaults);for(let i in t.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let a=i,l=t.tokenizer[a],o=s[a];s[a]=(...c)=>{let u=l.apply(s,c);return u===!1&&(u=o.apply(s,c)),u}}r.tokenizer=s}if(t.hooks){let s=this.defaults.hooks||new kn;for(let i in t.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let a=i,l=t.hooks[a],o=s[a];kn.passThroughHooks.has(i)?s[a]=c=>{if(this.defaults.async)return Promise.resolve(l.call(s,c)).then(f=>o.call(s,f));let u=l.call(s,c);return o.call(s,u)}:s[a]=(...c)=>{let u=l.apply(s,c);return u===!1&&(u=o.apply(s,c)),u}}r.hooks=s}if(t.walkTokens){let s=this.defaults.walkTokens,i=t.walkTokens;r.walkTokens=function(a){let l=[];return l.push(i.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,e){return yt.lex(n,e??this.defaults)}parser(n,e){return Et.parse(n,e??this.defaults)}parseMarkdown(n){return(e,t)=>{let r={...t},s={...this.defaults,...r},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=n);let a=s.hooks?s.hooks.provideLexer():n?yt.lex:yt.lexInline,l=s.hooks?s.hooks.provideParser():n?Et.parse:Et.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(e):e).then(o=>a(o,s)).then(o=>s.hooks?s.hooks.processAllTokens(o):o).then(o=>s.walkTokens?Promise.all(this.walkTokens(o,s.walkTokens)).then(()=>o):o).then(o=>l(o,s)).then(o=>s.hooks?s.hooks.postprocess(o):o).catch(i);try{s.hooks&&(e=s.hooks.preprocess(e));let o=a(e,s);s.hooks&&(o=s.hooks.processAllTokens(o)),s.walkTokens&&this.walkTokens(o,s.walkTokens);let c=l(o,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(o){return i(o)}}}onError(n,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n){let r="<p>An error occurred:</p><pre>"+ft(t.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(t);throw t}}},Vt=new Ho;function me(n,e){return Vt.parse(n,e)}me.options=me.setOptions=function(n){return Vt.setOptions(n),me.defaults=Vt.defaults,ii(me.defaults),me};me.getDefaults=mr;me.defaults=Bt;me.use=function(...n){return Vt.use(...n),me.defaults=Vt.defaults,ii(me.defaults),me};me.walkTokens=function(n,e){return Vt.walkTokens(n,e)};me.parseInline=Vt.parseInline;me.Parser=Et;me.parser=Et.parse;me.Renderer=Ln;me.TextRenderer=Tr;me.Lexer=yt;me.lexer=yt.lex;me.Tokenizer=Pn;me.Hooks=kn;me.parse=me;me.options;me.setOptions;me.use;me.walkTokens;me.parseInline;Et.parse;yt.lex;function Go(n){let e,t,r,s;return{c(){e=y("div"),t=new Ti(!1),this.h()},l(i){e=k(i,"DIV",{class:!0,title:!0});var a=T(e);t=Di(a,!1),a.forEach(_),this.h()},h(){t.a=null,v(e,"class","markdown-content svelte-1d6j46h"),v(e,"title","Double-click to edit")},m(i,a){U(i,e,a),t.m(n[2],e),r||(s=ve(e,"dblclick",n[3]),r=!0)},p(i,a){a&4&&t.p(i[2])},d(i){i&&_(e),r=!1,s()}}}function Uo(n){let e,t,r,s,i,a="Save",l,o,c="Cancel",u,f;return{c(){e=y("div"),t=y("textarea"),r=M(),s=y("div"),i=y("button"),i.textContent=a,l=M(),o=y("button"),o.textContent=c,this.h()},l(d){e=k(d,"DIV",{class:!0});var p=T(e);t=k(p,"TEXTAREA",{placeholder:!0,class:!0}),T(t).forEach(_),r=R(p),s=k(p,"DIV",{class:!0});var g=T(s);i=k(g,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-1bpzfi9"&&(i.textContent=a),l=R(g),o=k(g,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(o)!=="svelte-k6i7nq"&&(o.textContent=c),g.forEach(_),p.forEach(_),this.h()},h(){v(t,"placeholder","Enter markdown text..."),t.autofocus=!0,v(t,"class","svelte-1d6j46h"),v(i,"class","save-button svelte-1d6j46h"),v(o,"class","cancel-button svelte-1d6j46h"),v(s,"class","edit-actions svelte-1d6j46h"),v(e,"class","edit-mode svelte-1d6j46h")},m(d,p){U(d,e,p),h(e,t),Ct(t,n[1]),h(e,r),h(e,s),h(s,i),h(s,l),h(s,o),t.focus(),u||(f=[ve(t,"input",n[9]),ve(t,"keydown",n[6]),ve(i,"click",n[4]),ve(o,"click",n[5])],u=!0)},p(d,p){p&2&&Ct(t,d[1])},d(d){d&&_(e),u=!1,St(f)}}}function jo(n){let e;function t(i,a){return i[0]?Uo:Go}let r=t(n),s=r(n);return{c(){e=y("div"),s.c(),this.h()},l(i){e=k(i,"DIV",{class:!0});var a=T(e);s.l(a),a.forEach(_),this.h()},h(){v(e,"class","text-widget svelte-1d6j46h")},m(i,a){U(i,e,a),s.m(e,null)},p(i,[a]){r===(r=t(i))&&s?s.p(i,a):(s.d(1),s=r(i),s&&(s.c(),s.m(e,null)))},i:he,o:he,d(i){i&&_(e),s.d()}}}function Zo(n,e,t){let{content:r=`# Welcome to TradeSense

Edit this text to add notes, strategies, or insights to your dashboard.`}=e,{isEditing:s=!1}=e,{onSave:i=null}=e,a=r,l="";function o(){t(0,s=!0),t(1,a=r)}function c(){t(7,r=a),t(0,s=!1),i==null||i(r)}function u(){t(1,a=r),t(0,s=!1)}function f(p){p.key==="Escape"?u():p.key==="s"&&(p.metaKey||p.ctrlKey)&&(p.preventDefault(),c())}function d(){a=this.value,t(1,a)}return n.$$set=p=>{"content"in p&&t(7,r=p.content),"isEditing"in p&&t(0,s=p.isEditing),"onSave"in p&&t(8,i=p.onSave)},n.$$.update=()=>{n.$$.dirty&128&&t(2,l=me(r))},[s,a,l,o,c,u,f,r,i,d]}class Yo extends Dt{constructor(e){super(),Tt(this,e,Zo,jo,xt,{content:7,isEditing:0,onSave:8})}}const Xo={metric_card:Wi,gauge:Ba,line_chart:Gi,bar_chart:Hi,pie_chart:Fa,candlestick:Ya,heatmap:Ua,drawdown_chart:Qa,table:qi,live_market:ro,pnl_calendar:lo,text_markdown:Yo},$o={metric_card:{width:3,height:2},gauge:{width:3,height:3},line_chart:{width:6,height:4},bar_chart:{width:6,height:4},pie_chart:{width:4,height:4},candlestick:{width:8,height:5},heatmap:{width:6,height:4},drawdown_chart:{width:6,height:4},table:{width:12,height:6},live_market:{width:8,height:3},pnl_calendar:{width:6,height:5},text_markdown:{width:4,height:3},win_rate_gauge:{width:3,height:3},trade_distribution_map:{width:6,height:4}},Qo={metric_card:()=>({title:"Total P&L",value:15234.56,format:"currency",trend:12.5}),gauge:()=>({value:68.5,min:0,max:100,unit:"%",title:"Win Rate"}),line_chart:()=>({data:Array.from({length:30},(n,e)=>({date:new Date(Date.now()-(29-e)*24*60*60*1e3).toISOString().split("T")[0],value:1e4+Math.random()*5e3+e*100}))}),bar_chart:()=>({data:Array.from({length:14},(n,e)=>({date:new Date(Date.now()-(13-e)*24*60*60*1e3).toISOString().split("T")[0],pnl:(Math.random()-.45)*500}))}),pie_chart:()=>({data:{labels:["AAPL","GOOGL","MSFT","TSLA","AMZN"],datasets:[{data:[25,20,18,15,22],backgroundColor:["#10B981","#3B82F6","#F59E0B","#EF4444","#8B5CF6"]}]}}),candlestick:()=>({data:Array.from({length:20},(n,e)=>{const t=100+Math.random()*50,r=(Math.random()-.5)*5;return{x:new Date(Date.now()-(19-e)*24*60*60*1e3),o:t,h:t+Math.random()*3,l:t-Math.random()*3,c:t+r,v:Math.floor(Math.random()*1e6)}})}),heatmap:()=>({xLabels:["Mon","Tue","Wed","Thu","Fri"],yLabels:["Week 1","Week 2","Week 3","Week 4"],data:Array.from({length:20},(n,e)=>({x:["Mon","Tue","Wed","Thu","Fri"][e%5],y:["Week 1","Week 2","Week 3","Week 4"][Math.floor(e/5)],value:(Math.random()-.5)*1e3})),colorScale:"diverging"}),drawdown_chart:()=>({data:Array.from({length:60},(n,e)=>{const t=-Math.random()*15;return{date:new Date(Date.now()-(59-e)*24*60*60*1e3),drawdown:t,equity:1e5*(1+t/100)}})}),table:()=>({trades:[{id:1,symbol:"AAPL",side:"long",entryPrice:185.5,exitPrice:187.25,quantity:100,pnl:175,entryDate:"2024-01-14 09:30",exitDate:"2024-01-14 14:45"}]}),live_market:()=>({symbols:["SPY","QQQ","IWM","DIA"]}),pnl_calendar:()=>({data:Array.from({length:20},(n,e)=>({date:new Date(Date.now()-Math.floor(Math.random()*30)*24*60*60*1e3).toISOString().split("T")[0],value:(Math.random()-.45)*500,trades:Math.floor(Math.random()*5)+1}))}),text_markdown:()=>({content:`# Trading Notes

## Today's Strategy
- Focus on **momentum plays** in tech sector
- Watch for breakouts above VWAP
- Set stop losses at -2%

## Key Levels
| Symbol | Support | Resistance |
|--------|---------|------------|
| SPY    | 485.50  | 492.00     |
| QQQ    | 420.00  | 428.50     |

> "The trend is your friend until the end." - Trading wisdom

### Remember:
1. Stick to the plan
2. Manage risk first
3. Let winners run`})},{document:Xn}=Pi;function ks(n,e,t){const r=n.slice();return r[63]=e[t],r}function ys(n,e,t){const r=n.slice();return r[60]=e[t],r[67]=t,r}function Ko(n,e,t){const r=n.slice();return r[60]=e[t],r[69]=t,r}function Es(n,e,t){const r=n.slice();r[70]=e[t];const s=r[22](r[70]);r[71]=s;const i=r[23](r[70]);return r[72]=i,r}function Ds(n,e,t){const r=n.slice();r[70]=e[t];const s=r[22](r[70]);r[71]=s;const i=r[23](r[70]);return r[72]=i,r}function Ts(n,e,t){const r=n.slice();return r[77]=e[t],r}function Jo(n,e,t){const r=n.slice();return r[60]=e[t],r}function ec(n){let e,t,r,s,i=n[0].name+"",a,l,o,c,u,f,d,p,g,m,w,b,E,x,D,A,S,P,L,B,F,ae,Y,$,I,j,C,H=n[0].description&&xs(n),Z=n[4]&&Ss(n);const X=[sc,rc],G=[];function Q(z,le){return z[4]?0:1}d=Q(n),p=G[d]=X[d](n),E=new al({props:{size:20}});let W=n[11]&&Is(n),K=n[3]&&As(n),O=n[12]&&Cs(),N=n[5]&&n[4]&&Os(n);const re=[lc,ic],se=[];function J(z,le){return z[4]?0:1}B=J(n),F=se[B]=re[B](n);let oe=n[4]&&Ns(n),q=n[6]&&zs(n);return{c(){e=y("div"),t=y("header"),r=y("div"),s=y("h1"),a=ne(i),l=M(),H&&H.c(),o=M(),c=y("div"),Z&&Z.c(),u=M(),f=y("button"),p.c(),m=M(),w=y("div"),b=y("button"),xe(E.$$.fragment),x=M(),W&&W.c(),D=M(),K&&K.c(),A=M(),O&&O.c(),S=M(),N&&N.c(),P=M(),L=y("div"),F.c(),ae=M(),oe&&oe.c(),Y=M(),q&&q.c(),$=Ke(),this.h()},l(z){e=k(z,"DIV",{class:!0});var le=T(e);t=k(le,"HEADER",{class:!0});var Ie=T(t);r=k(Ie,"DIV",{class:!0});var We=T(r);s=k(We,"H1",{class:!0});var st=T(s);a=te(st,i),st.forEach(_),l=R(We),H&&H.l(We),We.forEach(_),o=R(Ie),c=k(Ie,"DIV",{class:!0});var Ae=T(c);Z&&Z.l(Ae),u=R(Ae),f=k(Ae,"BUTTON",{class:!0,title:!0});var Je=T(f);p.l(Je),Je.forEach(_),m=R(Ae),w=k(Ae,"DIV",{class:!0});var qe=T(w);b=k(qe,"BUTTON",{class:!0,title:!0});var Ze=T(b);Re(E.$$.fragment,Ze),Ze.forEach(_),x=R(qe),W&&W.l(qe),qe.forEach(_),Ae.forEach(_),Ie.forEach(_),D=R(le),K&&K.l(le),A=R(le),O&&O.l(le),S=R(le),N&&N.l(le),P=R(le),L=k(le,"DIV",{class:!0,style:!0});var et=T(L);F.l(et),ae=R(et),oe&&oe.l(et),et.forEach(_),le.forEach(_),Y=R(z),q&&q.l(z),$=Ke(),this.h()},h(){v(s,"class","svelte-9o8nns"),v(r,"class","header-left svelte-9o8nns"),v(f,"class","icon-button svelte-9o8nns"),v(f,"title",g=(n[4]?"Preview":"Edit")+" Mode"),v(b,"class","icon-button svelte-9o8nns"),b.disabled=n[12],v(b,"title","Export Dashboard"),v(w,"class","export-dropdown svelte-9o8nns"),v(c,"class","header-actions svelte-9o8nns"),v(t,"class","builder-header svelte-9o8nns"),v(L,"class","dashboard-grid svelte-9o8nns"),ue(L,"--grid-cols",rn),ue(L,"--row-height",vi+"px"),ue(L,"--margin",gc+"px"),vt(L,"edit-mode",n[4]),vt(L,"resizing",n[10]),v(e,"class","dashboard-builder svelte-9o8nns")},m(z,le){U(z,e,le),h(e,t),h(t,r),h(r,s),h(s,a),h(r,l),H&&H.m(r,null),h(t,o),h(t,c),Z&&Z.m(c,null),h(c,u),h(c,f),G[d].m(f,null),h(c,m),h(c,w),h(w,b),Se(E,b,null),h(w,x),W&&W.m(w,null),h(e,D),K&&K.m(e,null),h(e,A),O&&O.m(e,null),h(e,S),N&&N.m(e,null),h(e,P),h(e,L),se[B].m(L,null),h(L,ae),oe&&oe.m(L,null),U(z,Y,le),q&&q.m(z,le),U(z,$,le),I=!0,j||(C=[ve(f,"click",n[21]),ve(b,"click",n[28])],j=!0)},p(z,le){(!I||le[0]&1)&&i!==(i=z[0].name+"")&&de(a,i),z[0].description?H?H.p(z,le):(H=xs(z),H.c(),H.m(r,null)):H&&(H.d(1),H=null),z[4]?Z?(Z.p(z,le),le[0]&16&&ee(Z,1)):(Z=Ss(z),Z.c(),ee(Z,1),Z.m(c,u)):Z&&(Ne(),ie(Z,1,1,()=>{Z=null}),Fe());let Ie=d;d=Q(z),d!==Ie&&(Ne(),ie(G[Ie],1,1,()=>{G[Ie]=null}),Fe(),p=G[d],p||(p=G[d]=X[d](z),p.c()),ee(p,1),p.m(f,null)),(!I||le[0]&16&&g!==(g=(z[4]?"Preview":"Edit")+" Mode"))&&v(f,"title",g),(!I||le[0]&4096)&&(b.disabled=z[12]),z[11]?W?(W.p(z,le),le[0]&2048&&ee(W,1)):(W=Is(z),W.c(),ee(W,1),W.m(w,null)):W&&(Ne(),ie(W,1,1,()=>{W=null}),Fe()),z[3]?K?K.p(z,le):(K=As(z),K.c(),K.m(e,A)):K&&(K.d(1),K=null),z[12]?O||(O=Cs(),O.c(),O.m(e,S)):O&&(O.d(1),O=null),z[5]&&z[4]?N?(N.p(z,le),le[0]&48&&ee(N,1)):(N=Os(z),N.c(),ee(N,1),N.m(e,P)):N&&(Ne(),ie(N,1,1,()=>{N=null}),Fe());let We=B;B=J(z),B===We?se[B].p(z,le):(Ne(),ie(se[We],1,1,()=>{se[We]=null}),Fe(),F=se[B],F?F.p(z,le):(F=se[B]=re[B](z),F.c()),ee(F,1),F.m(L,ae)),z[4]?oe?oe.p(z,le):(oe=Ns(z),oe.c(),oe.m(L,null)):oe&&(oe.d(1),oe=null),(!I||le[0]&16)&&vt(L,"edit-mode",z[4]),(!I||le[0]&1024)&&vt(L,"resizing",z[10]),z[6]?q?q.p(z,le):(q=zs(z),q.c(),q.m($.parentNode,$)):q&&(q.d(1),q=null)},i(z){I||(ee(Z),ee(p),ee(E.$$.fragment,z),ee(W),ee(N),ee(F),I=!0)},o(z){ie(Z),ie(p),ie(E.$$.fragment,z),ie(W),ie(N),ie(F),I=!1},d(z){z&&(_(e),_(Y),_($)),H&&H.d(),Z&&Z.d(),G[d].d(),Te(E),W&&W.d(),K&&K.d(),O&&O.d(),N&&N.d(),se[B].d(),oe&&oe.d(),q&&q.d(z),j=!1,St(C)}}}function tc(n){let e,t,r,s,i,a="← Back to Dashboards";return{c(){e=y("div"),t=y("p"),r=ne(n[3]),s=M(),i=y("a"),i.textContent=a,this.h()},l(l){e=k(l,"DIV",{class:!0});var o=T(e);t=k(o,"P",{});var c=T(t);r=te(c,n[3]),c.forEach(_),s=R(o),i=k(o,"A",{href:!0,"data-svelte-h":!0}),ge(i)!=="svelte-2ed5vz"&&(i.textContent=a),o.forEach(_),this.h()},h(){v(i,"href","/dashboards"),v(e,"class","error-container svelte-9o8nns")},m(l,o){U(l,e,o),h(e,t),h(t,r),h(e,s),h(e,i)},p(l,o){o[0]&8&&de(r,l[3])},i:he,o:he,d(l){l&&_(e)}}}function nc(n){let e,t,r,s,i;t=new cr({props:{type:"text",lines:2,width:"300px"}});let a=be(Array(4)),l=[];for(let o=0;o<a.length;o+=1)l[o]=fc(Jo(n,a,o));return{c(){e=y("div"),xe(t.$$.fragment),r=M(),s=y("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=k(o,"DIV",{class:!0});var c=T(e);Re(t.$$.fragment,c),r=R(c),s=k(c,"DIV",{class:!0});var u=T(s);for(let f=0;f<l.length;f+=1)l[f].l(u);u.forEach(_),c.forEach(_),this.h()},h(){v(s,"class","skeleton-grid svelte-9o8nns"),v(e,"class","loading-container svelte-9o8nns")},m(o,c){U(o,e,c),Se(t,e,null),h(e,r),h(e,s);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(s,null);i=!0},p:he,i(o){if(!i){ee(t.$$.fragment,o);for(let c=0;c<a.length;c+=1)ee(l[c]);i=!0}},o(o){ie(t.$$.fragment,o),l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)ie(l[c]);i=!1},d(o){o&&_(e),Te(t),$e(l,o)}}}function xs(n){let e,t=n[0].description+"",r;return{c(){e=y("p"),r=ne(t),this.h()},l(s){e=k(s,"P",{class:!0});var i=T(e);r=te(i,t),i.forEach(_),this.h()},h(){v(e,"class","svelte-9o8nns")},m(s,i){U(s,e,i),h(e,r)},p(s,i){i[0]&1&&t!==(t=s[0].description+"")&&de(r,t)},d(s){s&&_(e)}}}function Ss(n){let e,t,r,s,i,a,l,o;return t=new ol({props:{size:20}}),i=new rl({props:{size:20}}),{c(){e=y("button"),xe(t.$$.fragment),r=M(),s=y("button"),xe(i.$$.fragment),this.h()},l(c){e=k(c,"BUTTON",{class:!0,title:!0});var u=T(e);Re(t.$$.fragment,u),u.forEach(_),r=R(c),s=k(c,"BUTTON",{class:!0,title:!0});var f=T(s);Re(i.$$.fragment,f),f.forEach(_),this.h()},h(){v(e,"class","icon-button svelte-9o8nns"),v(e,"title","Add Widget"),v(s,"class","icon-button svelte-9o8nns"),s.disabled=n[2],v(s,"title","Save")},m(c,u){U(c,e,u),Se(t,e,null),U(c,r,u),U(c,s,u),Se(i,s,null),a=!0,l||(o=[ve(e,"click",n[27]),ve(s,"click",n[15])],l=!0)},p(c,u){(!a||u[0]&4)&&(s.disabled=c[2])},i(c){a||(ee(t.$$.fragment,c),ee(i.$$.fragment,c),a=!0)},o(c){ie(t.$$.fragment,c),ie(i.$$.fragment,c),a=!1},d(c){c&&(_(e),_(r),_(s)),Te(t),Te(i),l=!1,St(o)}}}function rc(n){let e,t;return e=new ul({props:{size:20}}),{c(){xe(e.$$.fragment)},l(r){Re(e.$$.fragment,r)},m(r,s){Se(e,r,s),t=!0},i(r){t||(ee(e.$$.fragment,r),t=!0)},o(r){ie(e.$$.fragment,r),t=!1},d(r){Te(e,r)}}}function sc(n){let e,t;return e=new cl({props:{size:20}}),{c(){xe(e.$$.fragment)},l(r){Re(e.$$.fragment,r)},m(r,s){Se(e,r,s),t=!0},i(r){t||(ee(e.$$.fragment,r),t=!0)},o(r){ie(e.$$.fragment,r),t=!1},d(r){Te(e,r)}}}function Is(n){let e,t,r,s,i,a="Export as PDF",l,o,c,u,f,d="Export as PNG",p,g,m,w,b,E="Export as JPG",x,D,A;return r=new sl({props:{size:16}}),c=new Ar({props:{size:16}}),m=new Ar({props:{size:16}}),{c(){e=y("div"),t=y("button"),xe(r.$$.fragment),s=M(),i=y("span"),i.textContent=a,l=M(),o=y("button"),xe(c.$$.fragment),u=M(),f=y("span"),f.textContent=d,p=M(),g=y("button"),xe(m.$$.fragment),w=M(),b=y("span"),b.textContent=E,this.h()},l(S){e=k(S,"DIV",{class:!0});var P=T(e);t=k(P,"BUTTON",{class:!0});var L=T(t);Re(r.$$.fragment,L),s=R(L),i=k(L,"SPAN",{"data-svelte-h":!0}),ge(i)!=="svelte-m2mff6"&&(i.textContent=a),L.forEach(_),l=R(P),o=k(P,"BUTTON",{class:!0});var B=T(o);Re(c.$$.fragment,B),u=R(B),f=k(B,"SPAN",{"data-svelte-h":!0}),ge(f)!=="svelte-1qz87m5"&&(f.textContent=d),B.forEach(_),p=R(P),g=k(P,"BUTTON",{class:!0});var F=T(g);Re(m.$$.fragment,F),w=R(F),b=k(F,"SPAN",{"data-svelte-h":!0}),ge(b)!=="svelte-z7cthl"&&(b.textContent=E),F.forEach(_),P.forEach(_),this.h()},h(){v(t,"class","export-option svelte-9o8nns"),v(o,"class","export-option svelte-9o8nns"),v(g,"class","export-option svelte-9o8nns"),v(e,"class","export-menu svelte-9o8nns")},m(S,P){U(S,e,P),h(e,t),Se(r,t,null),h(t,s),h(t,i),h(e,l),h(e,o),Se(c,o,null),h(o,u),h(o,f),h(e,p),h(e,g),Se(m,g,null),h(g,w),h(g,b),x=!0,D||(A=[ve(t,"click",n[29]),ve(o,"click",n[30]),ve(g,"click",n[31])],D=!0)},p:he,i(S){x||(ee(r.$$.fragment,S),ee(c.$$.fragment,S),ee(m.$$.fragment,S),x=!0)},o(S){ie(r.$$.fragment,S),ie(c.$$.fragment,S),ie(m.$$.fragment,S),x=!1},d(S){S&&_(e),Te(r),Te(c),Te(m),D=!1,St(A)}}}function As(n){let e,t;return{c(){e=y("div"),t=ne(n[3]),this.h()},l(r){e=k(r,"DIV",{class:!0});var s=T(e);t=te(s,n[3]),s.forEach(_),this.h()},h(){v(e,"class","error svelte-9o8nns")},m(r,s){U(r,e,s),h(e,t)},p(r,s){s[0]&8&&de(t,r[3])},d(r){r&&_(e)}}}function Cs(n){let e,t='<div class="export-spinner svelte-9o8nns"><div class="spinner svelte-9o8nns"></div> <p class="svelte-9o8nns">Generating export...</p></div>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(r){e=k(r,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-bg0dty"&&(e.innerHTML=t),this.h()},h(){v(e,"class","export-overlay svelte-9o8nns")},m(r,s){U(r,e,s)},d(r){r&&_(e)}}}function Os(n){let e,t,r="Add Widget",s,i,a=n[0].widgets.length+"",l,o,c=n[13][n[7]].widgets+"",u,f,d,p,g,m=be(n[8]),w=[];for(let E=0;E<m.length;E+=1)w[E]=Rs(Ts(n,m,E));const b=E=>ie(w[E],1,1,()=>{w[E]=null});return{c(){e=y("div"),t=y("h3"),t.textContent=r,s=M(),i=y("p"),l=ne(a),o=ne(" / "),u=ne(c),f=ne(" widgets used"),d=M(),p=y("div");for(let E=0;E<w.length;E+=1)w[E].c();this.h()},l(E){e=k(E,"DIV",{class:!0});var x=T(e);t=k(x,"H3",{class:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1rm2nah"&&(t.textContent=r),s=R(x),i=k(x,"P",{class:!0});var D=T(i);l=te(D,a),o=te(D," / "),u=te(D,c),f=te(D," widgets used"),D.forEach(_),d=R(x),p=k(x,"DIV",{class:!0});var A=T(p);for(let S=0;S<w.length;S+=1)w[S].l(A);A.forEach(_),x.forEach(_),this.h()},h(){v(t,"class","svelte-9o8nns"),v(i,"class","widget-limit svelte-9o8nns"),v(p,"class","widget-types svelte-9o8nns"),v(e,"class","widget-panel svelte-9o8nns")},m(E,x){U(E,e,x),h(e,t),h(e,s),h(e,i),h(i,l),h(i,o),h(i,u),h(i,f),h(e,d),h(e,p);for(let D=0;D<w.length;D+=1)w[D]&&w[D].m(p,null);g=!0},p(E,x){if((!g||x[0]&1)&&a!==(a=E[0].widgets.length+"")&&de(l,a),(!g||x[0]&128)&&c!==(c=E[13][E[7]].widgets+"")&&de(u,c),x[0]&90497){m=be(E[8]);let D;for(D=0;D<m.length;D+=1){const A=Ts(E,m,D);w[D]?(w[D].p(A,x),ee(w[D],1)):(w[D]=Rs(A),w[D].c(),ee(w[D],1),w[D].m(p,null))}for(Ne(),D=m.length;D<w.length;D+=1)b(D);Fe()}},i(E){if(!g){for(let x=0;x<m.length;x+=1)ee(w[x]);g=!0}},o(E){w=w.filter(Boolean);for(let x=0;x<w.length;x+=1)ie(w[x]);g=!1},d(E){E&&_(e),$e(w,E)}}}function Rs(n){let e,t,r,s,i=n[77].name+"",a,l,o,c,u,f;var d=n[14][n[77].id]||jt;function p(m,w){return{props:{size:24}}}d&&(t=mt(d,p()));function g(){return n[32](n[77])}return{c(){e=y("button"),t&&xe(t.$$.fragment),r=M(),s=y("span"),a=ne(i),l=M(),this.h()},l(m){e=k(m,"BUTTON",{class:!0});var w=T(e);t&&Re(t.$$.fragment,w),r=R(w),s=k(w,"SPAN",{class:!0});var b=T(s);a=te(b,i),b.forEach(_),l=R(w),w.forEach(_),this.h()},h(){v(s,"class","svelte-9o8nns"),v(e,"class","widget-type-button svelte-9o8nns"),e.disabled=o=n[0].widgets.length>=n[13][n[7]].widgets},m(m,w){U(m,e,w),t&&Se(t,e,null),h(e,r),h(e,s),h(s,a),h(e,l),c=!0,u||(f=ve(e,"click",g),u=!0)},p(m,w){if(n=m,w[0]&256&&d!==(d=n[14][n[77].id]||jt)){if(t){Ne();const b=t;ie(b.$$.fragment,1,0,()=>{Te(b,1)}),Fe()}d?(t=mt(d,p()),xe(t.$$.fragment),ee(t.$$.fragment,1),Se(t,e,r)):t=null}(!c||w[0]&256)&&i!==(i=n[77].name+"")&&de(a,i),(!c||w[0]&129&&o!==(o=n[0].widgets.length>=n[13][n[7]].widgets))&&(e.disabled=o)},i(m){c||(t&&ee(t.$$.fragment,m),c=!0)},o(m){t&&ie(t.$$.fragment,m),c=!1},d(m){m&&_(e),t&&Te(t),u=!1,f()}}}function ic(n){let e,t,r=be(n[0].widgets),s=[];for(let a=0;a<r.length;a+=1)s[a]=Ms(Es(n,r,a));const i=a=>ie(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=Ke()},l(a){for(let l=0;l<s.length;l+=1)s[l].l(a);e=Ke()},m(a,l){for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(a,l);U(a,e,l),t=!0},p(a,l){if(l[0]&12582913){r=be(a[0].widgets);let o;for(o=0;o<r.length;o+=1){const c=Es(a,r,o);s[o]?(s[o].p(c,l),ee(s[o],1)):(s[o]=Ms(c),s[o].c(),ee(s[o],1),s[o].m(e.parentNode,e))}for(Ne(),o=r.length;o<s.length;o+=1)i(o);Fe()}},i(a){if(!t){for(let l=0;l<r.length;l+=1)ee(s[l]);t=!0}},o(a){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)ie(s[l]);t=!1},d(a){a&&_(e),$e(s,a)}}}function lc(n){let e,t=[],r=new Map,s,i,a,l,o=be(n[0].widgets);const c=u=>u[70].id;for(let u=0;u<o.length;u+=1){let f=Ds(n,o,u),d=c(f);r.set(d,t[u]=Ls(d,f))}return{c(){e=y("div");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){e=k(u,"DIV",{class:!0});var f=T(e);for(let d=0;d<t.length;d+=1)t[d].l(f);f.forEach(_),this.h()},h(){v(e,"class","dnd-container svelte-9o8nns")},m(u,f){U(u,e,f);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);i=!0,a||(l=[Ci(s=Ra.call(null,e,{items:n[0].widgets,flipDurationMs:200,dropTargetStyle:{}})),ve(e,"consider",n[19]),ve(e,"finalize",n[20])],a=!0)},p(u,f){if(f[0]&29507665){o=be(u[0].widgets),Ne();for(let d=0;d<t.length;d+=1)t[d].r();t=Li(t,f,c,1,u,o,r,e,Ni,Ls,null,Ds);for(let d=0;d<t.length;d+=1)t[d].a();Fe()}s&&Bs(s.update)&&f[0]&1&&s.update.call(null,{items:u[0].widgets,flipDurationMs:200,dropTargetStyle:{}})},i(u){if(!i){for(let f=0;f<o.length;f+=1)ee(t[f]);i=!0}},o(u){for(let f=0;f<t.length;f+=1)ie(t[f]);i=!1},d(u){u&&_(e);for(let f=0;f<t.length;f+=1)t[f].d();a=!1,St(l)}}}function ac(n){let e,t;return e=new cr({props:{type:"chart",height:"100%"}}),{c(){xe(e.$$.fragment)},l(r){Re(e.$$.fragment,r)},m(r,s){Se(e,r,s),t=!0},p:he,i(r){t||(ee(e.$$.fragment,r),t=!0)},o(r){ie(e.$$.fragment,r),t=!1},d(r){Te(e,r)}}}function oc(n){let e,t,r;const s=[n[72]];var i=n[71];function a(l,o){let c={};for(let u=0;u<s.length;u+=1)c=En(c,s[u]);return o!==void 0&&o[0]&8388609&&(c=En(c,Dn(s,[Tn(l[72])]))),{props:c}}return i&&(e=mt(i,a(n))),{c(){e&&xe(e.$$.fragment),t=Ke()},l(l){e&&Re(e.$$.fragment,l),t=Ke()},m(l,o){e&&Se(e,l,o),U(l,t,o),r=!0},p(l,o){if(o[0]&1&&i!==(i=l[71])){if(e){Ne();const c=e;ie(c.$$.fragment,1,0,()=>{Te(c,1)}),Fe()}i?(e=mt(i,a(l,o)),xe(e.$$.fragment),ee(e.$$.fragment,1),Se(e,t.parentNode,t)):e=null}else if(i){const c=o[0]&8388609?Dn(s,[Tn(l[72])]):{};e.$set(c)}},i(l){r||(e&&ee(e.$$.fragment,l),r=!0)},o(l){e&&ie(e.$$.fragment,l),r=!1},d(l){l&&_(t),e&&Te(e,l)}}}function Ms(n){let e,t,r,s,i=n[70].title+"",a,l,o,c,u,f,d;const p=[oc,ac],g=[];function m(w,b){return w[71]&&w[72]?0:w[71]?1:-1}return~(c=m(n))&&(u=g[c]=p[c](n)),{c(){e=y("div"),t=y("div"),r=y("div"),s=y("h4"),a=ne(i),l=M(),o=y("div"),u&&u.c(),f=M(),this.h()},l(w){e=k(w,"DIV",{class:!0,style:!0});var b=T(e);t=k(b,"DIV",{class:!0});var E=T(t);r=k(E,"DIV",{class:!0});var x=T(r);s=k(x,"H4",{class:!0});var D=T(s);a=te(D,i),D.forEach(_),x.forEach(_),l=R(E),o=k(E,"DIV",{class:!0});var A=T(o);u&&u.l(A),A.forEach(_),E.forEach(_),f=R(b),b.forEach(_),this.h()},h(){v(s,"class","svelte-9o8nns"),v(r,"class","widget-header svelte-9o8nns"),v(o,"class","widget-content svelte-9o8nns"),v(t,"class","widget svelte-9o8nns"),v(e,"class","widget-container svelte-9o8nns"),ue(e,"grid-column",n[70].position.x+1+" / span "+n[70].position.width),ue(e,"grid-row",n[70].position.y+1+" / span "+n[70].position.height)},m(w,b){U(w,e,b),h(e,t),h(t,r),h(r,s),h(s,a),h(t,l),h(t,o),~c&&g[c].m(o,null),h(e,f),d=!0},p(w,b){(!d||b[0]&1)&&i!==(i=w[70].title+"")&&de(a,i);let E=c;c=m(w),c===E?~c&&g[c].p(w,b):(u&&(Ne(),ie(g[E],1,1,()=>{g[E]=null}),Fe()),~c?(u=g[c],u?u.p(w,b):(u=g[c]=p[c](w),u.c()),ee(u,1),u.m(o,null)):u=null),(!d||b[0]&1)&&ue(e,"grid-column",w[70].position.x+1+" / span "+w[70].position.width),(!d||b[0]&1)&&ue(e,"grid-row",w[70].position.y+1+" / span "+w[70].position.height)},i(w){d||(ee(u),d=!0)},o(w){ie(u),d=!1},d(w){w&&_(e),~c&&g[c].d()}}}function cc(n){let e,t,r,s,i="Configure widget settings",a;var l=n[14][n[70].type]||jt;function o(c,u){return{props:{size:48}}}return l&&(t=mt(l,o())),{c(){e=y("div"),t&&xe(t.$$.fragment),r=M(),s=y("p"),s.textContent=i,this.h()},l(c){e=k(c,"DIV",{class:!0});var u=T(e);t&&Re(t.$$.fragment,u),r=R(u),s=k(u,"P",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-bht3bl"&&(s.textContent=i),u.forEach(_),this.h()},h(){v(s,"class","svelte-9o8nns"),v(e,"class","widget-placeholder svelte-9o8nns")},m(c,u){U(c,e,u),t&&Se(t,e,null),h(e,r),h(e,s),a=!0},p(c,u){if(u[0]&1&&l!==(l=c[14][c[70].type]||jt)){if(t){Ne();const f=t;ie(f.$$.fragment,1,0,()=>{Te(f,1)}),Fe()}l?(t=mt(l,o()),xe(t.$$.fragment),ee(t.$$.fragment,1),Se(t,e,r)):t=null}},i(c){a||(t&&ee(t.$$.fragment,c),a=!0)},o(c){t&&ie(t.$$.fragment,c),a=!1},d(c){c&&_(e),t&&Te(t)}}}function uc(n){let e,t,r;const s=[n[72]];var i=n[71];function a(l,o){let c={};for(let u=0;u<s.length;u+=1)c=En(c,s[u]);return o!==void 0&&o[0]&8388609&&(c=En(c,Dn(s,[Tn(l[72])]))),{props:c}}return i&&(e=mt(i,a(n))),{c(){e&&xe(e.$$.fragment),t=Ke()},l(l){e&&Re(e.$$.fragment,l),t=Ke()},m(l,o){e&&Se(e,l,o),U(l,t,o),r=!0},p(l,o){if(o[0]&1&&i!==(i=l[71])){if(e){Ne();const c=e;ie(c.$$.fragment,1,0,()=>{Te(c,1)}),Fe()}i?(e=mt(i,a(l,o)),xe(e.$$.fragment),ee(e.$$.fragment,1),Se(e,t.parentNode,t)):e=null}else if(i){const c=o[0]&8388609?Dn(s,[Tn(l[72])]):{};e.$set(c)}},i(l){r||(e&&ee(e.$$.fragment,l),r=!0)},o(l){e&&ie(e.$$.fragment,l),r=!1},d(l){l&&_(t),e&&Te(e,l)}}}function Ps(n){let e,t,r='<svg width="12" height="12" viewBox="0 0 12 12"><path d="M1 11 L11 1 M6 11 L11 6" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg>',s,i,a,l,o,c;function u(...p){return n[35](n[70],...p)}function f(...p){return n[36](n[70],...p)}function d(...p){return n[37](n[70],...p)}return{c(){e=y("div"),t=y("div"),t.innerHTML=r,s=M(),i=y("div"),a=M(),l=y("div"),this.h()},l(p){e=k(p,"DIV",{class:!0});var g=T(e);t=k(g,"DIV",{class:!0,title:!0,"data-svelte-h":!0}),ge(t)!=="svelte-1ndsffo"&&(t.innerHTML=r),s=R(g),i=k(g,"DIV",{class:!0,title:!0}),T(i).forEach(_),a=R(g),l=k(g,"DIV",{class:!0,title:!0}),T(l).forEach(_),g.forEach(_),this.h()},h(){v(t,"class","resize-handle resize-handle-se svelte-9o8nns"),v(t,"title","Resize"),v(i,"class","resize-handle resize-handle-e svelte-9o8nns"),v(i,"title","Resize horizontally"),v(l,"class","resize-handle resize-handle-s svelte-9o8nns"),v(l,"title","Resize vertically"),v(e,"class","resize-handles svelte-9o8nns")},m(p,g){U(p,e,g),h(e,t),h(e,s),h(e,i),h(e,a),h(e,l),o||(c=[ve(t,"mousedown",u),ve(i,"mousedown",f),ve(l,"mousedown",d)],o=!0)},p(p,g){n=p},d(p){p&&_(e),o=!1,St(c)}}}function Ls(n,e){let t,r,s,i,a=e[70].title+"",l,o,c,u,f,d,p,g,m,w,b,E,x,D,A,S,P,L,B=he,F,ae,Y;f=new il({props:{size:16}});function $(){return e[33](e[70])}g=new ll({props:{size:16}}),b=new dl({props:{size:16}});function I(){return e[34](e[70])}const j=[uc,cc],C=[];function H(X,G){return X[71]&&X[72]?0:X[71]?1:-1}~(D=H(e))&&(A=C[D]=j[D](e));let Z=e[4]&&Ps(e);return{key:n,first:null,c(){t=y("div"),r=y("div"),s=y("div"),i=y("h4"),l=ne(a),o=M(),c=y("div"),u=y("button"),xe(f.$$.fragment),d=M(),p=y("button"),xe(g.$$.fragment),m=M(),w=y("button"),xe(b.$$.fragment),E=M(),x=y("div"),A&&A.c(),S=M(),Z&&Z.c(),P=M(),this.h()},l(X){t=k(X,"DIV",{class:!0,style:!0});var G=T(t);r=k(G,"DIV",{class:!0});var Q=T(r);s=k(Q,"DIV",{class:!0});var W=T(s);i=k(W,"H4",{class:!0});var K=T(i);l=te(K,a),K.forEach(_),o=R(W),c=k(W,"DIV",{class:!0});var O=T(c);u=k(O,"BUTTON",{class:!0});var N=T(u);Re(f.$$.fragment,N),N.forEach(_),d=R(O),p=k(O,"BUTTON",{class:!0});var re=T(p);Re(g.$$.fragment,re),re.forEach(_),m=R(O),w=k(O,"BUTTON",{class:!0});var se=T(w);Re(b.$$.fragment,se),se.forEach(_),O.forEach(_),W.forEach(_),E=R(Q),x=k(Q,"DIV",{class:!0});var J=T(x);A&&A.l(J),J.forEach(_),S=R(Q),Z&&Z.l(Q),Q.forEach(_),P=R(G),G.forEach(_),this.h()},h(){v(i,"class","svelte-9o8nns"),v(u,"class","widget-action svelte-9o8nns"),v(p,"class","widget-action drag-handle svelte-9o8nns"),v(w,"class","widget-action svelte-9o8nns"),v(c,"class","widget-actions svelte-9o8nns"),v(s,"class","widget-header svelte-9o8nns"),v(x,"class","widget-content svelte-9o8nns"),v(r,"class","widget svelte-9o8nns"),v(t,"class","widget-container svelte-9o8nns"),ue(t,"grid-column",e[70].position.x+1+" / span "+e[70].position.width),ue(t,"grid-row",e[70].position.y+1+" / span "+e[70].position.height),this.first=t},m(X,G){U(X,t,G),h(t,r),h(r,s),h(s,i),h(i,l),h(s,o),h(s,c),h(c,u),Se(f,u,null),h(c,d),h(c,p),Se(g,p,null),h(c,m),h(c,w),Se(b,w,null),h(r,E),h(r,x),~D&&C[D].m(x,null),h(r,S),Z&&Z.m(r,null),h(t,P),F=!0,ae||(Y=[ve(u,"click",$),ve(w,"click",I)],ae=!0)},p(X,G){e=X,(!F||G[0]&1)&&a!==(a=e[70].title+"")&&de(l,a);let Q=D;D=H(e),D===Q?~D&&C[D].p(e,G):(A&&(Ne(),ie(C[Q],1,1,()=>{C[Q]=null}),Fe()),~D?(A=C[D],A?A.p(e,G):(A=C[D]=j[D](e),A.c()),ee(A,1),A.m(x,null)):A=null),e[4]?Z?Z.p(e,G):(Z=Ps(e),Z.c(),Z.m(r,null)):Z&&(Z.d(1),Z=null),(!F||G[0]&1)&&ue(t,"grid-column",e[70].position.x+1+" / span "+e[70].position.width),(!F||G[0]&1)&&ue(t,"grid-row",e[70].position.y+1+" / span "+e[70].position.height)},r(){L=t.getBoundingClientRect()},f(){hl(t),B()},a(){B(),B=fl(t,L,Pa,{duration:200})},i(X){F||(ee(f.$$.fragment,X),ee(g.$$.fragment,X),ee(b.$$.fragment,X),ee(A),F=!0)},o(X){ie(f.$$.fragment,X),ie(g.$$.fragment,X),ie(b.$$.fragment,X),ie(A),F=!1},d(X){X&&_(t),Te(f),Te(g),Te(b),~D&&C[D].d(),Z&&Z.d(),ae=!1,St(Y)}}}function Ns(n){let e,t=be(Array(20)),r=[];for(let s=0;s<t.length;s+=1)r[s]=Fs(ys(n,t,s));return{c(){e=y("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=k(s,"DIV",{class:!0});var i=T(e);for(let a=0;a<r.length;a+=1)r[a].l(i);i.forEach(_),this.h()},h(){v(e,"class","grid-overlay svelte-9o8nns")},m(s,i){U(s,e,i);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(s,i){if(i&0){t=be(Array(20));let a;for(a=0;a<t.length;a+=1){const l=ys(s,t,a);r[a]?r[a].p(l,i):(r[a]=Fs(l),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(s){s&&_(e),$e(r,s)}}}function dc(n){let e;return{c(){e=y("div"),this.h()},l(t){e=k(t,"DIV",{class:!0,style:!0}),T(e).forEach(_),this.h()},h(){v(e,"class","grid-cell svelte-9o8nns"),ue(e,"grid-column",n[69]+1),ue(e,"grid-row",n[67]+1)},m(t,r){U(t,e,r)},p:he,d(t){t&&_(e)}}}function Fs(n){let e,t=be(Array(rn)),r=[];for(let s=0;s<t.length;s+=1)r[s]=dc(Ko(n,t,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=Ke()},l(s){for(let i=0;i<r.length;i+=1)r[i].l(s);e=Ke()},m(s,i){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(s,i);U(s,e,i)},p:he,d(s){s&&_(e),$e(r,s)}}}function zs(n){let e,t,r,s="Widget Settings",i,a,l,o,c="Title",u,f,d,p,g,m="Data Source",w,b,E,x,D,A="Refresh Interval (seconds)",S,P,L,B,F="Set to 0 to disable auto-refresh",ae,Y,$,I="Cancel",j,C,H="Save Settings",Z,X,G=be(n[9]),Q=[];for(let W=0;W<G.length;W+=1)Q[W]=Vs(ks(n,G,W));return{c(){e=y("div"),t=y("div"),r=y("h3"),r.textContent=s,i=M(),a=y("form"),l=y("div"),o=y("label"),o.textContent=c,u=M(),f=y("input"),d=M(),p=y("div"),g=y("label"),g.textContent=m,w=M(),b=y("select");for(let W=0;W<Q.length;W+=1)Q[W].c();E=M(),x=y("div"),D=y("label"),D.textContent=A,S=M(),P=y("input"),L=M(),B=y("small"),B.textContent=F,ae=M(),Y=y("div"),$=y("button"),$.textContent=I,j=M(),C=y("button"),C.textContent=H,this.h()},l(W){e=k(W,"DIV",{class:!0});var K=T(e);t=k(K,"DIV",{class:!0});var O=T(t);r=k(O,"H3",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-1o6zeyp"&&(r.textContent=s),i=R(O),a=k(O,"FORM",{});var N=T(a);l=k(N,"DIV",{class:!0});var re=T(l);o=k(re,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ge(o)!=="svelte-1vc4edb"&&(o.textContent=c),u=R(re),f=k(re,"INPUT",{id:!0,type:!0,class:!0}),re.forEach(_),d=R(N),p=k(N,"DIV",{class:!0});var se=T(p);g=k(se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ge(g)!=="svelte-1h17201"&&(g.textContent=m),w=R(se),b=k(se,"SELECT",{id:!0,class:!0});var J=T(b);for(let z=0;z<Q.length;z+=1)Q[z].l(J);J.forEach(_),se.forEach(_),E=R(N),x=k(N,"DIV",{class:!0});var oe=T(x);D=k(oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ge(D)!=="svelte-f9i8wl"&&(D.textContent=A),S=R(oe),P=k(oe,"INPUT",{id:!0,type:!0,min:!0,step:!0,class:!0}),L=R(oe),B=k(oe,"SMALL",{class:!0,"data-svelte-h":!0}),ge(B)!=="svelte-n27otp"&&(B.textContent=F),oe.forEach(_),ae=R(N),Y=k(N,"DIV",{class:!0});var q=T(Y);$=k(q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ge($)!=="svelte-s04xjk"&&($.textContent=I),j=R(q),C=k(q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ge(C)!=="svelte-1ypbefd"&&(C.textContent=H),q.forEach(_),N.forEach(_),O.forEach(_),K.forEach(_),this.h()},h(){v(r,"class","svelte-9o8nns"),v(o,"for","widget-title"),v(o,"class","svelte-9o8nns"),v(f,"id","widget-title"),v(f,"type","text"),v(f,"class","svelte-9o8nns"),v(l,"class","form-group svelte-9o8nns"),v(g,"for","data-source"),v(g,"class","svelte-9o8nns"),v(b,"id","data-source"),v(b,"class","svelte-9o8nns"),n[6].data_source===void 0&&Mi(()=>n[39].call(b)),v(p,"class","form-group svelte-9o8nns"),v(D,"for","refresh-interval"),v(D,"class","svelte-9o8nns"),v(P,"id","refresh-interval"),v(P,"type","number"),v(P,"min","0"),v(P,"step","30"),v(P,"class","svelte-9o8nns"),v(B,"class","svelte-9o8nns"),v(x,"class","form-group svelte-9o8nns"),v($,"type","button"),v($,"class","secondary-button svelte-9o8nns"),v(C,"type","submit"),v(C,"class","primary-button svelte-9o8nns"),v(Y,"class","modal-actions svelte-9o8nns"),v(t,"class","modal svelte-9o8nns"),v(e,"class","modal-overlay svelte-9o8nns")},m(W,K){U(W,e,K),h(e,t),h(t,r),h(t,i),h(t,a),h(a,l),h(l,o),h(l,u),h(l,f),Ct(f,n[6].title),h(a,d),h(a,p),h(p,g),h(p,w),h(p,b);for(let O=0;O<Q.length;O+=1)Q[O]&&Q[O].m(b,null);Sr(b,n[6].data_source,!0),h(a,E),h(a,x),h(x,D),h(x,S),h(x,P),Ct(P,n[6].refresh_interval),h(x,L),h(x,B),h(a,ae),h(a,Y),h(Y,$),h(Y,j),h(Y,C),Z||(X=[ve(f,"input",n[38]),ve(b,"change",n[39]),ve(P,"input",n[40]),ve($,"click",n[41]),ve(a,"submit",Oi(n[42])),ve(t,"click",Ri(n[26])),ve(e,"click",n[43])],Z=!0)},p(W,K){if(K[0]&576&&f.value!==W[6].title&&Ct(f,W[6].title),K[0]&512){G=be(W[9]);let O;for(O=0;O<G.length;O+=1){const N=ks(W,G,O);Q[O]?Q[O].p(N,K):(Q[O]=Vs(N),Q[O].c(),Q[O].m(b,null))}for(;O<Q.length;O+=1)Q[O].d(1);Q.length=G.length}K[0]&576&&Sr(b,W[6].data_source),K[0]&576&&Ws(P.value)!==W[6].refresh_interval&&Ct(P,W[6].refresh_interval)},d(W){W&&_(e),$e(Q,W),Z=!1,St(X)}}}function Vs(n){let e,t=n[63].name+"",r,s;return{c(){e=y("option"),r=ne(t),this.h()},l(i){e=k(i,"OPTION",{});var a=T(e);r=te(a,t),a.forEach(_),this.h()},h(){e.__value=s=n[63].id,Ct(e,e.__value)},m(i,a){U(i,e,a),h(e,r)},p(i,a){a[0]&512&&t!==(t=i[63].name+"")&&de(r,t),a[0]&512&&s!==(s=i[63].id)&&(e.__value=s,Ct(e,e.__value))},d(i){i&&_(e)}}}function fc(n){let e,t;return e=new cr({props:{type:"card",height:"200px"}}),{c(){xe(e.$$.fragment)},l(r){Re(e.$$.fragment,r)},m(r,s){Se(e,r,s),t=!0},p:he,i(r){t||(ee(e.$$.fragment,r),t=!0)},o(r){ie(e.$$.fragment,r),t=!1},d(r){Te(e,r)}}}function hc(n){var u;let e,t,r,s,i,a;Xn.title=e=(((u=n[0])==null?void 0:u.name)||"Dashboard")+" - TradeSense";const l=[nc,tc,ec],o=[];function c(f,d){return f[1]?0:f[3]&&!f[0]?1:f[0]?2:-1}return~(r=c(n))&&(s=o[r]=l[r](n)),{c(){t=M(),s&&s.c(),i=Ke()},l(f){xi("svelte-k0xspe",Xn.head).forEach(_),t=R(f),s&&s.l(f),i=Ke()},m(f,d){U(f,t,d),~r&&o[r].m(f,d),U(f,i,d),a=!0},p(f,d){var g;(!a||d[0]&1)&&e!==(e=(((g=f[0])==null?void 0:g.name)||"Dashboard")+" - TradeSense")&&(Xn.title=e);let p=r;r=c(f),r===p?~r&&o[r].p(f,d):(s&&(Ne(),ie(o[p],1,1,()=>{o[p]=null}),Fe()),~r?(s=o[r],s?s.p(f,d):(s=o[r]=l[r](f),s.c()),ee(s,1),s.m(i.parentNode,i)):s=null)},i(f){a||(ee(s),a=!0)},o(f){ie(s),a=!1},d(f){f&&(_(t),_(i)),~r&&o[r].d(f)}}}const rn=12,vi=80,gc=10;function pc(n,e,t){let r;Si(n,Fi,V=>t(50,r=V));let s=null,i=!0,a=!1,l="",o=!0,c=!1,u=null,f="free",d=[],p=[],g=null,m={},w=!1,b=null,E="se",x={x:0,y:0},D={width:0,height:0},A=!1,S=!1;const P=r.params.id,L={free:{widgets:4},pro:{widgets:10},enterprise:{widgets:999}},B={line_chart:Qn,bar_chart:jt,pie_chart:nl,table:tl,metric_card:el,gauge:Zn,pnl_calendar:Ji,text_markdown:Ki,candlestick:jt,heatmap:Zn,drawdown_chart:Qn,live_market:Zn};async function F(){try{t(1,i=!0),t(3,l="");try{const Ee=await Bi.getSubscription();Ee!=null&&Ee.plan_id.includes("enterprise")?t(7,f="enterprise"):Ee!=null&&Ee.plan_id.includes("pro")&&t(7,f="pro")}catch{}const[V,ce,fe]=await Promise.all([lt.get(P),lt.getWidgetTypes(),lt.getDataSources()]);t(0,s=V),t(8,d=ce),t(9,p=fe),await ae(),o||Q()}catch(V){t(3,l=V.message||"Failed to load dashboard"),console.error("Error loading dashboard:",V)}finally{t(1,i=!1)}}async function ae(){if(s)try{m=(await lt.getDashboardData(P)).widget_data}catch(V){console.error("Error loading widget data:",V)}}async function Y(){if(s)try{t(2,a=!0),await lt.update(P,{name:s.name,description:s.description,layout:s.layout,tags:s.tags,is_public:s.is_public});const V=s.widgets.map(ce=>({widget_id:ce.id,position:ce.position}));await lt.reorderWidgets(P,V)}catch(V){t(3,l=V.message||"Failed to save dashboard")}finally{t(2,a=!1)}}async function $(V){if(!s)return;if(s.widgets.length>=L[f].widgets){t(3,l=`Widget limit reached. Upgrade to ${f==="free"?"Pro":"Enterprise"} for more widgets.`);return}const ce={type:V,title:`New ${V.replace(/_/g," ").replace(/\b\w/g,fe=>fe.toUpperCase())}`,position:C(V),data_source:"trades",data_config:{},refresh_interval:300,interactive:!0,exportable:!0,linked_widgets:[],custom_styles:{}};try{t(0,s=await lt.addWidget(P,ce)),t(5,c=!1)}catch(fe){t(3,l=fe.message||"Failed to add widget")}}async function I(V){if(!(!s||!confirm("Remove this widget?")))try{t(0,s=await lt.removeWidget(P,V))}catch(ce){t(3,l=ce.message||"Failed to remove widget")}}async function j(V,ce){if(s)try{t(0,s=await lt.updateWidget(P,V,ce));const fe=await lt.getWidgetData(P,V);m[V]=fe}catch(fe){t(3,l=fe.message||"Failed to update widget")}}function C(V){if(!s)return{x:0,y:0,width:4,height:3};const ce=$o[V]||{width:4,height:3};let fe=0;for(;;){for(let Ee=0;Ee<=rn-ce.width;Ee++){const tt={x:Ee,y:fe,...ce};if(!H(tt))return tt}fe++}}function H(V){return s?s.widgets.some(ce=>{const fe=ce.position;return!(V.x+V.width<=fe.x||V.x>=fe.x+fe.width||V.y+V.height<=fe.y||V.y>=fe.y+fe.height)}):!1}function Z(V){s&&t(0,s.widgets=V.detail.items,s)}function X(V){s&&(t(0,s.widgets=V.detail.items,s),Y())}function G(){t(4,o=!o),o?g&&(g.close(),g=null):(Q(),ae())}function Q(){g||(g=lt.streamDashboardData(P),g.onmessage=V=>{try{const ce=JSON.parse(V.data);ce.widget_data&&(m={...m,...ce.widget_data})}catch(ce){console.error("Error parsing SSE data:",ce)}},g.onerror=V=>{console.error("SSE error:",V),g==null||g.close(),g=null,setTimeout(Q,5e3)})}function W(V){return Xo[V.type]||null}function K(V){const ce=m[V.id];if(ce)return ce;const fe=Qo[V.type];return fe?fe():null}function O(V){const ce=document.querySelector(".export-dropdown");ce&&!ce.contains(V.target)&&t(11,A=!1)}cn(()=>(F(),document.addEventListener("click",O),()=>{document.removeEventListener("click",O)}));function N(V,ce,fe){V.preventDefault(),V.stopPropagation(),t(10,w=!0),b=ce,E=fe,x={x:V.clientX,y:V.clientY},D={width:ce.position.width,height:ce.position.height},document.addEventListener("mousemove",re),document.addEventListener("mouseup",se),document.body.style.cursor=fe==="e"?"ew-resize":fe==="s"?"ns-resize":"nwse-resize"}function re(V){if(!w||!b)return;const ce=Math.round((V.clientX-x.x)/(window.innerWidth/rn)),fe=Math.round((V.clientY-x.y)/vi);let Ee=D.width,tt=D.height;(E==="e"||E==="se")&&(Ee=Math.max(2,Math.min(rn-b.position.x,D.width+ce))),(E==="s"||E==="se")&&(tt=Math.max(2,D.height+fe));const Me={...b.position,width:Ee,height:tt};s.widgets.some(ct=>{if(ct.id===b.id)return!1;const Pe=ct.position;return!(Me.x+Me.width<=Pe.x||Me.x>=Pe.x+Pe.width||Me.y+Me.height<=Pe.y||Me.y>=Pe.y+Pe.height)})||(b.position.width=Ee,b.position.height=tt,t(0,s))}function se(){!w||!b||(t(10,w=!1),document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",se),document.body.style.cursor="",j(b.id,{position:b.position}),b=null)}async function J(V){try{t(12,S=!0),t(11,A=!1);const[ce,{jsPDF:fe}]=await Promise.all([xr(()=>import("../chunks/CBrSDip1.js"),[],import.meta.url),xr(()=>import("../chunks/BP_Vl66U.js").then(Pe=>Pe.j),__vite__mapDeps([0,1]),import.meta.url)]),Ee=document.querySelector(".dashboard-grid");if(!Ee)throw new Error("Dashboard grid not found");const tt=o;o&&(t(4,o=!1),await new Promise(Pe=>setTimeout(Pe,100)));const Me=await ce.default(Ee,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",windowWidth:Ee.scrollWidth,windowHeight:Ee.scrollHeight});tt&&t(4,o=!0);const bt=new Date().toISOString().split("T")[0],ct=`${(s==null?void 0:s.name)||"dashboard"}_${bt}`;if(V==="pdf"){const ut=Me.height*210/Me.width,dt=new fe.default({orientation:ut>210?"portrait":"landscape",unit:"mm"}),Pt=dt.internal.pageSize.height;let It=ut,jn=0;for(dt.addImage(Me.toDataURL("image/png"),"PNG",0,jn,210,ut),It-=Pt;It>0;)jn=It-ut,dt.addPage(),dt.addImage(Me.toDataURL("image/png"),"PNG",0,jn,210,ut),It-=Pt;dt.setProperties({title:(s==null?void 0:s.name)||"TradeSense Dashboard",subject:"Trading Dashboard Export",author:"TradeSense",keywords:"trading, dashboard, analytics",creator:"TradeSense"}),dt.save(`${ct}.pdf`)}else{const Pe=document.createElement("a");Pe.download=`${ct}.${V}`,Pe.href=Me.toDataURL(`image/${V}`,.95),Pe.click()}t(3,l="")}catch(ce){t(3,l=`Export failed: ${ce.message}`),console.error("Export error:",ce)}finally{t(12,S=!1)}}un(()=>{g&&g.close(),document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",se)});function oe(V){Ii.call(this,n,V)}const q=()=>t(5,c=!c),z=()=>t(11,A=!A),le=()=>J("pdf"),Ie=()=>J("png"),We=()=>J("jpg"),st=V=>$(V.id),Ae=V=>t(6,u=V),Je=V=>I(V.id),qe=(V,ce)=>N(ce,V,"se"),Ze=(V,ce)=>N(ce,V,"e"),et=(V,ce)=>N(ce,V,"s");function ye(){u.title=this.value,t(6,u),t(9,p)}function _t(){u.data_source=Ai(this),t(6,u),t(9,p)}function pn(){u.refresh_interval=Ws(this.value),t(6,u),t(9,p)}return[s,i,a,l,o,c,u,f,d,p,w,A,S,L,B,Y,$,I,j,Z,X,G,W,K,N,J,oe,q,z,le,Ie,We,st,Ae,Je,qe,Ze,et,ye,_t,pn,()=>t(6,u=null),()=>{u&&(j(u.id,u),t(6,u=null))},()=>t(6,u=null)]}class Zc extends Dt{constructor(e){super(),Tt(this,e,pc,hc,xt,{},null,[-1,-1,-1])}}export{Zc as component};
