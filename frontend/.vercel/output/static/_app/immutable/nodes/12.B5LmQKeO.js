import{S as Ll,i as Bl,s as zl,d as n,y as be,N as Ae,t as Wt,a as Mt,O as Pt,P as Zt,I as ol,f as Ft,h as t,z as ge,G as At,D as a,U as Ne,k as e,l as i,m as C,o as u,A as Ce,p as Z,M as kl,q as l,r as d,B as xe,v as $,w as Hl,e as Dt,n as Pe,H as Ul,J as il,T as jl,V as Oe}from"../chunks/Lbc7qOuA.js";import{e as Ze}from"../chunks/BPb2qfkA.js";import"../chunks/IHki7fMi.js";import{a as pe}from"../chunks/Dt6aPy9N.js";import{I as Ee}from"../chunks/B3HFKiyR.js";import{a as Xe}from"../chunks/CQ0428wf.js";function Tl(s,r,o){const c=s.slice();return c[44]=r[o],c}function Il(s,r,o){const c=s.slice();return c[47]=r[o],c}function wl(s){let r,o,c,v=s[8].size+"",q,D,m=s[8].size===1?"":"s",x,O,w,h,E,V="Activate",gt,z,b="Deactivate",F,T,W="Clear",Ct,J;return{c(){r=l("div"),o=l("div"),c=l("span"),q=$(v),D=$(" user"),x=$(m),O=$(" selected"),w=d(),h=l("div"),E=l("button"),E.textContent=V,gt=d(),z=l("button"),z.textContent=b,F=d(),T=l("button"),T.textContent=W,this.h()},l(k){r=e(k,"DIV",{class:!0});var S=i(r);o=e(S,"DIV",{class:!0});var et=i(o);c=e(et,"SPAN",{class:!0});var I=i(c);q=Z(I,v),D=Z(I," user"),x=Z(I,m),O=Z(I," selected"),I.forEach(n),w=u(et),h=e(et,"DIV",{class:!0});var M=i(h);E=e(M,"BUTTON",{class:!0,"data-svelte-h":!0}),C(E)!=="svelte-1ci8me7"&&(E.textContent=V),gt=u(M),z=e(M,"BUTTON",{class:!0,"data-svelte-h":!0}),C(z)!=="svelte-xi961d"&&(z.textContent=b),F=u(M),T=e(M,"BUTTON",{class:!0,"data-svelte-h":!0}),C(T)!=="svelte-1aziic4"&&(T.textContent=W),M.forEach(n),et.forEach(n),S.forEach(n),this.h()},h(){a(c,"class","text-sm font-medium text-indigo-900"),a(E,"class","btn btn-sm btn-secondary"),a(z,"class","btn btn-sm btn-secondary"),a(T,"class","btn btn-sm btn-ghost"),a(h,"class","space-x-2"),a(o,"class","flex items-center justify-between"),a(r,"class","bg-indigo-50 border border-indigo-200 rounded-lg p-4")},m(k,S){Ft(k,r,S),t(r,o),t(o,c),t(c,q),t(c,D),t(c,x),t(c,O),t(o,w),t(o,h),t(h,E),t(h,gt),t(h,z),t(h,F),t(h,T),Ct||(J=[At(E,"click",s[26]),At(z,"click",s[27]),At(T,"click",s[28])],Ct=!0)},p(k,S){S[0]&256&&v!==(v=k[8].size+"")&&Dt(q,v),S[0]&256&&m!==(m=k[8].size===1?"":"s")&&Dt(x,m)},d(k){k&&n(r),Ct=!1,Ae(J)}}}function ql(s){let r,o,c,v,q,D,m,x,O,w="User",h,E,V="Subscription",gt,z,b="Status",F,T,W="Trades",Ct,J,k="Joined",S,et,I="Last Login",M,ot,xt="Actions",vt,G,kt,lt,A,it,Vt=(s[9]-1)*ve+1+"",tt,j,st=Math.min(s[9]*ve,s[0])+"",ct,pt,rt,Et,L,R,Q,ut,f,B,dt,Y,U,at,_t,bt,X=Ze(s[5]),g=[];for(let p=0;p<X.length;p+=1)g[p]=Vl(Il(s,X,p));const Lt=p=>Wt(g[p],1,1,()=>{g[p]=null});return{c(){r=l("div"),o=l("table"),c=l("thead"),v=l("tr"),q=l("th"),D=l("input"),x=d(),O=l("th"),O.textContent=w,h=d(),E=l("th"),E.textContent=V,gt=d(),z=l("th"),z.textContent=b,F=d(),T=l("th"),T.textContent=W,Ct=d(),J=l("th"),J.textContent=k,S=d(),et=l("th"),et.textContent=I,M=d(),ot=l("th"),ot.textContent=xt,vt=d(),G=l("tbody");for(let p=0;p<g.length;p+=1)g[p].c();kt=d(),lt=l("div"),A=l("div"),it=$("Showing "),tt=$(Vt),j=$(" to "),ct=$(st),pt=$(" of "),rt=$(s[0]),Et=$(" users"),L=d(),R=l("div"),Q=l("button"),ut=$("Previous"),B=d(),dt=l("button"),Y=$("Next"),this.h()},l(p){r=e(p,"DIV",{class:!0});var N=i(r);o=e(N,"TABLE",{class:!0});var y=i(o);c=e(y,"THEAD",{});var ht=i(c);v=e(ht,"TR",{});var K=i(v);q=e(K,"TH",{});var Tt=i(q);D=e(Tt,"INPUT",{type:!0,class:!0}),Tt.forEach(n),x=u(K),O=e(K,"TH",{"data-svelte-h":!0}),C(O)!=="svelte-fgzd59"&&(O.textContent=w),h=u(K),E=e(K,"TH",{"data-svelte-h":!0}),C(E)!=="svelte-fd7z4v"&&(E.textContent=V),gt=u(K),z=e(K,"TH",{"data-svelte-h":!0}),C(z)!=="svelte-bi34jg"&&(z.textContent=b),F=u(K),T=e(K,"TH",{"data-svelte-h":!0}),C(T)!=="svelte-1wessu9"&&(T.textContent=W),Ct=u(K),J=e(K,"TH",{"data-svelte-h":!0}),C(J)!=="svelte-1aaaf0z"&&(J.textContent=k),S=u(K),et=e(K,"TH",{"data-svelte-h":!0}),C(et)!=="svelte-1cfn47r"&&(et.textContent=I),M=u(K),ot=e(K,"TH",{"data-svelte-h":!0}),C(ot)!=="svelte-7l4yjv"&&(ot.textContent=xt),K.forEach(n),ht.forEach(n),vt=u(y),G=e(y,"TBODY",{class:!0});var ft=i(G);for(let It=0;It<g.length;It+=1)g[It].l(ft);ft.forEach(n),y.forEach(n),N.forEach(n),kt=u(p),lt=e(p,"DIV",{class:!0});var P=i(lt);A=e(P,"DIV",{class:!0});var Nt=i(A);it=Z(Nt,"Showing "),tt=Z(Nt,Vt),j=Z(Nt," to "),ct=Z(Nt,st),pt=Z(Nt," of "),rt=Z(Nt,s[0]),Et=Z(Nt," users"),Nt.forEach(n),L=u(P),R=e(P,"DIV",{class:!0});var Ht=i(R);Q=e(Ht,"BUTTON",{class:!0});var mt=i(Q);ut=Z(mt,"Previous"),mt.forEach(n),B=u(Ht),dt=e(Ht,"BUTTON",{class:!0});var Qt=i(dt);Y=Z(Qt,"Next"),Qt.forEach(n),Ht.forEach(n),P.forEach(n),this.h()},h(){a(D,"type","checkbox"),D.checked=m=s[8].size===s[5].length&&s[5].length>0,a(D,"class","form-checkbox"),a(G,"class","divide-y divide-gray-200"),a(o,"class","admin-table"),a(r,"class","overflow-x-auto"),a(A,"class","text-sm text-gray-700"),Q.disabled=f=s[9]===1,a(Q,"class","btn btn-sm btn-secondary"),dt.disabled=U=s[9]===s[14],a(dt,"class","btn btn-sm btn-secondary"),a(R,"class","flex space-x-2"),a(lt,"class","mt-4 flex items-center justify-between")},m(p,N){Ft(p,r,N),t(r,o),t(o,c),t(c,v),t(v,q),t(q,D),t(v,x),t(v,O),t(v,h),t(v,E),t(v,gt),t(v,z),t(v,F),t(v,T),t(v,Ct),t(v,J),t(v,S),t(v,et),t(v,M),t(v,ot),t(o,vt),t(o,G);for(let y=0;y<g.length;y+=1)g[y]&&g[y].m(G,null);Ft(p,kt,N),Ft(p,lt,N),t(lt,A),t(A,it),t(A,tt),t(A,j),t(A,ct),t(A,pt),t(A,rt),t(A,Et),t(lt,L),t(lt,R),t(R,Q),t(Q,ut),t(R,B),t(R,dt),t(dt,Y),at=!0,_t||(bt=[At(D,"change",s[21]),At(Q,"click",s[34]),At(dt,"click",s[35])],_t=!0)},p(p,N){if((!at||N[0]&288&&m!==(m=p[8].size===p[5].length&&p[5].length>0))&&(D.checked=m),N[0]&1749280){X=Ze(p[5]);let y;for(y=0;y<X.length;y+=1){const ht=Il(p,X,y);g[y]?(g[y].p(ht,N),Mt(g[y],1)):(g[y]=Vl(ht),g[y].c(),Mt(g[y],1),g[y].m(G,null))}for(il(),y=X.length;y<g.length;y+=1)Lt(y);ol()}(!at||N[0]&512)&&Vt!==(Vt=(p[9]-1)*ve+1+"")&&Dt(tt,Vt),(!at||N[0]&513)&&st!==(st=Math.min(p[9]*ve,p[0])+"")&&Dt(ct,st),(!at||N[0]&1)&&Dt(rt,p[0]),(!at||N[0]&512&&f!==(f=p[9]===1))&&(Q.disabled=f),(!at||N[0]&16896&&U!==(U=p[9]===p[14]))&&(dt.disabled=U)},i(p){if(!at){for(let N=0;N<X.length;N+=1)Mt(g[N]);at=!0}},o(p){g=g.filter(Boolean);for(let N=0;N<g.length;N+=1)Wt(g[N]);at=!1},d(p){p&&(n(r),n(kt),n(lt)),Ul(g,p),_t=!1,Ae(bt)}}}function Ml(s){let r,o;return{c(){r=l("div"),o=$(s[7]),this.h()},l(c){r=e(c,"DIV",{class:!0});var v=i(r);o=Z(v,s[7]),v.forEach(n),this.h()},h(){a(r,"class","alert alert-error")},m(c,v){Ft(c,r,v),t(r,o)},p(c,v){v[0]&128&&Dt(o,c[7])},i:Pe,o:Pe,d(c){c&&n(r)}}}function Fl(s){let r,o='<div class="spinner svelte-178td72"></div>';return{c(){r=l("div"),r.innerHTML=o,this.h()},l(c){r=e(c,"DIV",{class:!0,"data-svelte-h":!0}),C(r)!=="svelte-1w30vql"&&(r.innerHTML=o),this.h()},h(){a(r,"class","flex justify-center py-8")},m(c,v){Ft(c,r,v)},p:Pe,i:Pe,o:Pe,d(c){c&&n(r)}}}function Vl(s){let r,o,c,v,q,D,m,x,O=s[47].full_name+"",w,h,E,V=s[47].email+"",gt,z,b,F,T=s[47].subscription_tier+"",W,Ct,J,k,S,et,I,M,ot=s[47].is_active?"Active":"Inactive",xt,vt,G,kt=(s[47].trade_count||0)+"",lt,A,it,Vt=re(s[47].created_at)+"",tt,j,st,ct=re(s[47].last_login)+"",pt,rt,Et,L,R,Q,ut,f,B,dt,Y,U,at,_t,bt,X,g,Lt,p;function N(){return s[29](s[47])}Q=new Ee({props:{name:"eye",class:"w-4 h-4"}});function y(){return s[30](s[47])}B=new Ee({props:{name:"pencil",class:"w-4 h-4"}});function ht(){return s[31](s[47])}U=new Ee({props:{name:"user-switch",class:"w-4 h-4"}});function K(){return s[32](s[47])}bt=new Ee({props:{name:"trash",class:"w-4 h-4"}});function Tt(){return s[33](s[47])}return{c(){r=l("tr"),o=l("td"),c=l("input"),q=d(),D=l("td"),m=l("div"),x=l("div"),w=$(O),h=d(),E=l("div"),gt=$(V),z=d(),b=l("td"),F=l("span"),W=$(T),J=d(),k=l("td"),S=l("span"),et=l("span"),M=d(),xt=$(ot),vt=d(),G=l("td"),lt=$(kt),A=d(),it=l("td"),tt=$(Vt),j=d(),st=l("td"),pt=$(ct),rt=d(),Et=l("td"),L=l("div"),R=l("button"),xe(Q.$$.fragment),ut=d(),f=l("button"),xe(B.$$.fragment),dt=d(),Y=l("button"),xe(U.$$.fragment),at=d(),_t=l("button"),xe(bt.$$.fragment),X=d(),this.h()},l(ft){r=e(ft,"TR",{class:!0});var P=i(r);o=e(P,"TD",{});var Nt=i(o);c=e(Nt,"INPUT",{type:!0,class:!0}),Nt.forEach(n),q=u(P),D=e(P,"TD",{});var Ht=i(D);m=e(Ht,"DIV",{});var mt=i(m);x=e(mt,"DIV",{class:!0});var Qt=i(x);w=Z(Qt,O),Qt.forEach(n),h=u(mt),E=e(mt,"DIV",{class:!0});var It=i(E);gt=Z(It,V),It.forEach(n),mt.forEach(n),Ht.forEach(n),z=u(P),b=e(P,"TD",{});var Rt=i(b);F=e(Rt,"SPAN",{class:!0});var yt=i(F);W=Z(yt,T),yt.forEach(n),Rt.forEach(n),J=u(P),k=e(P,"TD",{});var Ot=i(k);S=e(Ot,"SPAN",{class:!0});var _=i(S);et=e(_,"SPAN",{class:!0}),i(et).forEach(n),M=u(_),xt=Z(_,ot),_.forEach(n),Ot.forEach(n),vt=u(P),G=e(P,"TD",{class:!0});var H=i(G);lt=Z(H,kt),H.forEach(n),A=u(P),it=e(P,"TD",{});var Ut=i(it);tt=Z(Ut,Vt),Ut.forEach(n),j=u(P),st=e(P,"TD",{});var $t=i(st);pt=Z($t,ct),$t.forEach(n),rt=u(P),Et=e(P,"TD",{});var te=i(Et);L=e(te,"DIV",{class:!0});var wt=i(L);R=e(wt,"BUTTON",{class:!0,title:!0});var Jt=i(R);Ce(Q.$$.fragment,Jt),Jt.forEach(n),ut=u(wt),f=e(wt,"BUTTON",{class:!0,title:!0});var Yt=i(f);Ce(B.$$.fragment,Yt),Yt.forEach(n),dt=u(wt),Y=e(wt,"BUTTON",{class:!0,title:!0});var Kt=i(Y);Ce(U.$$.fragment,Kt),Kt.forEach(n),at=u(wt),_t=e(wt,"BUTTON",{class:!0,title:!0});var jt=i(_t);Ce(bt.$$.fragment,jt),jt.forEach(n),wt.forEach(n),te.forEach(n),X=u(P),P.forEach(n),this.h()},h(){a(c,"type","checkbox"),c.checked=v=s[8].has(s[47].id),a(c,"class","form-checkbox"),a(x,"class","text-sm font-medium text-gray-900"),a(E,"class","text-sm text-gray-500"),a(F,"class",Ct="px-2 py-1 text-xs font-medium rounded-full "+Sl(s[47].subscription_tier)+" svelte-178td72"),a(et,"class",I="w-2 h-2 rounded-full mr-2 "+(s[47].is_active?"bg-green-400":"bg-gray-400")),a(S,"class","flex items-center text-sm"),a(G,"class","text-center"),a(R,"class","text-indigo-600 hover:text-indigo-900"),a(R,"title","View Details"),a(f,"class","text-gray-600 hover:text-gray-900"),a(f,"title","Edit"),a(Y,"class","text-purple-600 hover:text-purple-900"),a(Y,"title","Impersonate"),a(_t,"class","text-red-600 hover:text-red-900"),a(_t,"title","Delete"),a(L,"class","flex items-center space-x-2"),a(r,"class","hover:bg-gray-50")},m(ft,P){Ft(ft,r,P),t(r,o),t(o,c),t(r,q),t(r,D),t(D,m),t(m,x),t(x,w),t(m,h),t(m,E),t(E,gt),t(r,z),t(r,b),t(b,F),t(F,W),t(r,J),t(r,k),t(k,S),t(S,et),t(S,M),t(S,xt),t(r,vt),t(r,G),t(G,lt),t(r,A),t(r,it),t(it,tt),t(r,j),t(r,st),t(st,pt),t(r,rt),t(r,Et),t(Et,L),t(L,R),ge(Q,R,null),t(L,ut),t(L,f),ge(B,f,null),t(L,dt),t(L,Y),ge(U,Y,null),t(L,at),t(L,_t),ge(bt,_t,null),t(r,X),g=!0,Lt||(p=[At(c,"change",N),At(R,"click",y),At(f,"click",ht),At(Y,"click",K),At(_t,"click",Tt)],Lt=!0)},p(ft,P){s=ft,(!g||P[0]&288&&v!==(v=s[8].has(s[47].id)))&&(c.checked=v),(!g||P[0]&32)&&O!==(O=s[47].full_name+"")&&Dt(w,O),(!g||P[0]&32)&&V!==(V=s[47].email+"")&&Dt(gt,V),(!g||P[0]&32)&&T!==(T=s[47].subscription_tier+"")&&Dt(W,T),(!g||P[0]&32&&Ct!==(Ct="px-2 py-1 text-xs font-medium rounded-full "+Sl(s[47].subscription_tier)+" svelte-178td72"))&&a(F,"class",Ct),(!g||P[0]&32&&I!==(I="w-2 h-2 rounded-full mr-2 "+(s[47].is_active?"bg-green-400":"bg-gray-400")))&&a(et,"class",I),(!g||P[0]&32)&&ot!==(ot=s[47].is_active?"Active":"Inactive")&&Dt(xt,ot),(!g||P[0]&32)&&kt!==(kt=(s[47].trade_count||0)+"")&&Dt(lt,kt),(!g||P[0]&32)&&Vt!==(Vt=re(s[47].created_at)+"")&&Dt(tt,Vt),(!g||P[0]&32)&&ct!==(ct=re(s[47].last_login)+"")&&Dt(pt,ct)},i(ft){g||(Mt(Q.$$.fragment,ft),Mt(B.$$.fragment,ft),Mt(U.$$.fragment,ft),Mt(bt.$$.fragment,ft),g=!0)},o(ft){Wt(Q.$$.fragment,ft),Wt(B.$$.fragment,ft),Wt(U.$$.fragment,ft),Wt(bt.$$.fragment,ft),g=!1},d(ft){ft&&n(r),be(Q),be(B),be(U),be(bt),Lt=!1,Ae(p)}}}function Ol(s){let r,o,c,v,q,D="User Details",m,x,O,w,h,E,V,gt="Basic Information",z,b,F,T,W="Name",Ct,J,k=s[10].user.full_name+"",S,et,I,M,ot="Email",xt,vt,G=s[10].user.email+"",kt,lt,A,it,Vt="Role",tt,j,st=s[10].user.role+"",ct,pt,rt,Et,L="Subscription",R,Q,ut,f,B="Tier",dt,Y,U=s[10].user.subscription_tier+"",at,_t,bt,X,g="Status",Lt,p,N=s[10].user.subscription_status+"",y,ht,K,Tt,ft="Started",P,Nt,Ht=re(s[10].user.subscription_started_at)+"",mt,Qt,It,Rt,yt="Activity Statistics",Ot,_,H,Ut,$t="Total Events",te,wt,Jt=s[10].statistics.total_events+"",Yt,Kt,jt,Gt,oe="Active Days",le,ee,ye=s[10].statistics.active_days+"",Se,$e,se,ie,cl="Total Sessions",tl,_e,De=s[10].statistics.total_sessions+"",Ue,el,ae,ce,ul="Last Activity",ll,he,ke=re(s[10].statistics.last_activity)+"",Le,sl,ue,de,dl="Recent Activity",al,fe,qt,nl,fl;O=new Ee({props:{name:"x",class:"w-6 h-6"}});let me=Ze(s[10].recent_activity),Bt=[];for(let nt=0;nt<me.length;nt+=1)Bt[nt]=Nl(Tl(s,me,nt));return{c(){r=l("div"),o=l("div"),c=l("div"),v=l("div"),q=l("h3"),q.textContent=D,m=d(),x=l("button"),xe(O.$$.fragment),w=d(),h=l("div"),E=l("div"),V=l("h4"),V.textContent=gt,z=d(),b=l("dl"),F=l("div"),T=l("dt"),T.textContent=W,Ct=d(),J=l("dd"),S=$(k),et=d(),I=l("div"),M=l("dt"),M.textContent=ot,xt=d(),vt=l("dd"),kt=$(G),lt=d(),A=l("div"),it=l("dt"),it.textContent=Vt,tt=d(),j=l("dd"),ct=$(st),pt=d(),rt=l("div"),Et=l("h4"),Et.textContent=L,R=d(),Q=l("dl"),ut=l("div"),f=l("dt"),f.textContent=B,dt=d(),Y=l("dd"),at=$(U),_t=d(),bt=l("div"),X=l("dt"),X.textContent=g,Lt=d(),p=l("dd"),y=$(N),ht=d(),K=l("div"),Tt=l("dt"),Tt.textContent=ft,P=d(),Nt=l("dd"),mt=$(Ht),Qt=d(),It=l("div"),Rt=l("h4"),Rt.textContent=yt,Ot=d(),_=l("div"),H=l("div"),Ut=l("p"),Ut.textContent=$t,te=d(),wt=l("p"),Yt=$(Jt),Kt=d(),jt=l("div"),Gt=l("p"),Gt.textContent=oe,le=d(),ee=l("p"),Se=$(ye),$e=d(),se=l("div"),ie=l("p"),ie.textContent=cl,tl=d(),_e=l("p"),Ue=$(De),el=d(),ae=l("div"),ce=l("p"),ce.textContent=ul,ll=d(),he=l("p"),Le=$(ke),sl=d(),ue=l("div"),de=l("h4"),de.textContent=dl,al=d(),fe=l("div");for(let nt=0;nt<Bt.length;nt+=1)Bt[nt].c();this.h()},l(nt){r=e(nt,"DIV",{class:!0});var zt=i(r);o=e(zt,"DIV",{class:!0});var St=i(o);c=e(St,"DIV",{class:!0});var Xt=i(c);v=e(Xt,"DIV",{class:!0});var Be=i(v);q=e(Be,"H3",{class:!0,"data-svelte-h":!0}),C(q)!=="svelte-1ydn81m"&&(q.textContent=D),m=u(Be),x=e(Be,"BUTTON",{class:!0});var vl=i(x);Ce(O.$$.fragment,vl),vl.forEach(n),Be.forEach(n),w=u(Xt),h=e(Xt,"DIV",{class:!0});var ze=i(h);E=e(ze,"DIV",{});var He=i(E);V=e(He,"H4",{class:!0,"data-svelte-h":!0}),C(V)!=="svelte-1l66q5x"&&(V.textContent=gt),z=u(He),b=e(He,"DL",{class:!0});var je=i(b);F=e(je,"DIV",{});var Te=i(F);T=e(Te,"DT",{class:!0,"data-svelte-h":!0}),C(T)!=="svelte-127c58n"&&(T.textContent=W),Ct=u(Te),J=e(Te,"DD",{class:!0});var _l=i(J);S=Z(_l,k),_l.forEach(n),et=u(Te),Te.forEach(n),I=e(je,"DIV",{});var Ie=i(I);M=e(Ie,"DT",{class:!0,"data-svelte-h":!0}),C(M)!=="svelte-yewdog"&&(M.textContent=ot),xt=u(Ie),vt=e(Ie,"DD",{class:!0});var hl=i(vt);kt=Z(hl,G),hl.forEach(n),lt=u(Ie),Ie.forEach(n),A=e(je,"DIV",{});var qe=i(A);it=e(qe,"DT",{class:!0,"data-svelte-h":!0}),C(it)!=="svelte-os8ojk"&&(it.textContent=Vt),tt=u(qe),j=e(qe,"DD",{class:!0});var ml=i(j);ct=Z(ml,st),ml.forEach(n),qe.forEach(n),je.forEach(n),He.forEach(n),pt=u(ze),rt=e(ze,"DIV",{});var Me=i(rt);Et=e(Me,"H4",{class:!0,"data-svelte-h":!0}),C(Et)!=="svelte-16up04a"&&(Et.textContent=L),R=u(Me),Q=e(Me,"DL",{class:!0});var Fe=i(Q);ut=e(Fe,"DIV",{});var we=i(ut);f=e(we,"DT",{class:!0,"data-svelte-h":!0}),C(f)!=="svelte-itnh5k"&&(f.textContent=B),dt=u(we),Y=e(we,"DD",{class:!0});var pl=i(Y);at=Z(pl,U),pl.forEach(n),_t=u(we),we.forEach(n),bt=e(Fe,"DIV",{});var Ve=i(bt);X=e(Ve,"DT",{class:!0,"data-svelte-h":!0}),C(X)!=="svelte-vkkie"&&(X.textContent=g),Lt=u(Ve),p=e(Ve,"DD",{class:!0});var bl=i(p);y=Z(bl,N),bl.forEach(n),ht=u(Ve),Ve.forEach(n),K=e(Fe,"DIV",{});var Re=i(K);Tt=e(Re,"DT",{class:!0,"data-svelte-h":!0}),C(Tt)!=="svelte-zjvn4r"&&(Tt.textContent=ft),P=u(Re),Nt=e(Re,"DD",{class:!0});var gl=i(Nt);mt=Z(gl,Ht),gl.forEach(n),Re.forEach(n),Fe.forEach(n),Me.forEach(n),ze.forEach(n),Qt=u(Xt),It=e(Xt,"DIV",{class:!0});var Je=i(It);Rt=e(Je,"H4",{class:!0,"data-svelte-h":!0}),C(Rt)!=="svelte-hpfgk9"&&(Rt.textContent=yt),Ot=u(Je),_=e(Je,"DIV",{class:!0});var ne=i(_);H=e(ne,"DIV",{class:!0});var Ge=i(H);Ut=e(Ge,"P",{class:!0,"data-svelte-h":!0}),C(Ut)!=="svelte-125pquc"&&(Ut.textContent=$t),te=u(Ge),wt=e(Ge,"P",{class:!0});var Cl=i(wt);Yt=Z(Cl,Jt),Cl.forEach(n),Ge.forEach(n),Kt=u(ne),jt=e(ne,"DIV",{class:!0});var Qe=i(jt);Gt=e(Qe,"P",{class:!0,"data-svelte-h":!0}),C(Gt)!=="svelte-xoigdk"&&(Gt.textContent=oe),le=u(Qe),ee=e(Qe,"P",{class:!0});var xl=i(ee);Se=Z(xl,ye),xl.forEach(n),Qe.forEach(n),$e=u(ne),se=e(ne,"DIV",{class:!0});var Ye=i(se);ie=e(Ye,"P",{class:!0,"data-svelte-h":!0}),C(ie)!=="svelte-1a6ron8"&&(ie.textContent=cl),tl=u(Ye),_e=e(Ye,"P",{class:!0});var El=i(_e);Ue=Z(El,De),El.forEach(n),Ye.forEach(n),el=u(ne),ae=e(ne,"DIV",{class:!0});var Ke=i(ae);ce=e(Ke,"P",{class:!0,"data-svelte-h":!0}),C(ce)!=="svelte-qa7aag"&&(ce.textContent=ul),ll=u(Ke),he=e(Ke,"P",{class:!0});var yl=i(he);Le=Z(yl,ke),yl.forEach(n),Ke.forEach(n),ne.forEach(n),Je.forEach(n),sl=u(Xt),ue=e(Xt,"DIV",{});var We=i(ue);de=e(We,"H4",{class:!0,"data-svelte-h":!0}),C(de)!=="svelte-1uwuytd"&&(de.textContent=dl),al=u(We),fe=e(We,"DIV",{class:!0});var Dl=i(fe);for(let rl=0;rl<Bt.length;rl+=1)Bt[rl].l(Dl);Dl.forEach(n),We.forEach(n),Xt.forEach(n),St.forEach(n),zt.forEach(n),this.h()},h(){a(q,"class","text-xl font-semibold text-gray-900"),a(x,"class","text-gray-400 hover:text-gray-600"),a(v,"class","flex justify-between items-start mb-6"),a(V,"class","font-medium text-gray-900 mb-2"),a(T,"class","text-sm text-gray-500"),a(J,"class","text-sm font-medium"),a(M,"class","text-sm text-gray-500"),a(vt,"class","text-sm font-medium"),a(it,"class","text-sm text-gray-500"),a(j,"class","text-sm font-medium capitalize"),a(b,"class","space-y-2"),a(Et,"class","font-medium text-gray-900 mb-2"),a(f,"class","text-sm text-gray-500"),a(Y,"class","text-sm font-medium capitalize"),a(X,"class","text-sm text-gray-500"),a(p,"class","text-sm font-medium"),a(Tt,"class","text-sm text-gray-500"),a(Nt,"class","text-sm font-medium"),a(Q,"class","space-y-2"),a(h,"class","grid grid-cols-2 gap-6 mb-6"),a(Rt,"class","font-medium text-gray-900 mb-2"),a(Ut,"class","text-xs text-gray-500"),a(wt,"class","text-lg font-semibold"),a(H,"class","bg-gray-50 p-3 rounded"),a(Gt,"class","text-xs text-gray-500"),a(ee,"class","text-lg font-semibold"),a(jt,"class","bg-gray-50 p-3 rounded"),a(ie,"class","text-xs text-gray-500"),a(_e,"class","text-lg font-semibold"),a(se,"class","bg-gray-50 p-3 rounded"),a(ce,"class","text-xs text-gray-500"),a(he,"class","text-lg font-semibold"),a(ae,"class","bg-gray-50 p-3 rounded"),a(_,"class","grid grid-cols-4 gap-4"),a(It,"class","mb-6"),a(de,"class","font-medium text-gray-900 mb-2"),a(fe,"class","space-y-2 max-h-48 overflow-y-auto"),a(c,"class","p-6"),a(o,"class","bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"),a(r,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(nt,zt){Ft(nt,r,zt),t(r,o),t(o,c),t(c,v),t(v,q),t(v,m),t(v,x),ge(O,x,null),t(c,w),t(c,h),t(h,E),t(E,V),t(E,z),t(E,b),t(b,F),t(F,T),t(F,Ct),t(F,J),t(J,S),t(F,et),t(b,I),t(I,M),t(I,xt),t(I,vt),t(vt,kt),t(I,lt),t(b,A),t(A,it),t(A,tt),t(A,j),t(j,ct),t(h,pt),t(h,rt),t(rt,Et),t(rt,R),t(rt,Q),t(Q,ut),t(ut,f),t(ut,dt),t(ut,Y),t(Y,at),t(ut,_t),t(Q,bt),t(bt,X),t(bt,Lt),t(bt,p),t(p,y),t(bt,ht),t(Q,K),t(K,Tt),t(K,P),t(K,Nt),t(Nt,mt),t(c,Qt),t(c,It),t(It,Rt),t(It,Ot),t(It,_),t(_,H),t(H,Ut),t(H,te),t(H,wt),t(wt,Yt),t(_,Kt),t(_,jt),t(jt,Gt),t(jt,le),t(jt,ee),t(ee,Se),t(_,$e),t(_,se),t(se,ie),t(se,tl),t(se,_e),t(_e,Ue),t(_,el),t(_,ae),t(ae,ce),t(ae,ll),t(ae,he),t(he,Le),t(c,sl),t(c,ue),t(ue,de),t(ue,al),t(ue,fe);for(let St=0;St<Bt.length;St+=1)Bt[St]&&Bt[St].m(fe,null);qt=!0,nl||(fl=At(x,"click",s[36]),nl=!0)},p(nt,zt){if((!qt||zt[0]&1024)&&k!==(k=nt[10].user.full_name+"")&&Dt(S,k),(!qt||zt[0]&1024)&&G!==(G=nt[10].user.email+"")&&Dt(kt,G),(!qt||zt[0]&1024)&&st!==(st=nt[10].user.role+"")&&Dt(ct,st),(!qt||zt[0]&1024)&&U!==(U=nt[10].user.subscription_tier+"")&&Dt(at,U),(!qt||zt[0]&1024)&&N!==(N=nt[10].user.subscription_status+"")&&Dt(y,N),(!qt||zt[0]&1024)&&Ht!==(Ht=re(nt[10].user.subscription_started_at)+"")&&Dt(mt,Ht),(!qt||zt[0]&1024)&&Jt!==(Jt=nt[10].statistics.total_events+"")&&Dt(Yt,Jt),(!qt||zt[0]&1024)&&ye!==(ye=nt[10].statistics.active_days+"")&&Dt(Se,ye),(!qt||zt[0]&1024)&&De!==(De=nt[10].statistics.total_sessions+"")&&Dt(Ue,De),(!qt||zt[0]&1024)&&ke!==(ke=re(nt[10].statistics.last_activity)+"")&&Dt(Le,ke),zt[0]&1024){me=Ze(nt[10].recent_activity);let St;for(St=0;St<me.length;St+=1){const Xt=Tl(nt,me,St);Bt[St]?Bt[St].p(Xt,zt):(Bt[St]=Nl(Xt),Bt[St].c(),Bt[St].m(fe,null))}for(;St<Bt.length;St+=1)Bt[St].d(1);Bt.length=me.length}},i(nt){qt||(Mt(O.$$.fragment,nt),qt=!0)},o(nt){Wt(O.$$.fragment,nt),qt=!1},d(nt){nt&&n(r),be(O),Ul(Bt,nt),nl=!1,fl()}}}function Nl(s){let r,o,c=s[44].event_type+"",v,q,D,m=new Date(s[44].timestamp).toLocaleString()+"",x,O;return{c(){r=l("div"),o=l("span"),v=$(c),q=d(),D=l("span"),x=$(m),O=d(),this.h()},l(w){r=e(w,"DIV",{class:!0});var h=i(r);o=e(h,"SPAN",{class:!0});var E=i(o);v=Z(E,c),E.forEach(n),q=u(h),D=e(h,"SPAN",{class:!0});var V=i(D);x=Z(V,m),V.forEach(n),O=u(h),h.forEach(n),this.h()},h(){a(o,"class","font-medium"),a(D,"class","text-gray-500 ml-2"),a(r,"class","text-sm border-l-2 border-gray-200 pl-3 py-1")},m(w,h){Ft(w,r,h),t(r,o),t(o,v),t(r,q),t(r,D),t(D,x),t(r,O)},p(w,h){h[0]&1024&&c!==(c=w[44].event_type+"")&&Dt(v,c),h[0]&1024&&m!==(m=new Date(w[44].timestamp).toLocaleString()+"")&&Dt(x,m)},d(w){w&&n(r)}}}function Pl(s){let r,o,c,v,q="Edit User",D,m,x,O,w,h="Full Name",E,V,gt,z,b,F="Email",T,W,Ct,J,k,S="Subscription Tier",et,I,M,ot="Free",xt,vt="Pro",G,kt="Premium",lt,A,it,Vt="Status",tt,j,st,ct="Active",pt,rt="Inactive",Et,L,R,Q="Cancel",ut,f,B="Save Changes",dt,Y;return{c(){r=l("div"),o=l("div"),c=l("div"),v=l("h3"),v.textContent=q,D=d(),m=l("form"),x=l("div"),O=l("div"),w=l("label"),w.textContent=h,E=d(),V=l("input"),gt=d(),z=l("div"),b=l("label"),b.textContent=F,T=d(),W=l("input"),Ct=d(),J=l("div"),k=l("label"),k.textContent=S,et=d(),I=l("select"),M=l("option"),M.textContent=ot,xt=l("option"),xt.textContent=vt,G=l("option"),G.textContent=kt,lt=d(),A=l("div"),it=l("label"),it.textContent=Vt,tt=d(),j=l("select"),st=l("option"),st.textContent=ct,pt=l("option"),pt.textContent=rt,Et=d(),L=l("div"),R=l("button"),R.textContent=Q,ut=d(),f=l("button"),f.textContent=B,this.h()},l(U){r=e(U,"DIV",{class:!0});var at=i(r);o=e(at,"DIV",{class:!0});var _t=i(o);c=e(_t,"DIV",{class:!0});var bt=i(c);v=e(bt,"H3",{class:!0,"data-svelte-h":!0}),C(v)!=="svelte-1c8al1e"&&(v.textContent=q),D=u(bt),m=e(bt,"FORM",{});var X=i(m);x=e(X,"DIV",{class:!0});var g=i(x);O=e(g,"DIV",{});var Lt=i(O);w=e(Lt,"LABEL",{class:!0,"data-svelte-h":!0}),C(w)!=="svelte-b2m0yr"&&(w.textContent=h),E=u(Lt),V=e(Lt,"INPUT",{type:!0,class:!0}),Lt.forEach(n),gt=u(g),z=e(g,"DIV",{});var p=i(z);b=e(p,"LABEL",{class:!0,"data-svelte-h":!0}),C(b)!=="svelte-1bk4tlr"&&(b.textContent=F),T=u(p),W=e(p,"INPUT",{type:!0,class:!0}),p.forEach(n),Ct=u(g),J=e(g,"DIV",{});var N=i(J);k=e(N,"LABEL",{class:!0,"data-svelte-h":!0}),C(k)!=="svelte-22zxxe"&&(k.textContent=S),et=u(N),I=e(N,"SELECT",{class:!0});var y=i(I);M=e(y,"OPTION",{"data-svelte-h":!0}),C(M)!=="svelte-88bi0a"&&(M.textContent=ot),xt=e(y,"OPTION",{"data-svelte-h":!0}),C(xt)!=="svelte-1qjiygw"&&(xt.textContent=vt),G=e(y,"OPTION",{"data-svelte-h":!0}),C(G)!=="svelte-yigl7g"&&(G.textContent=kt),y.forEach(n),N.forEach(n),lt=u(g),A=e(g,"DIV",{});var ht=i(A);it=e(ht,"LABEL",{class:!0,"data-svelte-h":!0}),C(it)!=="svelte-k3ni99"&&(it.textContent=Vt),tt=u(ht),j=e(ht,"SELECT",{class:!0});var K=i(j);st=e(K,"OPTION",{"data-svelte-h":!0}),C(st)!=="svelte-lzqo1w"&&(st.textContent=ct),pt=e(K,"OPTION",{"data-svelte-h":!0}),C(pt)!=="svelte-1tz3wgs"&&(pt.textContent=rt),K.forEach(n),ht.forEach(n),g.forEach(n),Et=u(X),L=e(X,"DIV",{class:!0});var Tt=i(L);R=e(Tt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),C(R)!=="svelte-c5m2dq"&&(R.textContent=Q),ut=u(Tt),f=e(Tt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),C(f)!=="svelte-1qfo1tb"&&(f.textContent=B),Tt.forEach(n),X.forEach(n),bt.forEach(n),_t.forEach(n),at.forEach(n),this.h()},h(){a(v,"class","text-xl font-semibold text-gray-900 mb-4"),a(w,"class","block text-sm font-medium text-gray-700 mb-1"),a(V,"type","text"),a(V,"class","form-input"),a(b,"class","block text-sm font-medium text-gray-700 mb-1"),a(W,"type","email"),a(W,"class","form-input"),a(k,"class","block text-sm font-medium text-gray-700 mb-1"),M.__value="free",Pt(M,M.__value),xt.__value="pro",Pt(xt,xt.__value),G.__value="premium",Pt(G,G.__value),a(I,"class","form-select"),s[12].subscription_tier===void 0&&Ne(()=>s[39].call(I)),a(it,"class","block text-sm font-medium text-gray-700 mb-1"),st.__value=!0,Pt(st,st.__value),pt.__value=!1,Pt(pt,pt.__value),a(j,"class","form-select"),s[12].is_active===void 0&&Ne(()=>s[40].call(j)),a(x,"class","space-y-4"),a(R,"type","button"),a(R,"class","btn btn-secondary"),a(f,"type","submit"),a(f,"class","btn btn-primary"),a(L,"class","mt-6 flex justify-end space-x-2"),a(c,"class","p-6"),a(o,"class","bg-white rounded-lg shadow-xl max-w-md w-full mx-4"),a(r,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(U,at){Ft(U,r,at),t(r,o),t(o,c),t(c,v),t(c,D),t(c,m),t(m,x),t(x,O),t(O,w),t(O,E),t(O,V),Pt(V,s[12].full_name),t(x,gt),t(x,z),t(z,b),t(z,T),t(z,W),Pt(W,s[12].email),t(x,Ct),t(x,J),t(J,k),t(J,et),t(J,I),t(I,M),t(I,xt),t(I,G),Zt(I,s[12].subscription_tier,!0),t(x,lt),t(x,A),t(A,it),t(A,tt),t(A,j),t(j,st),t(j,pt),Zt(j,s[12].is_active,!0),t(m,Et),t(m,L),t(L,R),t(L,ut),t(L,f),dt||(Y=[At(V,"input",s[37]),At(W,"input",s[38]),At(I,"change",s[39]),At(j,"change",s[40]),At(R,"click",s[41]),At(m,"submit",jl(s[42]))],dt=!0)},p(U,at){at[0]&4096&&V.value!==U[12].full_name&&Pt(V,U[12].full_name),at[0]&4096&&W.value!==U[12].email&&Pt(W,U[12].email),at[0]&4096&&Zt(I,U[12].subscription_tier),at[0]&4096&&Zt(j,U[12].is_active)},d(U){U&&n(r),dt=!1,Ae(Y)}}}function Rl(s){let r,o,c,v='<h2 class="text-2xl font-bold text-gray-900">User Management</h2> <p class="text-gray-600 mt-1">Manage users, subscriptions, and access</p>',q,D,m,x,O,w,h,E,V,gt="Search",z,b,F,T,W,Ct="Subscription",J,k,S,et="All Tiers",I,M="Free",ot,xt="Pro",vt,G="Premium",kt,lt,A,it="Status",Vt,tt,j,st="All Status",ct,pt="Active",rt,Et="Inactive",L,R="Paid Only",Q,ut,f,B="Sort By",dt,Y,U,at="Join Date",_t,bt="Last Login",X,g="Email",Lt,p,N,y,ht,K,Tt,ft,P,Nt,Ht;m=new Ee({props:{name:"user-plus",class:"w-4 h-4 mr-2"}});let mt=s[8].size>0&&wl(s);const Qt=[Fl,Ml,ql],It=[];function Rt(_,H){return _[6]?0:_[7]?1:2}y=Rt(s),ht=It[y]=Qt[y](s);let yt=s[11]&&s[10]&&Ol(s),Ot=s[13]&&s[12]&&Pl(s);return{c(){r=l("div"),o=l("div"),c=l("div"),c.innerHTML=v,q=d(),D=l("button"),xe(m.$$.fragment),x=$(`
            Add User`),O=d(),w=l("div"),h=l("div"),E=l("div"),V=l("label"),V.textContent=gt,z=d(),b=l("input"),F=d(),T=l("div"),W=l("label"),W.textContent=Ct,J=d(),k=l("select"),S=l("option"),S.textContent=et,I=l("option"),I.textContent=M,ot=l("option"),ot.textContent=xt,vt=l("option"),vt.textContent=G,kt=d(),lt=l("div"),A=l("label"),A.textContent=it,Vt=d(),tt=l("select"),j=l("option"),j.textContent=st,ct=l("option"),ct.textContent=pt,rt=l("option"),rt.textContent=Et,L=l("option"),L.textContent=R,Q=d(),ut=l("div"),f=l("label"),f.textContent=B,dt=d(),Y=l("select"),U=l("option"),U.textContent=at,_t=l("option"),_t.textContent=bt,X=l("option"),X.textContent=g,Lt=d(),mt&&mt.c(),p=d(),N=l("div"),ht.c(),K=d(),yt&&yt.c(),Tt=d(),Ot&&Ot.c(),ft=kl(),this.h()},l(_){r=e(_,"DIV",{class:!0});var H=i(r);o=e(H,"DIV",{class:!0});var Ut=i(o);c=e(Ut,"DIV",{"data-svelte-h":!0}),C(c)!=="svelte-9kyltl"&&(c.innerHTML=v),q=u(Ut),D=e(Ut,"BUTTON",{class:!0});var $t=i(D);Ce(m.$$.fragment,$t),x=Z($t,`
            Add User`),$t.forEach(n),Ut.forEach(n),O=u(H),w=e(H,"DIV",{class:!0});var te=i(w);h=e(te,"DIV",{class:!0});var wt=i(h);E=e(wt,"DIV",{});var Jt=i(E);V=e(Jt,"LABEL",{class:!0,"data-svelte-h":!0}),C(V)!=="svelte-1jzx6rj"&&(V.textContent=gt),z=u(Jt),b=e(Jt,"INPUT",{type:!0,placeholder:!0,class:!0}),Jt.forEach(n),F=u(wt),T=e(wt,"DIV",{});var Yt=i(T);W=e(Yt,"LABEL",{class:!0,"data-svelte-h":!0}),C(W)!=="svelte-16gx56i"&&(W.textContent=Ct),J=u(Yt),k=e(Yt,"SELECT",{class:!0});var Kt=i(k);S=e(Kt,"OPTION",{"data-svelte-h":!0}),C(S)!=="svelte-hapxyy"&&(S.textContent=et),I=e(Kt,"OPTION",{"data-svelte-h":!0}),C(I)!=="svelte-88bi0a"&&(I.textContent=M),ot=e(Kt,"OPTION",{"data-svelte-h":!0}),C(ot)!=="svelte-1qjiygw"&&(ot.textContent=xt),vt=e(Kt,"OPTION",{"data-svelte-h":!0}),C(vt)!=="svelte-yigl7g"&&(vt.textContent=G),Kt.forEach(n),Yt.forEach(n),kt=u(wt),lt=e(wt,"DIV",{});var jt=i(lt);A=e(jt,"LABEL",{class:!0,"data-svelte-h":!0}),C(A)!=="svelte-k3ni99"&&(A.textContent=it),Vt=u(jt),tt=e(jt,"SELECT",{class:!0});var Gt=i(tt);j=e(Gt,"OPTION",{"data-svelte-h":!0}),C(j)!=="svelte-6joivz"&&(j.textContent=st),ct=e(Gt,"OPTION",{"data-svelte-h":!0}),C(ct)!=="svelte-1mh57he"&&(ct.textContent=pt),rt=e(Gt,"OPTION",{"data-svelte-h":!0}),C(rt)!=="svelte-okme9y"&&(rt.textContent=Et),L=e(Gt,"OPTION",{"data-svelte-h":!0}),C(L)!=="svelte-10mt6j2"&&(L.textContent=R),Gt.forEach(n),jt.forEach(n),Q=u(wt),ut=e(wt,"DIV",{});var oe=i(ut);f=e(oe,"LABEL",{class:!0,"data-svelte-h":!0}),C(f)!=="svelte-1s3i26o"&&(f.textContent=B),dt=u(oe),Y=e(oe,"SELECT",{class:!0});var le=i(Y);U=e(le,"OPTION",{"data-svelte-h":!0}),C(U)!=="svelte-qx1ffk"&&(U.textContent=at),_t=e(le,"OPTION",{"data-svelte-h":!0}),C(_t)!=="svelte-1t4xd4b"&&(_t.textContent=bt),X=e(le,"OPTION",{"data-svelte-h":!0}),C(X)!=="svelte-1g2qjrq"&&(X.textContent=g),le.forEach(n),oe.forEach(n),wt.forEach(n),te.forEach(n),Lt=u(H),mt&&mt.l(H),p=u(H),N=e(H,"DIV",{class:!0});var ee=i(N);ht.l(ee),ee.forEach(n),H.forEach(n),K=u(_),yt&&yt.l(_),Tt=u(_),Ot&&Ot.l(_),ft=kl(),this.h()},h(){a(D,"class","btn btn-primary"),a(o,"class","flex justify-between items-center"),a(V,"class","block text-sm font-medium text-gray-700 mb-1"),a(b,"type","text"),a(b,"placeholder","Email or name..."),a(b,"class","form-input"),a(W,"class","block text-sm font-medium text-gray-700 mb-1"),S.__value="",Pt(S,S.__value),I.__value="free",Pt(I,I.__value),ot.__value="pro",Pt(ot,ot.__value),vt.__value="premium",Pt(vt,vt.__value),a(k,"class","form-select"),s[2]===void 0&&Ne(()=>s[23].call(k)),a(A,"class","block text-sm font-medium text-gray-700 mb-1"),j.__value="",Pt(j,j.__value),ct.__value="active",Pt(ct,ct.__value),rt.__value="inactive",Pt(rt,rt.__value),L.__value="paid",Pt(L,L.__value),a(tt,"class","form-select"),s[3]===void 0&&Ne(()=>s[24].call(tt)),a(f,"class","block text-sm font-medium text-gray-700 mb-1"),U.__value="created_at",Pt(U,U.__value),_t.__value="last_login",Pt(_t,_t.__value),X.__value="email",Pt(X,X.__value),a(Y,"class","form-select"),s[4]===void 0&&Ne(()=>s[25].call(Y)),a(h,"class","grid grid-cols-1 md:grid-cols-4 gap-4"),a(w,"class","admin-card"),a(N,"class","admin-card"),a(r,"class","space-y-6")},m(_,H){Ft(_,r,H),t(r,o),t(o,c),t(o,q),t(o,D),ge(m,D,null),t(D,x),t(r,O),t(r,w),t(w,h),t(h,E),t(E,V),t(E,z),t(E,b),Pt(b,s[1]),t(h,F),t(h,T),t(T,W),t(T,J),t(T,k),t(k,S),t(k,I),t(k,ot),t(k,vt),Zt(k,s[2],!0),t(h,kt),t(h,lt),t(lt,A),t(lt,Vt),t(lt,tt),t(tt,j),t(tt,ct),t(tt,rt),t(tt,L),Zt(tt,s[3],!0),t(h,Q),t(h,ut),t(ut,f),t(ut,dt),t(ut,Y),t(Y,U),t(Y,_t),t(Y,X),Zt(Y,s[4],!0),t(r,Lt),mt&&mt.m(r,null),t(r,p),t(r,N),It[y].m(N,null),Ft(_,K,H),yt&&yt.m(_,H),Ft(_,Tt,H),Ot&&Ot.m(_,H),Ft(_,ft,H),P=!0,Nt||(Ht=[At(b,"input",s[22]),At(k,"change",s[23]),At(tt,"change",s[24]),At(Y,"change",s[25])],Nt=!0)},p(_,H){H[0]&2&&b.value!==_[1]&&Pt(b,_[1]),H[0]&4&&Zt(k,_[2]),H[0]&8&&Zt(tt,_[3]),H[0]&16&&Zt(Y,_[4]),_[8].size>0?mt?mt.p(_,H):(mt=wl(_),mt.c(),mt.m(r,p)):mt&&(mt.d(1),mt=null);let Ut=y;y=Rt(_),y===Ut?It[y].p(_,H):(il(),Wt(It[Ut],1,1,()=>{It[Ut]=null}),ol(),ht=It[y],ht?ht.p(_,H):(ht=It[y]=Qt[y](_),ht.c()),Mt(ht,1),ht.m(N,null)),_[11]&&_[10]?yt?(yt.p(_,H),H[0]&3072&&Mt(yt,1)):(yt=Ol(_),yt.c(),Mt(yt,1),yt.m(Tt.parentNode,Tt)):yt&&(il(),Wt(yt,1,1,()=>{yt=null}),ol()),_[13]&&_[12]?Ot?Ot.p(_,H):(Ot=Pl(_),Ot.c(),Ot.m(ft.parentNode,ft)):Ot&&(Ot.d(1),Ot=null)},i(_){P||(Mt(m.$$.fragment,_),Mt(ht),Mt(yt),P=!0)},o(_){Wt(m.$$.fragment,_),Wt(ht),Wt(yt),P=!1},d(_){_&&(n(r),n(K),n(Tt),n(ft)),be(m),mt&&mt.d(),It[y].d(),yt&&yt.d(_),Ot&&Ot.d(_),Nt=!1,Ae(Ht)}}}let ve=50,Al="desc";function re(s){return s?new Date(s).toLocaleDateString():"Never"}function Sl(s){switch(s){case"premium":return"bg-purple-100 text-purple-800";case"pro":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}}function Jl(s,r,o){let c,v=[],q=!0,D=null,m=new Set,x=1,O=0,w="",h="",E="",V="created_at",gt=null,z=!1,b=null,F=!1;async function T(){try{o(6,q=!0),o(7,D=null);const f=(x-1)*ve,B=new URLSearchParams({skip:f,limit:ve,sort_by:V,sort_order:Al});w&&B.append("search",w),h&&B.append("subscription_tier",h),E&&B.append("status",E);const dt=await pe.get(`/admin/users?${B}`);o(5,v=dt.users),o(0,O=dt.total)}catch(f){o(7,D=f.message||"Failed to load users")}finally{o(6,q=!1)}}async function W(f){try{const B=await pe.get(`/admin/users/${f}`);o(10,gt=B),o(11,z=!0),Xe.trackAction("view_user_details","admin",{user_id:f})}catch(B){o(7,D=B.message||"Failed to load user details")}}async function Ct(f,B){try{await pe.put(`/admin/users/${f}`,B),await T(),o(13,F=!1),o(12,b=null),Xe.trackAction("update_user","admin",{user_id:f})}catch(dt){o(7,D=dt.message||"Failed to update user")}}async function J(f){if(confirm("Are you sure you want to delete this user?"))try{await pe.delete(`/admin/users/${f}`),await T(),Xe.trackAction("delete_user","admin",{user_id:f})}catch(B){o(7,D=B.message||"Failed to delete user")}}async function k(f){if(m.size===0){alert("Please select users first");return}try{await pe.post("/admin/users/bulk-action",{user_ids:Array.from(m),action:f}),m.clear(),await T(),Xe.trackAction("bulk_action","admin",{action:f,user_count:m.size})}catch(B){o(7,D=B.message||"Failed to perform bulk action")}}async function S(f){if(confirm("Are you sure you want to impersonate this user?"))try{const B=await pe.post(`/admin/users/${f}/impersonate`);localStorage.setItem("impersonation_token",B.token),localStorage.setItem("impersonated_user",JSON.stringify(B.user)),window.location.href="/dashboard"}catch(B){o(7,D=B.message||"Failed to impersonate user")}}function et(f){m.has(f)?m.delete(f):m.add(f),o(8,m)}function I(){m.size===v.length?m.clear():v.forEach(f=>m.add(f.id)),o(8,m)}Hl(()=>{T()});function M(){w=this.value,o(1,w)}function ot(){h=Oe(this),o(2,h)}function xt(){E=Oe(this),o(3,E)}function vt(){V=Oe(this),o(4,V)}const G=()=>k("activate"),kt=()=>k("deactivate"),lt=()=>m.clear(),A=f=>et(f.id),it=f=>W(f.id),Vt=f=>{o(12,b=f),o(13,F=!0)},tt=f=>S(f.id),j=f=>J(f.id),st=()=>o(9,x--,x),ct=()=>o(9,x++,x),pt=()=>{o(11,z=!1),o(10,gt=null)};function rt(){b.full_name=this.value,o(12,b)}function Et(){b.email=this.value,o(12,b)}function L(){b.subscription_tier=Oe(this),o(12,b)}function R(){b.is_active=Oe(this),o(12,b)}const Q=()=>{o(13,F=!1),o(12,b=null)},ut=()=>Ct(b.id,b);return s.$$.update=()=>{s.$$.dirty[0]&1&&o(14,c=Math.ceil(O/ve)),s.$$.dirty[0]&30&&(w!==void 0||h!==void 0||E!==void 0||V||Al)&&(o(9,x=1),T())},[O,w,h,E,V,v,q,D,m,x,gt,z,b,F,c,W,Ct,J,k,S,et,I,M,ot,xt,vt,G,kt,lt,A,it,Vt,tt,j,st,ct,pt,rt,Et,L,R,Q,ut]}class Zl extends Ll{constructor(r){super(),Bl(this,r,Jl,Rl,zl,{},null,[-1,-1])}}export{Zl as component};
